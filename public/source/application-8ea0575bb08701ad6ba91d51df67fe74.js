(function(e,t){function H(e){var t=e.length,n=w.type(e);return w.isWindow(e)?!1:e.nodeType===1&&t?!0:n==="array"||n!=="function"&&(t===0||typeof t=="number"&&t>0&&t-1 in e)}function j(e){var t=B[e]={};return w.each(e.match(S)||[],function(e,n){t[n]=!0}),t}function q(e,n,r,i){if(!w.acceptData(e))return;var s,o,u=w.expando,a=e.nodeType,f=a?w.cache:e,l=a?e[u]:e[u]&&u;if((!l||!f[l]||!i&&!f[l].data)&&r===t&&typeof n=="string")return;l||(a?l=e[u]=c.pop()||w.guid++:l=u),f[l]||(f[l]=a?{}:{toJSON:w.noop});if(typeof n=="object"||typeof n=="function")i?f[l]=w.extend(f[l],n):f[l].data=w.extend(f[l].data,n);return o=f[l],i||(o.data||(o.data={}),o=o.data),r!==t&&(o[w.camelCase(n)]=r),typeof n=="string"?(s=o[n],s==null&&(s=o[w.camelCase(n)])):s=o,s}function R(e,t,n){if(!w.acceptData(e))return;var r,i,s=e.nodeType,o=s?w.cache:e,u=s?e[w.expando]:w.expando;if(!o[u])return;if(t){r=n?o[u]:o[u].data;if(r){w.isArray(t)?t=t.concat(w.map(t,w.camelCase)):t in r?t=[t]:(t=w.camelCase(t),t in r?t=[t]:t=t.split(" ")),i=t.length;while(i--)delete r[t[i]];if(n?!z(r):!w.isEmptyObject(r))return}}if(!n){delete o[u].data;if(!z(o[u]))return}s?w.cleanData([e],!0):w.support.deleteExpando||o!=o.window?delete o[u]:o[u]=null}function U(e,n,r){if(r===t&&e.nodeType===1){var i="data-"+n.replace(I,"-$1").toLowerCase();r=e.getAttribute(i);if(typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:F.test(r)?w.parseJSON(r):r}catch(s){}w.data(e,n,r)}else r=t}return r}function z(e){var t;for(t in e){if(t==="data"&&w.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}function it(){return!0}function st(){return!1}function ot(){try{return o.activeElement}catch(e){}}function ct(e,t){do e=e[t];while(e&&e.nodeType!==1);return e}function ht(e,t,n){if(w.isFunction(t))return w.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return w.grep(e,function(e){return e===t!==n});if(typeof t=="string"){if(ut.test(t))return w.filter(t,e,n);t=w.filter(t,e)}return w.grep(e,function(e){return w.inArray(e,t)>=0!==n})}function pt(e){var t=dt.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function Mt(e,t){return w.nodeName(e,"table")&&w.nodeName(t.nodeType===1?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function _t(e){return e.type=(w.find.attr(e,"type")!==null)+"/"+e.type,e}function Dt(e){var t=Ct.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Pt(e,t){var n,r=0;for(;(n=e[r])!=null;r++)w._data(n,"globalEval",!t||w._data(t[r],"globalEval"))}function Ht(e,t){if(t.nodeType!==1||!w.hasData(e))return;var n,r,i,s=w._data(e),o=w._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;r<i;r++)w.event.add(t,n,u[n][r])}o.data&&(o.data=w.extend({},o.data))}function Bt(e,t){var n,r,i;if(t.nodeType!==1)return;n=t.nodeName.toLowerCase();if(!w.support.noCloneEvent&&t[w.expando]){i=w._data(t);for(r in i.events)w.removeEvent(t,r,i.handle);t.removeAttribute(w.expando)}if(n==="script"&&t.text!==e.text)_t(t).text=e.text,Dt(t);else if(n==="object")t.parentNode&&(t.outerHTML=e.outerHTML),w.support.html5Clone&&e.innerHTML&&!w.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML);else if(n==="input"&&xt.test(e.type))t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value);else if(n==="option")t.defaultSelected=t.selected=e.defaultSelected;else if(n==="input"||n==="textarea")t.defaultValue=e.defaultValue}function jt(e,n){var r,s,o=0,u=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||"*"):t;if(!u)for(u=[],r=e.childNodes||e;(s=r[o])!=null;o++)!n||w.nodeName(s,n)?u.push(s):w.merge(u,jt(s,n));return n===t||n&&w.nodeName(e,n)?w.merge([e],u):u}function Ft(e){xt.test(e.type)&&(e.defaultChecked=e.checked)}function tn(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;while(i--){t=en[i]+n;if(t in e)return t}return r}function nn(e,t){return e=t||e,w.css(e,"display")==="none"||!w.contains(e.ownerDocument,e)}function rn(e,t){var n,r,i,s=[],o=0,u=e.length;for(;o<u;o++){r=e[o];if(!r.style)continue;s[o]=w._data(r,"olddisplay"),n=r.style.display,t?(!s[o]&&n==="none"&&(r.style.display=""),r.style.display===""&&nn(r)&&(s[o]=w._data(r,"olddisplay",an(r.nodeName)))):s[o]||(i=nn(r),(n&&n!=="none"||!i)&&w._data(r,"olddisplay",i?n:w.css(r,"display")))}for(o=0;o<u;o++){r=e[o];if(!r.style)continue;if(!t||r.style.display==="none"||r.style.display==="")r.style.display=t?s[o]||"":"none"}return e}function sn(e,t,n){var r=$t.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function on(e,t,n,r,i){var s=n===(r?"border":"content")?4:t==="width"?1:0,o=0;for(;s<4;s+=2)n==="margin"&&(o+=w.css(e,n+Zt[s],!0,i)),r?(n==="content"&&(o-=w.css(e,"padding"+Zt[s],!0,i)),n!=="margin"&&(o-=w.css(e,"border"+Zt[s]+"Width",!0,i))):(o+=w.css(e,"padding"+Zt[s],!0,i),n!=="padding"&&(o+=w.css(e,"border"+Zt[s]+"Width",!0,i)));return o}function un(e,t,n){var r=!0,i=t==="width"?e.offsetWidth:e.offsetHeight,s=qt(e),o=w.support.boxSizing&&w.css(e,"boxSizing",!1,s)==="border-box";if(i<=0||i==null){i=Rt(e,t,s);if(i<0||i==null)i=e.style[t];if(Jt.test(i))return i;r=o&&(w.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+on(e,t,n||(o?"border":"content"),r,s)+"px"}function an(e){var t=o,n=Qt[e];if(!n){n=fn(e,t);if(n==="none"||!n)It=(It||w("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(It[0].contentWindow||It[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=fn(e,t),It.detach();Qt[e]=n}return n}function fn(e,t){var n=w(t.createElement(e)).appendTo(t.body),r=w.css(n[0],"display");return n.remove(),r}function vn(e,t,n,r){var i;if(w.isArray(t))w.each(t,function(t,i){n||cn.test(e)?r(e,i):vn(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&w.type(t)==="object")for(i in t)vn(e+"["+i+"]",t[i],n,r);else r(e,t)}function _n(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(S)||[];if(w.isFunction(n))while(r=s[i++])r[0]==="+"?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Dn(e,t,n,r){function o(u){var a;return i[u]=!0,w.each(e[u]||[],function(e,u){var f=u(t,n,r);if(typeof f=="string"&&!s&&!i[f])return t.dataTypes.unshift(f),o(f),!1;if(s)return!(a=f)}),a}var i={},s=e===An;return o(t.dataTypes[0])||!i["*"]&&o("*")}function Pn(e,n){var r,i,s=w.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((s[i]?e:r||(r={}))[i]=n[i]);return r&&w.extend(!0,e,r),e}function Hn(e,n,r){var i,s,o,u,a=e.contents,f=e.dataTypes;while(f[0]==="*")f.shift(),s===t&&(s=e.mimeType||n.getResponseHeader("Content-Type"));if(s)for(u in a)if(a[u]&&a[u].test(s)){f.unshift(u);break}if(f[0]in r)o=f[0];else{for(u in r){if(!f[0]||e.converters[u+" "+f[0]]){o=u;break}i||(i=u)}o=o||i}if(o)return o!==f[0]&&f.unshift(o),r[o]}function Bn(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];s=l.shift();while(s){e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift();if(s)if(s==="*")s=a;else if(a!=="*"&&a!==s){o=f[a+" "+s]||f["* "+s];if(!o)for(i in f){u=i.split(" ");if(u[1]===s){o=f[a+" "+u[0]]||f["* "+u[0]];if(o){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}}}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}}return{state:"success",data:t}}function zn(){try{return new e.XMLHttpRequest}catch(t){}}function Wn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function Yn(){return setTimeout(function(){Xn=t}),Xn=w.now()}function Zn(e,t,n){var r,i=(Gn[t]||[]).concat(Gn["*"]),s=0,o=i.length;for(;s<o;s++)if(r=i[s].call(n,t,e))return r}function er(e,t,n){var r,i,s=0,o=Qn.length,u=w.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;var t=Xn||Yn(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;for(;o<a;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),s<1&&a?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Yn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=w.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;i=!0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;tr(l,f.opts.specialEasing);for(;s<o;s++){r=Qn[s].call(f,e,l,f.opts);if(r)return r}return w.map(l,Zn,f),w.isFunction(f.opts.start)&&f.opts.start.call(e,f),w.fx.timer(w.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function tr(e,t){var n,r,i,s,o;for(n in e){r=w.camelCase(n),i=t[r],s=e[n],w.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=w.cssHooks[r];if(o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function nr(e,t,n){var r,i,s,o,u,a,f=this,l={},c=e.style,h=e.nodeType&&nn(e),p=w._data(e,"fxshow");n.queue||(u=w._queueHooks(e,"fx"),u.unqueued==null&&(u.unqueued=0,a=u.empty.fire,u.empty.fire=function(){u.unqueued||a()}),u.unqueued++,f.always(function(){f.always(function(){u.unqueued--,w.queue(e,"fx").length||u.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[c.overflow,c.overflowX,c.overflowY],w.css(e,"display")==="inline"&&w.css(e,"float")==="none"&&(!w.support.inlineBlockNeedsLayout||an(e.nodeName)==="inline"?c.display="inline-block":c.zoom=1)),n.overflow&&(c.overflow="hidden",w.support.shrinkWrapBlocks||f.always(function(){c.overflow=n.overflow[0],c.overflowX=n.overflow[1],c.overflowY=n.overflow[2]}));for(r in t){i=t[r];if($n.exec(i)){delete t[r],s=s||i==="toggle";if(i===(h?"hide":"show"))continue;l[r]=p&&p[r]||w.style(e,r)}}if(!w.isEmptyObject(l)){p?"hidden"in p&&(h=p.hidden):p=w._data(e,"fxshow",{}),s&&(p.hidden=!h),h?w(e).show():f.done(function(){w(e).hide()}),f.done(function(){var t;w._removeData(e,"fxshow");for(t in l)w.style(e,t,l[t])});for(r in l)o=Zn(h?p[r]:0,r,f),r in p||(p[r]=o.start,h&&(o.end=o.start,o.start=r==="width"||r==="height"?1:0))}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)}function ir(e,t){var n,r={height:e},i=0;t=t?1:0;for(;i<4;i+=2-t)n=Zt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function sr(e){return w.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var n,r,i=typeof t,s=e.location,o=e.document,u=o.documentElement,a=e.jQuery,f=e.$,l={},c=[],h="1.10.2",p=c.concat,d=c.push,v=c.slice,m=c.indexOf,g=l.toString,y=l.hasOwnProperty,b=h.trim,w=function(e,t){return new w.fn.init(e,t,r)},E=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,S=/\S+/g,x=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,T=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,N=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,C=/^[\],:{}\s]*$/,k=/(?:^|:|,)(?:\s*\[)+/g,L=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,A=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,O=/^-ms-/,M=/-([\da-z])/gi,_=function(e,t){return t.toUpperCase()},D=function(e){if(o.addEventListener||e.type==="load"||o.readyState==="complete")P(),w.ready()},P=function(){o.addEventListener?(o.removeEventListener("DOMContentLoaded",D,!1),e.removeEventListener("load",D,!1)):(o.detachEvent("onreadystatechange",D),e.detachEvent("onload",D))};w.fn=w.prototype={jquery:h,constructor:w,init:function(e,n,r){var i,s;if(!e)return this;if(typeof e=="string"){e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?i=[null,e,null]:i=T.exec(e);if(i&&(i[1]||!n)){if(i[1]){n=n instanceof w?n[0]:n,w.merge(this,w.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:o,!0));if(N.test(i[1])&&w.isPlainObject(n))for(i in n)w.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}s=o.getElementById(i[2]);if(s&&s.parentNode){if(s.id!==i[2])return r.find(e);this.length=1,this[0]=s}return this.context=o,this.selector=e,this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}return e.nodeType?(this.context=this[0]=e,this.length=1,this):w.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),w.makeArray(e,this))},selector:"",length:0,toArray:function(){return v.call(this)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return w.each(this,e,t)},ready:function(e){return w.ready.promise().done(e),this},slice:function(){return this.pushStack(v.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},map:function(e){return this.pushStack(w.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:d,sort:[].sort,splice:[].splice},w.fn.init.prototype=w.fn,w.extend=w.fn.extend=function(){var e,n,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;typeof u=="boolean"&&(l=u,u=arguments[1]||{},a=2),typeof u!="object"&&!w.isFunction(u)&&(u={}),f===a&&(u=this,--a);for(;a<f;a++)if((s=arguments[a])!=null)for(i in s){e=u[i],r=s[i];if(u===r)continue;l&&r&&(w.isPlainObject(r)||(n=w.isArray(r)))?(n?(n=!1,o=e&&w.isArray(e)?e:[]):o=e&&w.isPlainObject(e)?e:{},u[i]=w.extend(l,o,r)):r!==t&&(u[i]=r)}return u},w.extend({expando:"jQuery"+(h+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===w&&(e.$=f),t&&e.jQuery===w&&(e.jQuery=a),w},isReady:!1,readyWait:1,holdReady:function(e){e?w.readyWait++:w.ready(!0)},ready:function(e){if(e===!0?--w.readyWait:w.isReady)return;if(!o.body)return setTimeout(w.ready);w.isReady=!0;if(e!==!0&&--w.readyWait>0)return;n.resolveWith(o,[w]),w.fn.trigger&&w(o).trigger("ready").off("ready")},isFunction:function(e){return w.type(e)==="function"},isArray:Array.isArray||function(e){return w.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):typeof e=="object"||typeof e=="function"?l[g.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||w.type(e)!=="object"||e.nodeType||w.isWindow(e))return!1;try{if(e.constructor&&!y.call(e,"constructor")&&!y.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}if(w.support.ownLast)for(n in e)return y.call(e,n);for(n in e);return n===t||y.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(n=t,t=!1),t=t||o;var r=N.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=w.buildFragment([e],t,i),i&&w(i).remove(),w.merge([],r.childNodes))},parseJSON:function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(t===null)return t;if(typeof t=="string"){t=w.trim(t);if(t&&C.test(t.replace(L,"@").replace(A,"]").replace(k,"")))return(new Function("return "+t))()}w.error("Invalid JSON: "+t)},parseXML:function(n){var r,i;if(!n||typeof n!="string")return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(s){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&w.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&w.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(O,"ms-").replace(M,_)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,s=e.length,o=H(e);if(n)if(o)for(;i<s;i++){r=t.apply(e[i],n);if(r===!1)break}else for(i in e){r=t.apply(e[i],n);if(r===!1)break}else if(o)for(;i<s;i++){r=t.call(e[i],i,e[i]);if(r===!1)break}else for(i in e){r=t.call(e[i],i,e[i]);if(r===!1)break}return e},trim:b&&!b.call("﻿ ")?function(e){return e==null?"":b.call(e)}:function(e){return e==null?"":(e+"").replace(x,"")},makeArray:function(e,t){var n=t||[];return e!=null&&(H(Object(e))?w.merge(n,typeof e=="string"?[e]:e):d.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(m)return m.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,s=0;if(typeof r=="number")for(;s<r;s++)e[i++]=n[s];else while(n[s]!==t)e[i++]=n[s++];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;n=!!n;for(;s<o;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},map:function(e,t,n){var r,i=0,s=e.length,o=H(e),u=[];if(o)for(;i<s;i++)r=t(e[i],i,n),r!=null&&(u[u.length]=r);else for(i in e)r=t(e[i],i,n),r!=null&&(u[u.length]=r);return p.apply([],u)},guid:1,proxy:function(e,n){var r,i,s;return typeof n=="string"&&(s=e[n],n=e,e=s),w.isFunction(e)?(r=v.call(arguments,2),i=function(){return e.apply(n||this,r.concat(v.call(arguments)))},i.guid=e.guid=e.guid||w.guid++,i):t},access:function(e,n,r,i,s,o,u){var a=0,f=e.length,l=r==null;if(w.type(r)==="object"){s=!0;for(a in r)w.access(e,n,a,r[a],!0,o,u)}else if(i!==t){s=!0,w.isFunction(i)||(u=!0),l&&(u?(n.call(e,i),n=null):(l=n,n=function(e,t,n){return l.call(w(e),n)}));if(n)for(;a<f;a++)n(e[a],r,u?i:i.call(e[a],a,n(e[a],r)))}return s?e:l?n.call(e):f?n(e[0],r):o},now:function(){return(new Date).getTime()},swap:function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i}}),w.ready.promise=function(t){if(!n){n=w.Deferred();if(o.readyState==="complete")setTimeout(w.ready);else if(o.addEventListener)o.addEventListener("DOMContentLoaded",D,!1),e.addEventListener("load",D,!1);else{o.attachEvent("onreadystatechange",D),e.attachEvent("onload",D);var r=!1;try{r=e.frameElement==null&&o.documentElement}catch(i){}r&&r.doScroll&&function s(){if(!w.isReady){try{r.doScroll("left")}catch(e){return setTimeout(s,50)}P(),w.ready()}}()}}return n.promise(t)},w.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()}),r=w(o),function(e,t){function ot(e,t,n,i){var s,o,u,a,f,l,p,m,g,w;(t?t.ownerDocument||t:E)!==h&&c(t),t=t||h,n=n||[];if(!e||typeof e!="string")return n;if((a=t.nodeType)!==1&&a!==9)return[];if(d&&!i){if(s=Z.exec(e))if(u=s[1]){if(a===9){o=t.getElementById(u);if(!o||!o.parentNode)return n;if(o.id===u)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(u))&&y(t,o)&&o.id===u)return n.push(o),n}else{if(s[2])return H.apply(n,t.getElementsByTagName(e)),n;if((u=s[3])&&r.getElementsByClassName&&t.getElementsByClassName)return H.apply(n,t.getElementsByClassName(u)),n}if(r.qsa&&(!v||!v.test(e))){m=p=b,g=t,w=a===9&&e;if(a===1&&t.nodeName.toLowerCase()!=="object"){l=mt(e),(p=t.getAttribute("id"))?m=p.replace(nt,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",f=l.length;while(f--)l[f]=m+gt(l[f]);g=$.test(e)&&t.parentNode||t,w=l.join(",")}if(w)try{return H.apply(n,g.querySelectorAll(w)),n}catch(S){}finally{p||t.removeAttribute("id")}}}return Nt(e.replace(W,"$1"),t,n,i)}function ut(){function t(n,r){return e.push(n+=" ")>s.cacheLength&&delete t[e.shift()],t[n]=r}var e=[];return t}function at(e){return e[b]=!0,e}function ft(e){var t=h.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function lt(e,t){var n=e.split("|"),r=e.length;while(r--)s.attrHandle[n[r]]=t}function ct(e,t){var n=t&&e,r=n&&e.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||O)-(~e.sourceIndex||O);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ht(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function pt(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function dt(e){return at(function(t){return t=+t,at(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function vt(){}function mt(e,t){var n,r,i,o,u,a,f,l=N[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=s.preFilter;while(u){if(!n||(r=X.exec(u)))r&&(u=u.slice(r[0].length)||u),a.push(i=[]);n=!1;if(r=V.exec(u))n=r.shift(),i.push({value:n,type:r[0].replace(W," ")}),u=u.slice(n.length);for(o in s.filter)(r=G[o].exec(u))&&(!f[o]||(r=f[o](r)))&&(n=r.shift(),i.push({value:n,type:o,matches:r}),u=u.slice(n.length));if(!n)break}return t?u.length:u?ot.error(e):N(e,a).slice(0)}function gt(e){var t=0,n=e.length,r="";for(;t<n;t++)r+=e[t].value;return r}function yt(e,t,n){var r=t.dir,s=n&&r==="parentNode",o=x++;return t.first?function(t,n,i){while(t=t[r])if(t.nodeType===1||s)return e(t,n,i)}:function(t,n,u){var a,f,l,c=S+" "+o;if(u){while(t=t[r])if(t.nodeType===1||s)if(e(t,n,u))return!0}else while(t=t[r])if(t.nodeType===1||s){l=t[b]||(t[b]={});if((f=l[r])&&f[0]===c){if((a=f[1])===!0||a===i)return a===!0}else{f=l[r]=[c],f[1]=e(t,n,u)||i;if(f[1]===!0)return!0}}}}function bt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function wt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function Et(e,t,n,r,i,s){return r&&!r[b]&&(r=Et(r)),i&&!i[b]&&(i=Et(i,s)),at(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||Tt(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?wt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=wt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?j.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=wt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):H.apply(o,g)})}function St(e){var t,n,r,i=e.length,o=s.relative[e[0].type],u=o||s.relative[" "],a=o?1:0,l=yt(function(e){return e===t},u,!0),c=yt(function(e){return j.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];for(;a<i;a++)if(n=s.relative[e[a].type])h=[yt(bt(h),n)];else{n=s.filter[e[a].type].apply(null,e[a].matches);if(n[b]){r=++a;for(;r<i;r++)if(s.relative[e[r].type])break;return Et(a>1&&bt(h),a>1&&gt(e.slice(0,a-1).concat({value:e[a-2].type===" "?"*":""})).replace(W,"$1"),n,a<r&&St(e.slice(a,r)),r<i&&St(e=e.slice(r)),r<i&&gt(e))}h.push(n)}return bt(h)}function xt(e,t){var n=0,r=t.length>0,o=e.length>0,u=function(u,a,l,c,p){var d,v,m,g=[],y=0,b="0",w=u&&[],E=p!=null,x=f,T=u||o&&s.find.TAG("*",p&&a.parentNode||a),N=S+=x==null?1:Math.random()||.1;E&&(f=a!==h&&a,i=n);for(;(d=T[b])!=null;b++){if(o&&d){v=0;while(m=e[v++])if(m(d,a,l)){c.push(d);break}E&&(S=N,i=++n)}r&&((d=!m&&d)&&y--,u&&w.push(d))}y+=b;if(r&&b!==y){v=0;while(m=t[v++])m(w,g,a,l);if(u){if(y>0)while(b--)!w[b]&&!g[b]&&(g[b]=D.call(c));g=wt(g)}H.apply(c,g),E&&!u&&g.length>0&&y+t.length>1&&ot.uniqueSort(c)}return E&&(S=N,f=x),w};return r?at(u):u}function Tt(e,t,n){var r=0,i=t.length;for(;r<i;r++)ot(e,t[r],n);return n}function Nt(e,t,n,i){var o,u,f,l,c,h=mt(e);if(!i&&h.length===1){u=h[0]=h[0].slice(0);if(u.length>2&&(f=u[0]).type==="ID"&&r.getById&&t.nodeType===9&&d&&s.relative[u[1].type]){t=(s.find.ID(f.matches[0].replace(rt,it),t)||[])[0];if(!t)return n;e=e.slice(u.shift().value.length)}o=G.needsContext.test(e)?0:u.length;while(o--){f=u[o];if(s.relative[l=f.type])break;if(c=s.find[l])if(i=c(f.matches[0].replace(rt,it),$.test(u[0].type)&&t.parentNode||t)){u.splice(o,1),e=i.length&&gt(u);if(!e)return H.apply(n,i),n;break}}}return a(e,h)(i,t,!d,n,$.test(e)),n}var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b="sizzle"+ -(new Date),E=e.document,S=0,x=0,T=ut(),N=ut(),C=ut(),k=!1,L=function(e,t){return e===t?(k=!0,0):0},A=typeof t,O=1<<31,M={}.hasOwnProperty,_=[],D=_.pop,P=_.push,H=_.push,B=_.slice,j=_.indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="[\\x20\\t\\r\\n\\f]",q="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",R=q.replace("w","w#"),U="\\["+I+"*("+q+")"+I+"*(?:([*^$|!~]?=)"+I+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+R+")|)|)"+I+"*\\]",z=":("+q+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+U.replace(3,8)+")*)|.*)\\)|)",W=new RegExp("^"+I+"+|((?:^|[^\\\\])(?:\\\\.)*)"+I+"+$","g"),X=new RegExp("^"+I+"*,"+I+"*"),V=new RegExp("^"+I+"*([>+~]|"+I+")"+I+"*"),$=new RegExp(I+"*[+~]"),J=new RegExp("="+I+"*([^\\]'\"]*)"+I+"*\\]","g"),K=new RegExp(z),Q=new RegExp("^"+R+"$"),G={ID:new RegExp("^#("+q+")"),CLASS:new RegExp("^\\.("+q+")"),TAG:new RegExp("^("+q.replace("w","w*")+")"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+I+"*(even|odd|(([+-]|)(\\d*)n|)"+I+"*(?:([+-]|)"+I+"*(\\d+)|))"+I+"*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^"+I+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+I+"*((?:-\\d)?\\d*)"+I+"*\\)|)(?=[^-]|$)","i")},Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/^(?:input|select|textarea|button)$/i,tt=/^h\d$/i,nt=/'|\\/g,rt=new RegExp("\\\\([\\da-f]{1,6}"+I+"?|("+I+")|.)","ig"),it=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)};try{H.apply(_=B.call(E.childNodes),E.childNodes),_[E.childNodes.length].nodeType}catch(st){H={apply:_.length?function(e,t){P.apply(e,B.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}u=ot.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},r=ot.support={},c=ot.setDocument=function(e){var t=e?e.ownerDocument||e:E,n=t.defaultView;if(t===h||t.nodeType!==9||!t.documentElement)return h;h=t,p=t.documentElement,d=!u(t),n&&n.attachEvent&&n!==n.top&&n.attachEvent("onbeforeunload",function(){c()}),r.attributes=ft(function(e){return e.className="i",!e.getAttribute("className")}),r.getElementsByTagName=ft(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),r.getElementsByClassName=ft(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",e.getElementsByClassName("i").length===2}),r.getById=ft(function(e){return p.appendChild(e).id=b,!t.getElementsByName||!t.getElementsByName(b).length}),r.getById?(s.find.ID=function(e,t){if(typeof t.getElementById!==A&&d){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},s.filter.ID=function(e){var t=e.replace(rt,it);return function(e){return e.getAttribute("id")===t}}):(delete s.find.ID,s.filter.ID=function(e){var t=e.replace(rt,it);return function(e){var n=typeof e.getAttributeNode!==A&&e.getAttributeNode("id");return n&&n.value===t}}),s.find.TAG=r.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==A)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if(e==="*"){while(n=s[i++])n.nodeType===1&&r.push(n);return r}return s},s.find.CLASS=r.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!==A&&d)return t.getElementsByClassName(e)},m=[],v=[];if(r.qsa=Y.test(t.querySelectorAll))ft(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||v.push("\\["+I+"*(?:value|"+F+")"),e.querySelectorAll(":checked").length||v.push(":checked")}),ft(function(e){var n=t.createElement("input");n.setAttribute("type","hidden"),e.appendChild(n).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&v.push("[*^$]="+I+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")});return(r.matchesSelector=Y.test(g=p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ft(function(e){r.disconnectedMatch=g.call(e,"div"),g.call(e,"[s!='']:x"),m.push("!=",z)}),v=v.length&&new RegExp(v.join("|")),m=m.length&&new RegExp(m.join("|")),y=Y.test(p.contains)||p.compareDocumentPosition?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&r.nodeType===1&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16)}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},L=p.compareDocumentPosition?function(e,n){if(e===n)return k=!0,0;var i=n.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(n);if(i)return i&1||!r.sortDetached&&n.compareDocumentPosition(e)===i?e===t||y(E,e)?-1:n===t||y(E,n)?1:l?j.call(l,e)-j.call(l,n):0:i&4?-1:1;return e.compareDocumentPosition?-1:1}:function(e,n){var r,i=0,s=e.parentNode,o=n.parentNode,u=[e],a=[n];if(e===n)return k=!0,0;if(!s||!o)return e===t?-1:n===t?1:s?-1:o?1:l?j.call(l,e)-j.call(l,n):0;if(s===o)return ct(e,n);r=e;while(r=r.parentNode)u.unshift(r);r=n;while(r=r.parentNode)a.unshift(r);while(u[i]===a[i])i++;return i?ct(u[i],a[i]):u[i]===E?-1:a[i]===E?1:0},t},ot.matches=function(e,t){return ot(e,null,null,t)},ot.matchesSelector=function(e,t){(e.ownerDocument||e)!==h&&c(e),t=t.replace(J,"='$1']");if(r.matchesSelector&&d&&(!m||!m.test(t))&&(!v||!v.test(t)))try{var n=g.call(e,t);if(n||r.disconnectedMatch||e.document&&e.document.nodeType!==11)return n}catch(i){}return ot(t,h,null,[e]).length>0},ot.contains=function(e,t){return(e.ownerDocument||e)!==h&&c(e),y(e,t)},ot.attr=function(e,n){(e.ownerDocument||e)!==h&&c(e);var i=s.attrHandle[n.toLowerCase()],o=i&&M.call(s.attrHandle,n.toLowerCase())?i(e,n,!d):t;return o===t?r.attributes||!d?e.getAttribute(n):(o=e.getAttributeNode(n))&&o.specified?o.value:null:o},ot.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ot.uniqueSort=function(e){var t,n=[],i=0,s=0;k=!r.detectDuplicates,l=!r.sortStable&&e.slice(0),e.sort(L);if(k){while(t=e[s++])t===e[s]&&(i=n.push(s));while(i--)e.splice(n[i],1)}return e},o=ot.getText=function(e){var t,n="",r=0,i=e.nodeType;if(!i)for(;t=e[r];r++)n+=o(t);else if(i===1||i===9||i===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(i===3||i===4)return e.nodeValue;return n},s=ot.selectors={cacheLength:50,createPseudo:at,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(rt,it),e[3]=(e[4]||e[5]||"").replace(rt,it),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||ot.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&ot.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&&e[2];return G.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&K.test(r)&&(n=mt(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(rt,it).toLowerCase();return e==="*"?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+I+")"+e+"("+I+"|$)"))&&T(e,function(e){return t.test(typeof e.className=="string"&&e.className||typeof e.getAttribute!==A&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ot.attr(r,e);return i==null?t==="!=":t?(i+="",t==="="?i===n:t==="!="?i!==n:t==="^="?n&&i.indexOf(n)===0:t==="*="?n&&i.indexOf(n)>-1:t==="$="?n&&i.slice(-n.length)===n:t==="~="?(" "+i+" ").indexOf(n)>-1:t==="|="?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s=e.slice(0,3)!=="nth",o=e.slice(-4)!=="last",u=t==="of-type";return r===1&&i===0?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:c.nodeType===1)return!1;d=v=e==="only"&&!d&&"nextSibling"}return!0}d=[o?m.firstChild:m.lastChild];if(o&&y){l=m[b]||(m[b]={}),f=l[e]||[],p=f[0]===S&&f[1],h=f[0]===S&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(c.nodeType===1&&++h&&c===t){l[e]=[S,p,h];break}}else if(y&&(f=(t[b]||(t[b]={}))[e])&&f[0]===S)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:c.nodeType===1)&&++h){y&&((c[b]||(c[b]={}))[e]=[S,h
]);if(c===t)break}return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,t){var n,r=s.pseudos[e]||s.setFilters[e.toLowerCase()]||ot.error("unsupported pseudo: "+e);return r[b]?r(t):r.length>1?(n=[e,e,"",t],s.setFilters.hasOwnProperty(e.toLowerCase())?at(function(e,n){var i,s=r(e,t),o=s.length;while(o--)i=j.call(e,s[o]),e[i]=!(n[i]=s[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:at(function(e){var t=[],n=[],r=a(e.replace(W,"$1"));return r[b]?at(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:at(function(e){return function(t){return ot(e,t).length>0}}),contains:at(function(e){return function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:at(function(e){return Q.test(e||"")||ot.error("unsupported lang: "+e),e=e.replace(rt,it).toLowerCase(),function(t){var n;do if(n=d?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||n.indexOf(e+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||e.nodeType===3||e.nodeType===4)return!1;return!0},parent:function(e){return!s.pseudos.empty(e)},header:function(e){return tt.test(e.nodeName)},input:function(e){return et.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()===e.type)},first:dt(function(){return[0]}),last:dt(function(e,t){return[t-1]}),eq:dt(function(e,t,n){return[n<0?n+t:n]}),even:dt(function(e,t){var n=0;for(;n<t;n+=2)e.push(n);return e}),odd:dt(function(e,t){var n=1;for(;n<t;n+=2)e.push(n);return e}),lt:dt(function(e,t,n){var r=n<0?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:dt(function(e,t,n){var r=n<0?n+t:n;for(;++r<t;)e.push(r);return e})}},s.pseudos.nth=s.pseudos.eq;for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})s.pseudos[n]=ht(n);for(n in{submit:!0,reset:!0})s.pseudos[n]=pt(n);vt.prototype=s.filters=s.pseudos,s.setFilters=new vt,a=ot.compile=function(e,t){var n,r=[],i=[],s=C[e+" "];if(!s){t||(t=mt(e)),n=t.length;while(n--)s=St(t[n]),s[b]?r.push(s):i.push(s);s=C(e,xt(i,r))}return s},r.sortStable=b.split("").sort(L).join("")===b,r.detectDuplicates=k,c(),r.sortDetached=ft(function(e){return e.compareDocumentPosition(h.createElement("div"))&1}),ft(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild.getAttribute("href")==="#"})||lt("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,t.toLowerCase()==="type"?1:2)}),(!r.attributes||!ft(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),e.firstChild.getAttribute("value")===""}))&&lt("value",function(e,t,n){if(!n&&e.nodeName.toLowerCase()==="input")return e.defaultValue}),ft(function(e){return e.getAttribute("disabled")==null})||lt(F,function(e,t,n){var r;if(!n)return(r=e.getAttributeNode(t))&&r.specified?r.value:e[t]===!0?t.toLowerCase():null}),w.find=ot,w.expr=ot.selectors,w.expr[":"]=w.expr.pseudos,w.unique=ot.uniqueSort,w.text=ot.getText,w.isXMLDoc=ot.isXML,w.contains=ot.contains}(e);var B={};w.Callbacks=function(e){e=typeof e=="string"?B[e]||j(e):w.extend({},e);var n,r,i,s,o,u,a=[],f=!e.once&&[],l=function(t){r=e.memory&&t,i=!0,o=u||0,u=0,s=a.length,n=!0;for(;a&&o<s;o++)if(a[o].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,a&&(f?f.length&&l(f.shift()):r?a=[]:c.disable())},c={add:function(){if(a){var t=a.length;(function i(t){w.each(t,function(t,n){var r=w.type(n);r==="function"?(!e.unique||!c.has(n))&&a.push(n):n&&n.length&&r!=="string"&&i(n)})})(arguments),n?s=a.length:r&&(u=t,l(r))}return this},remove:function(){return a&&w.each(arguments,function(e,t){var r;while((r=w.inArray(t,a,r))>-1)a.splice(r,1),n&&(r<=s&&s--,r<=o&&o--)}),this},has:function(e){return e?w.inArray(e,a)>-1:!!a&&!!a.length},empty:function(){return a=[],s=0,this},disable:function(){return a=f=r=t,this},disabled:function(){return!a},lock:function(){return f=t,r||c.disable(),this},locked:function(){return!f},fireWith:function(e,t){return a&&(!i||f)&&(t=t||[],t=[e,t.slice?t.slice():t],n?f.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},w.extend({Deferred:function(e){var t=[["resolve","done",w.Callbacks("once memory"),"resolved"],["reject","fail",w.Callbacks("once memory"),"rejected"],["notify","progress",w.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return w.Deferred(function(n){w.each(t,function(t,s){var o=s[0],u=w.isFunction(e[t])&&e[t];i[s[1]](function(){var e=u&&u.apply(this,arguments);e&&w.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===r?n.promise():this,u?[e]:arguments)})}),e=null}).promise()},promise:function(e){return e!=null?w.extend(e,r):r}},i={};return r.pipe=r.then,w.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=v.call(arguments),r=n.length,i=r!==1||e&&w.isFunction(e.promise)?r:0,s=i===1?e:w.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?v.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&w.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}}),w.support=function(t){var n,r,s,u,a,f,l,c,h,p=o.createElement("div");p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*")||[],r=p.getElementsByTagName("a")[0];if(!r||!r.style||!n.length)return t;u=o.createElement("select"),f=u.appendChild(o.createElement("option")),s=p.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute=p.className!=="t",t.leadingWhitespace=p.firstChild.nodeType===3,t.tbody=!p.getElementsByTagName("tbody").length,t.htmlSerialize=!!p.getElementsByTagName("link").length,t.style=/top/.test(r.getAttribute("style")),t.hrefNormalized=r.getAttribute("href")==="/a",t.opacity=/^0.5/.test(r.style.opacity),t.cssFloat=!!r.style.cssFloat,t.checkOn=!!s.value,t.optSelected=f.selected,t.enctype=!!o.createElement("form").enctype,t.html5Clone=o.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,s.checked=!0,t.noCloneChecked=s.cloneNode(!0).checked,u.disabled=!0,t.optDisabled=!f.disabled;try{delete p.test}catch(d){t.deleteExpando=!1}s=o.createElement("input"),s.setAttribute("value",""),t.input=s.getAttribute("value")==="",s.value="t",s.setAttribute("type","radio"),t.radioValue=s.value==="t",s.setAttribute("checked","t"),s.setAttribute("name","t"),a=o.createDocumentFragment(),a.appendChild(s),t.appendChecked=s.checked,t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,p.attachEvent&&(p.attachEvent("onclick",function(){t.noCloneEvent=!1}),p.cloneNode(!0).click());for(h in{submit:!0,change:!0,focusin:!0})p.setAttribute(l="on"+h,"t"),t[h+"Bubbles"]=l in e||p.attributes[l].expando===!1;p.style.backgroundClip="content-box",p.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle=p.style.backgroundClip==="content-box";for(h in w(t))break;return t.ownLast=h!=="0",w(function(){var n,r,s,u="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=o.getElementsByTagName("body")[0];if(!a)return;n=o.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(p),p.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=p.getElementsByTagName("td"),s[0].style.cssText="padding:0;margin:0;border:0;display:none",c=s[0].offsetHeight===0,s[0].style.display="",s[1].style.display="none",t.reliableHiddenOffsets=c&&s[0].offsetHeight===0,p.innerHTML="",p.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",w.swap(a,a.style.zoom!=null?{zoom:1}:{},function(){t.boxSizing=p.offsetWidth===4}),e.getComputedStyle&&(t.pixelPosition=(e.getComputedStyle(p,null)||{}).top!=="1%",t.boxSizingReliable=(e.getComputedStyle(p,null)||{width:"4px"}).width==="4px",r=p.appendChild(o.createElement("div")),r.style.cssText=p.style.cssText=u,r.style.marginRight=r.style.width="0",p.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof p.style.zoom!==i&&(p.innerHTML="",p.style.cssText=u+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=p.offsetWidth===3,p.style.display="block",p.innerHTML="<div></div>",p.firstChild.style.width="5px",t.shrinkWrapBlocks=p.offsetWidth!==3,t.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(n),n=p=s=r=null}),n=u=a=f=r=s=null,t}({});var F=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,I=/([A-Z])/g;w.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?w.cache[e[w.expando]]:e[w.expando],!!e&&!z(e)},data:function(e,t,n){return q(e,t,n)},removeData:function(e,t){return R(e,t)},_data:function(e,t,n){return q(e,t,n,!0)},_removeData:function(e,t){return R(e,t,!0)},acceptData:function(e){if(e.nodeType&&e.nodeType!==1&&e.nodeType!==9)return!1;var t=e.nodeName&&w.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),w.fn.extend({data:function(e,n){var r,i,s=null,o=0,u=this[0];if(e===t){if(this.length){s=w.data(u);if(u.nodeType===1&&!w._data(u,"parsedAttrs")){r=u.attributes;for(;o<r.length;o++)i=r[o].name,i.indexOf("data-")===0&&(i=w.camelCase(i.slice(5)),U(u,i,s[i]));w._data(u,"parsedAttrs",!0)}}return s}return typeof e=="object"?this.each(function(){w.data(this,e)}):arguments.length>1?this.each(function(){w.data(this,e,n)}):u?U(u,e,w.data(u,e)):null},removeData:function(e){return this.each(function(){w.removeData(this,e)})}}),w.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=w._data(e,t),n&&(!r||w.isArray(n)?r=w._data(e,t,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),r=n.length,i=n.shift(),s=w._queueHooks(e,t),o=function(){w.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return w._data(e,n)||w._data(e,n,{empty:w.Callbacks("once memory").add(function(){w._removeData(e,t+"queue"),w._removeData(e,n)})})}}),w.fn.extend({queue:function(e,n){var r=2;return typeof e!="string"&&(n=e,e="fx",r--),arguments.length<r?w.queue(this[0],e):n===t?this:this.each(function(){var t=w.queue(this,e,n);w._queueHooks(this,e),e==="fx"&&t[0]!=="inprogress"&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},delay:function(e,t){return e=w.fx?w.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,s=w.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};typeof e!="string"&&(n=e,e=t),e=e||"fx";while(u--)r=w._data(o[u],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(n)}});var W,X,V=/[\t\r\n\f]/g,$=/\r/g,J=/^(?:input|select|textarea|button|object)$/i,K=/^(?:a|area)$/i,Q=/^(?:checked|selected)$/i,G=w.support.getSetAttribute,Y=w.support.input;w.fn.extend({attr:function(e,t){return w.access(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})},prop:function(e,t){return w.access(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return e=w.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o=0,u=this.length,a=typeof e=="string"&&e;if(w.isFunction(e))return this.each(function(t){w(this).addClass(e.call(this,t,this.className))});if(a){t=(e||"").match(S)||[];for(;o<u;o++){n=this[o],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(V," "):" ");if(r){s=0;while(i=t[s++])r.indexOf(" "+i+" ")<0&&(r+=i+" ");n.className=w.trim(r)}}}return this},removeClass:function(e){var t,n,r,i,s,o=0,u=this.length,a=arguments.length===0||typeof e=="string"&&e;if(w.isFunction(e))return this.each(function(t){w(this).removeClass(e.call(this,t,this.className))});if(a){t=(e||"").match(S)||[];for(;o<u;o++){n=this[o],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(V," "):"");if(r){s=0;while(i=t[s++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?w.trim(r):""}}}return this},toggleClass:function(e,t){var n=typeof e;return typeof t=="boolean"&&n==="string"?t?this.addClass(e):this.removeClass(e):w.isFunction(e)?this.each(function(n){w(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var t,r=0,s=w(this),o=e.match(S)||[];while(t=o[r++])s.hasClass(t)?s.removeClass(t):s.addClass(t)}else if(n===i||n==="boolean")this.className&&w._data(this,"__className__",this.className),this.className=this.className||e===!1?"":w._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(V," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,s=this[0];if(!arguments.length){if(s)return r=w.valHooks[s.type]||w.valHooks[s.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(s,"value"))!==t?n:(n=s.value,typeof n=="string"?n.replace($,""):n==null?"":n);return}return i=w.isFunction(e),this.each(function(n){var s;if(this.nodeType!==1)return;i?s=e.call(this,n,w(this).val()):s=e,s==null?s="":typeof s=="number"?s+="":w.isArray(s)&&(s=w.map(s,function(e){return e==null?"":e+""})),r=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()];if(!r||!("set"in r)||r.set(this,s,"value")===t)this.value=s})}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return t!=null?t:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type==="select-one"||i<0,o=s?null:[],u=s?i+1:r.length,a=i<0?u:s?i:0;for(;a<u;a++){n=r[a];if((n.selected||a===i)&&(w.support.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!w.nodeName(n.parentNode,"optgroup"))){t=w(n).val();if(s)return t;o.push(t)}}return o},set:function(e,t){var n,r,i=e.options,s=w.makeArray(t),o=i.length;while(o--){r=i[o];if(r.selected=w.inArray(w(r).val(),s)>=0)n=!0}return n||(e.selectedIndex=-1),s}}},attr:function(e,n,r){var s,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;if(typeof e.getAttribute===i)return w.prop(e,n,r);if(u!==1||!w.isXMLDoc(e))n=n.toLowerCase(),s=w.attrHooks[n]||(w.expr.match.bool.test(n)?X:W);if(r===t)return s&&"get"in s&&(o=s.get(e,n))!==null?o:(o=w.find.attr(e,n),o==null?t:o);if(r!==null)return s&&"set"in s&&(o=s.set(e,r,n))!==t?o:(e.setAttribute(n,r+""),r);w.removeAttr(e,n)},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(S);if(s&&e.nodeType===1)while(n=s[i++])r=w.propFix[n]||n,w.expr.match.bool.test(n)?Y&&G||!Q.test(n)?e[r]=!1:e[w.camelCase("default-"+n)]=e[r]=!1:w.attr(e,n,""),e.removeAttribute(G?n:r)},attrHooks:{type:{set:function(e,t){if(!w.support.radioValue&&t==="radio"&&w.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;return o=u!==1||!w.isXMLDoc(e),o&&(n=w.propFix[n]||n,s=w.propHooks[n]),r!==t?s&&"set"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r:s&&"get"in s&&(i=s.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):J.test(e.nodeName)||K.test(e.nodeName)&&e.href?0:-1}}}}),X={set:function(e,t,n){return t===!1?w.removeAttr(e,n):Y&&G||!Q.test(n)?e.setAttribute(!G&&w.propFix[n]||n,n):e[w.camelCase("default-"+n)]=e[n]=!0,n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,n){var r=w.expr.attrHandle[n]||w.find.attr;w.expr.attrHandle[n]=Y&&G||!Q.test(n)?function(e,n,i){var s=w.expr.attrHandle[n],o=i?t:(w.expr.attrHandle[n]=t)!=r(e,n,i)?n.toLowerCase():null;return w.expr.attrHandle[n]=s,o}:function(e,n,r){return r?t:e[w.camelCase("default-"+n)]?n.toLowerCase():null}});if(!Y||!G)w.attrHooks.value={set:function(e,t,n){if(!w.nodeName(e,"input"))return W&&W.set(e,t,n);e.defaultValue=t}};G||(W={set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="",r==="value"||n===e.getAttribute(r)?n:t}},w.expr.attrHandle.id=w.expr.attrHandle.name=w.expr.attrHandle.coords=function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&i.value!==""?i.value:null},w.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&r.specified?r.value:t},set:W.set},w.attrHooks.contenteditable={set:function(e,t,n){W.set(e,t===""?!1:t,n)}},w.each(["width","height"],function(e,t){w.attrHooks[t]={set:function(e,n){if(n==="")return e.setAttribute(t,"auto"),n}}})),w.support.hrefNormalized||w.each(["href","src"],function(e,t){w.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),w.support.style||(w.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),w.support.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.support.enctype||(w.propFix.enctype="encoding"),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,t){if(w.isArray(t))return e.checked=w.inArray(w(e).val(),t)>=0}},w.support.checkOn||(w.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value})});var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;w.event={global:{},add:function(e,n,r,s,o){var u,a,f,l,c,h,p,d,v,m,g,y=w._data(e);if(!y)return;r.handler&&(l=r,r=l.handler,o=l.selector),r.guid||(r.guid=w.guid++),(a=y.events)||(a=y.events={}),(h=y.handle)||(h=y.handle=function(e){return typeof w===i||!!e&&w.event.triggered===e.type?t:w.event.dispatch.apply(h.elem,arguments)},h.elem=e),n=(n||"").match(S)||[""],f=n.length;while(f--){u=rt.exec(n[f])||[],v=g=u[1],m=(u[2]||"").split(".").sort();if(!v)continue;c=w.event.special[v]||{},v=(o?c.delegateType:c.bindType)||v,c=w.event.special[v]||{},p=w.extend({type:v,origType:g,data:s,handler:r,guid:r.guid,selector:o,needsContext:o&&w.expr.match.needsContext.test(o),namespace:m.join(".")},l);if(!(d=a[v])){d=a[v]=[],d.delegateCount=0;if(!c.setup||c.setup.call(e,s,m,h)===!1)e.addEventListener?e.addEventListener(v,h,!1):e.attachEvent&&e.attachEvent("on"+v,h)}c.add&&(c.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),o?d.splice(d.delegateCount++,0,p):d.push(p),w.event.global[v]=!0}e=null},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=w.hasData(e)&&w._data(e);if(!m||!(l=m.events))return;t=(t||"").match(S)||[""],f=t.length;while(f--){u=rt.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort();if(!p){for(p in l)w.event.remove(e,p+t[f],n,r,!0);continue}c=w.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,h=l[p]||[],u=u[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=h.length;while(s--)o=h[s],(i||v===o.origType)&&(!n||n.guid===o.guid)&&(!u||u.test(o.namespace))&&(!r||r===o.selector||r==="**"&&o.selector)&&(h.splice(s,1),o.selector&&h.delegateCount--,c.remove&&c.remove.call(e,o));a&&!h.length&&((!c.teardown||c.teardown.call(e,d,m.handle)===!1)&&w.removeEvent(e,p,m.handle),delete l[p])}w.isEmptyObject(l)&&(delete m.handle,w._removeData(e,"events"))},trigger:function(n,r,i,s){var u,a,f,l,c,h,p,d=[i||o],v=y.call(n,"type")?n.type:n,m=y.call(n,"namespace")?n.namespace.split("."):[];f=h=i=i||o;if(i.nodeType===3||i.nodeType===8)return;if(nt.test(v+w.event.triggered))return;v.indexOf(".")>=0&&(m=v.split("."),v=m.shift(),m.sort()),a=v.indexOf(":")<0&&"on"+v,n=n[w.expando]?n:new w.Event(v,typeof n=="object"&&n),n.isTrigger=s?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=r==null?[n]:w.makeArray(r,[n]),c=w.event.special[v]||{};if(!s&&c.trigger&&c.trigger.apply(i,r)===!1)return;if(!s&&!c.noBubble&&!w.isWindow(i)){l=c.delegateType||v,nt.test(l+v)||(f=f.parentNode);for(;f;f=f.parentNode)d.push(f),h=f;h===(i.ownerDocument||o)&&d.push(h.defaultView||h.parentWindow||e)}p=0;while((f=d[p++])&&!n.isPropagationStopped())n.type=p>1?l:c.bindType||v,u=(w._data(f,"events")||{})[n.type]&&w._data(f,"handle"),u&&u.apply(f,r),u=a&&f[a],u&&w.acceptData(f)&&u.apply&&u.apply(f,r)===!1&&n.preventDefault();n.type=v;if(!s&&!n.isDefaultPrevented()&&(!c._default||c._default.apply(d.pop(),r)===!1)&&w.acceptData(i)&&a&&i[v]&&!w.isWindow(i)){h=i[a],h&&(i[a]=null),w.event.triggered=v;try{i[v]()}catch(g){}w.event.triggered=t,h&&(i[a]=h)}return n.result},dispatch:function(e){e=w.event.fix(e);var n,r,i,s,o,u=[],a=v.call(arguments),f=(w._data(this,"events")||{})[e.type]||[],l=w.event.special[e.type]||{};a[0]=e,e.delegateTarget=this;if(l.preDispatch&&l.preDispatch.call(this,e)===!1)return;u=w.event.handlers.call(this,e,f),n=0;while((s=u[n++])&&!e.isPropagationStopped()){e.currentTarget=s.elem,o=0;while((i=s.handlers[o++])&&!e.isImmediatePropagationStopped())if(!e.namespace_re||e.namespace_re.test(i.namespace))e.handleObj=i,e.data=i.data,r=((w.event.special[i.origType]||{}).handle||i.handler).apply(s.elem,a),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation())}return l.postDispatch&&l.postDispatch.call(this,e),e.result},handlers:function(e,n){var r,i,s,o,u=[],a=n.delegateCount,f=e.target;if(a&&f.nodeType&&(!e.button||e.type!=="click"))for(;f!=this;f=f.parentNode||this)if(f.nodeType===1&&(f.disabled!==!0||e.type!=="click")){s=[];for(o=0;o<a;o++)i=n[o],r=i.selector+" ",s[r]===t&&(s[r]=i.needsContext?w(r,this).index(f)>=0:w.find(r,this,null,[f]).length),s[r]&&s.push(i);s.length&&u.push({elem:f,handlers:s})}return a<n.length&&u.push({elem:this,handlers:n.slice(a)}),u},fix:function(e){if(e[w.expando])return e;var t,n,r,i=e.type,s=e,u=this.fixHooks[i];u||(this.fixHooks[i]=u=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=u.props?this.props.concat(u.props):this.props,e=new w.Event(s),t=r.length;while(t--)n=r[t],e[n]=s[n];return e.target||(e.target=s.srcElement||o),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,u.filter?u.filter(e,s):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,s,u=n.button,a=n.fromElement;return e.pageX==null&&n.clientX!=null&&(i=e.target.ownerDocument||o,s=i.documentElement,r=i.body,e.pageX=n.clientX+(s&&s.scrollLeft||r&&r.scrollLeft||0)-(s&&s.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(s&&s.scrollTop||r&&r.scrollTop||0)-(s&&s.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),!e.which&&u!==t&&(e.which=u&1?1:u&2?3:u&4?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ot()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===ot()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(w.nodeName(this,"input")&&this.type==="checkbox"&&this.click)return this.click(),!1},_default:function(e){return w.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=w.extend(new w.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?w.event.trigger(i,null,t):w.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},w.removeEvent=o.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===i&&(e[r]=null),e.detachEvent(r,n))},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?it:st):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||w.now(),this[w.expando]=!0},w.Event.prototype={isDefaultPrevented:st,isPropagationStopped:st,isImmediatePropagationStopped:st,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()}},w.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;if(!i||i!==r&&!w.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),w.support.submitBubbles||(w.event.special.submit={setup:function(){if(w.nodeName(this,"form"))return!1;w.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=w.nodeName(n,"input")||w.nodeName(n,"button")?n.form:t;r&&!w._data(r,"submitBubbles")&&(w.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),w._data(r,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&w.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(w.nodeName(this,"form"))return!1;w.event.remove(this,"._submit")}}),w.support.changeBubbles||(w.event.special.change={setup:function(){if(Z.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")w.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),w.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),w.event.simulate("change",this,e,!0)});return!1}w.event.add(this,"beforeactivate._change",function(e){var t=e.target;Z.test(t.nodeName)&&!w._data(t,"changeBubbles")&&(w.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&w.event.simulate("change",this.parentNode,e,!0)}),w._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return w.event.remove(this,"._change"),!Z.test(this.nodeName)}}),w.support.focusinBubbles||w.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){w.event.simulate(t,e.target,w.event.fix(e),!0)};w.event.special[t]={setup:function(){n++===0&&o.addEventListener(e,r,!0)},teardown:function(){--n===0&&o.removeEventListener(e,r,!0)}}}),w.fn.extend({on:function(e,n,r,i,s){var o,u;if(typeof e=="object"){typeof n!="string"&&(r=r||n,n=t);for(o in e)this.on(o,n,r,e[o],s);return this}r==null&&i==null?(i=n,r=n=t):i==null&&(typeof n=="string"?(i=r,r=t):(i=r,r=n,n=t));if(i===!1)i=st;else if(!i)return this;return s===1&&(u=i,i=function(e){return w().off(e),u.apply(this,arguments)},i.guid=u.guid||(u.guid=w.guid++)),this.each(function(){w.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,w(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if(typeof e=="object"){for(s in e)this.off(s,n,e[s]);return this}if(n===!1||typeof n=="function")r=n,n=t;return r===!1&&(r=st),this.each(function(){w.event.remove(this,e,r,n)})},trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}});var ut=/^.[^:#\[\.,]*$/,at=/^(?:parents|prev(?:Until|All))/,ft=w.expr.match.needsContext,lt={children:!0,contents:!0,next:!0,prev:!0};w.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if(typeof e!="string")return this.pushStack(w(e).filter(function(){for(t=0;t<i;t++)if(w.contains(r[t],this))return!0}));for(t=0;t<i;t++)w.find(e,r[t],n);return n=this.pushStack(i>1?w.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=w(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(w.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ht(this,e||[],!0))},filter:function(e){return this.pushStack(ht(this,e||[],!1))},is:function(e){return!!ht(this,typeof e=="string"&&ft.test(e)?w(e):e||[],!1).length},closest:function(e,t){var n,r=0,i=this.length,s=[],o=ft.test(e)||typeof e!="string"?w(e,t||this.context):0;for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:n.nodeType===1&&w.find.matchesSelector(n,e))){n=s.push(n);break}return this.pushStack(s.length>1?w.unique(s):s)},index:function(e){return e?typeof e=="string"?w.inArray(this[0],w(e)):w.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n=typeof e=="string"?w(e,t):w.makeArray(e&&e.nodeType?[e]:e),r=w.merge(this.get(),n);return this.pushStack(w.unique(r))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return w.dir(e,"parentNode")},parentsUntil:function(e,t,n){return w.dir(e,"parentNode",n)},next:function(e){return ct(e,"nextSibling")},prev:function(e){return ct(e,"previousSibling")},nextAll:function(e){return w.dir(e,"nextSibling")},prevAll:function(e){return w.dir(e,"previousSibling")},nextUntil:function(e,t,n){return w.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return w.dir(e,"previousSibling",n)},siblings:function(e){return w.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return w.sibling(e.firstChild)},contents:function(e){return w.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:w.merge([],e.childNodes)}},function(e,t){w.fn[e]=function(n,r){var i=w.map(this,t,n);return e.slice(-5)!=="Until"&&(r=n),r&&typeof r=="string"&&(i=w.filter(r,i)),this.length>1&&(lt[e]||(i=w.unique(i)),at.test(e)&&(i=i.reverse())),this.pushStack(i)}}),w.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),t.length===1&&r.nodeType===1?w.find.matchesSelector(r,e)?[r]:[]:w.find.matches(e,w.grep(t,function(e){return e.nodeType===1}))},dir:function(e,n,r){var i=[],s=e[n];while(s&&s.nodeType!==9&&(r===t||s.nodeType!==1||!w(s).is(r)))s.nodeType===1&&i.push(s),s=s[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var dt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",vt=/ jQuery\d+="(?:null|\d+)"/g,mt=new RegExp("<(?:"+dt+")[\\s/>]","i"),gt=/^\s+/,yt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi
,bt=/<([\w:]+)/,wt=/<tbody/i,Et=/<|&#?\w+;/,St=/<(?:script|style|link)/i,xt=/^(?:checkbox|radio)$/i,Tt=/checked\s*(?:[^=]|=\s*.checked.)/i,Nt=/^$|\/(?:java|ecma)script/i,Ct=/^true\/(.*)/,kt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Lt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:w.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},At=pt(o),Ot=At.appendChild(o.createElement("div"));Lt.optgroup=Lt.option,Lt.tbody=Lt.tfoot=Lt.colgroup=Lt.caption=Lt.thead,Lt.th=Lt.td,w.fn.extend({text:function(e){return w.access(this,function(e){return e===t?w.text(this):this.empty().append((this[0]&&this[0].ownerDocument||o).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=Mt(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=Mt(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?w.filter(e,this):this,i=0;for(;(n=r[i])!=null;i++)!t&&n.nodeType===1&&w.cleanData(jt(n)),n.parentNode&&(t&&w.contains(n.ownerDocument,n)&&Pt(jt(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){e.nodeType===1&&w.cleanData(jt(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&w.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return w.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(vt,""):t;if(typeof e=="string"&&!St.test(e)&&(w.support.htmlSerialize||!mt.test(e))&&(w.support.leadingWhitespace||!gt.test(e))&&!Lt[(bt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(yt,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},n.nodeType===1&&(w.cleanData(jt(n,!1)),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=w.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),w(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=p.apply([],e);var r,i,s,o,u,a,f=0,l=this.length,c=this,h=l-1,d=e[0],v=w.isFunction(d);if(v||!(l<=1||typeof d!="string"||w.support.checkClone||!Tt.test(d)))return this.each(function(r){var i=c.eq(r);v&&(e[0]=d.call(this,r,i.html())),i.domManip(e,t,n)});if(l){a=w.buildFragment(e,this[0].ownerDocument,!1,!n&&this),r=a.firstChild,a.childNodes.length===1&&(a=r);if(r){o=w.map(jt(a,"script"),_t),s=o.length;for(;f<l;f++)i=a,f!==h&&(i=w.clone(i,!0,!0),s&&w.merge(o,jt(i,"script"))),t.call(this[f],i,f);if(s){u=o[o.length-1].ownerDocument,w.map(o,Dt);for(f=0;f<s;f++)i=o[f],Nt.test(i.type||"")&&!w._data(i,"globalEval")&&w.contains(u,i)&&(i.src?w._evalUrl(i.src):w.globalEval((i.text||i.textContent||i.innerHTML||"").replace(kt,"")))}a=r=null}}return this}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){var n,r=0,i=[],s=w(e),o=s.length-1;for(;r<=o;r++)n=r===o?this:this.clone(!0),w(s[r])[t](n),d.apply(i,n.get());return this.pushStack(i)}}),w.extend({clone:function(e,t,n){var r,i,s,o,u,a=w.contains(e.ownerDocument,e);w.support.html5Clone||w.isXMLDoc(e)||!mt.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(Ot.innerHTML=e.outerHTML,Ot.removeChild(s=Ot.firstChild));if((!w.support.noCloneEvent||!w.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!w.isXMLDoc(e)){r=jt(s),u=jt(e);for(o=0;(i=u[o])!=null;++o)r[o]&&Bt(i,r[o])}if(t)if(n){u=u||jt(e),r=r||jt(s);for(o=0;(i=u[o])!=null;o++)Ht(i,r[o])}else Ht(e,s);return r=jt(s,"script"),r.length>0&&Pt(r,!a&&jt(e,"script")),r=u=i=null,s},buildFragment:function(e,t,n,r){var i,s,o,u,a,f,l,c=e.length,h=pt(t),p=[],d=0;for(;d<c;d++){s=e[d];if(s||s===0)if(w.type(s)==="object")w.merge(p,s.nodeType?[s]:s);else if(!Et.test(s))p.push(t.createTextNode(s));else{u=u||h.appendChild(t.createElement("div")),a=(bt.exec(s)||["",""])[1].toLowerCase(),l=Lt[a]||Lt._default,u.innerHTML=l[1]+s.replace(yt,"<$1></$2>")+l[2],i=l[0];while(i--)u=u.lastChild;!w.support.leadingWhitespace&&gt.test(s)&&p.push(t.createTextNode(gt.exec(s)[0]));if(!w.support.tbody){s=a==="table"&&!wt.test(s)?u.firstChild:l[1]==="<table>"&&!wt.test(s)?u:0,i=s&&s.childNodes.length;while(i--)w.nodeName(f=s.childNodes[i],"tbody")&&!f.childNodes.length&&s.removeChild(f)}w.merge(p,u.childNodes),u.textContent="";while(u.firstChild)u.removeChild(u.firstChild);u=h.lastChild}}u&&h.removeChild(u),w.support.appendChecked||w.grep(jt(p,"input"),Ft),d=0;while(s=p[d++]){if(r&&w.inArray(s,r)!==-1)continue;o=w.contains(s.ownerDocument,s),u=jt(h.appendChild(s),"script"),o&&Pt(u);if(n){i=0;while(s=u[i++])Nt.test(s.type||"")&&n.push(s)}}return u=null,h},cleanData:function(e,t){var n,r,s,o,u=0,a=w.expando,f=w.cache,l=w.support.deleteExpando,h=w.event.special;for(;(n=e[u])!=null;u++)if(t||w.acceptData(n)){s=n[a],o=s&&f[s];if(o){if(o.events)for(r in o.events)h[r]?w.event.remove(n,r):w.removeEvent(n,r,o.handle);f[s]&&(delete f[s],l?delete n[a]:typeof n.removeAttribute!==i?n.removeAttribute(a):n[a]=null,c.push(s))}}},_evalUrl:function(e){return w.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),w.fn.extend({wrapAll:function(e){if(w.isFunction(e))return this.each(function(t){w(this).wrapAll(e.call(this,t))});if(this[0]){var t=w(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return w.isFunction(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=w.isFunction(e);return this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){w.nodeName(this,"body")||w(this).replaceWith(this.childNodes)}).end()}});var It,qt,Rt,Ut=/alpha\([^)]*\)/i,zt=/opacity\s*=\s*([^)]*)/,Wt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Vt=/^margin/,$t=new RegExp("^("+E+")(.*)$","i"),Jt=new RegExp("^("+E+")(?!px)[a-z%]+$","i"),Kt=new RegExp("^([+-])=("+E+")","i"),Qt={BODY:"block"},Gt={position:"absolute",visibility:"hidden",display:"block"},Yt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];w.fn.extend({css:function(e,n){return w.access(this,function(e,n,r){var i,s,o={},u=0;if(w.isArray(n)){s=qt(e),i=n.length;for(;u<i;u++)o[n[u]]=w.css(e,n[u],!1,s);return o}return r!==t?w.style(e,n,r):w.css(e,n)},e,n,arguments.length>1)},show:function(){return rn(this,!0)},hide:function(){return rn(this)},toggle:function(e){return typeof e=="boolean"?e?this.show():this.hide():this.each(function(){nn(this)?w(this).show():w(this).hide()})}}),w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Rt(e,"opacity");return n===""?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":w.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var s,o,u,a=w.camelCase(n),f=e.style;n=w.cssProps[a]||(w.cssProps[a]=tn(f,a)),u=w.cssHooks[n]||w.cssHooks[a];if(r===t)return u&&"get"in u&&(s=u.get(e,!1,i))!==t?s:f[n];o=typeof r,o==="string"&&(s=Kt.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(w.css(e,n)),o="number");if(r==null||o==="number"&&isNaN(r))return;o==="number"&&!w.cssNumber[a]&&(r+="px"),!w.support.clearCloneStyle&&r===""&&n.indexOf("background")===0&&(f[n]="inherit");if(!u||!("set"in u)||(r=u.set(e,r,i))!==t)try{f[n]=r}catch(l){}},css:function(e,n,r,i){var s,o,u,a=w.camelCase(n);return n=w.cssProps[a]||(w.cssProps[a]=tn(e.style,a)),u=w.cssHooks[n]||w.cssHooks[a],u&&"get"in u&&(o=u.get(e,!0,r)),o===t&&(o=Rt(e,n,i)),o==="normal"&&n in Yt&&(o=Yt[n]),r===""||r?(s=parseFloat(o),r===!0||w.isNumeric(s)?s||0:o):o}}),e.getComputedStyle?(qt=function(t){return e.getComputedStyle(t,null)},Rt=function(e,n,r){var i,s,o,u=r||qt(e),a=u?u.getPropertyValue(n)||u[n]:t,f=e.style;return u&&(a===""&&!w.contains(e.ownerDocument,e)&&(a=w.style(e,n)),Jt.test(a)&&Vt.test(n)&&(i=f.width,s=f.minWidth,o=f.maxWidth,f.minWidth=f.maxWidth=f.width=a,a=u.width,f.width=i,f.minWidth=s,f.maxWidth=o)),a}):o.documentElement.currentStyle&&(qt=function(e){return e.currentStyle},Rt=function(e,n,r){var i,s,o,u=r||qt(e),a=u?u[n]:t,f=e.style;return a==null&&f&&f[n]&&(a=f[n]),Jt.test(a)&&!Wt.test(n)&&(i=f.left,s=e.runtimeStyle,o=s&&s.left,o&&(s.left=e.currentStyle.left),f.left=n==="fontSize"?"1em":a,a=f.pixelLeft+"px",f.left=i,o&&(s.left=o)),a===""?"auto":a}),w.each(["height","width"],function(e,t){w.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth===0&&Xt.test(w.css(e,"display"))?w.swap(e,Gt,function(){return un(e,t,r)}):un(e,t,r)},set:function(e,n,r){var i=r&&qt(e);return sn(e,n,r?on(e,t,r,w.support.boxSizing&&w.css(e,"boxSizing",!1,i)==="border-box",i):0)}}}),w.support.opacity||(w.cssHooks.opacity={get:function(e,t){return zt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=w.isNumeric(t)?"alpha(opacity="+t*100+")":"",s=r&&r.filter||n.filter||"";n.zoom=1;if((t>=1||t==="")&&w.trim(s.replace(Ut,""))===""&&n.removeAttribute){n.removeAttribute("filter");if(t===""||r&&!r.filter)return}n.filter=Ut.test(s)?s.replace(Ut,i):s+" "+i}}),w(function(){w.support.reliableMarginRight||(w.cssHooks.marginRight={get:function(e,t){if(t)return w.swap(e,{display:"inline-block"},Rt,[e,"marginRight"])}}),!w.support.pixelPosition&&w.fn.position&&w.each(["top","left"],function(e,t){w.cssHooks[t]={get:function(e,n){if(n)return n=Rt(e,t),Jt.test(n)?w(e).position()[t]+"px":n}}})}),w.expr&&w.expr.filters&&(w.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!w.support.reliableHiddenOffsets&&(e.style&&e.style.display||w.css(e,"display"))==="none"},w.expr.filters.visible=function(e){return!w.expr.filters.hidden(e)}),w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(n){var r=0,i={},s=typeof n=="string"?n.split(" "):[n];for(;r<4;r++)i[e+Zt[r]+t]=s[r]||s[r-2]||s[0];return i}},Vt.test(e)||(w.cssHooks[e+t].set=sn)});var ln=/%20/g,cn=/\[\]$/,hn=/\r?\n/g,pn=/^(?:submit|button|image|reset|file)$/i,dn=/^(?:input|select|textarea|keygen)/i;w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&dn.test(this.nodeName)&&!pn.test(e)&&(this.checked||!xt.test(e))}).map(function(e,t){var n=w(this).val();return n==null?null:w.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(hn,"\r\n")}}):{name:t.name,value:n.replace(hn,"\r\n")}}).get()}}),w.param=function(e,n){var r,i=[],s=function(e,t){t=w.isFunction(t)?t():t==null?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};n===t&&(n=w.ajaxSettings&&w.ajaxSettings.traditional);if(w.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){s(this.name,this.value)});else for(r in e)vn(r,e[r],n,s);return i.join("&").replace(ln,"+")},w.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)}});var mn,gn,yn=w.now(),bn=/\?/,wn=/#.*$/,En=/([?&])_=[^&]*/,Sn=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,xn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Tn=/^(?:GET|HEAD)$/,Nn=/^\/\//,Cn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,kn=w.fn.load,Ln={},An={},On="*/".concat("*");try{gn=s.href}catch(Mn){gn=o.createElement("a"),gn.href="",gn=gn.href}mn=Cn.exec(gn.toLowerCase())||[],w.fn.load=function(e,n,r){if(typeof e!="string"&&kn)return kn.apply(this,arguments);var i,s,o,u=this,a=e.indexOf(" ");return a>=0&&(i=e.slice(a,e.length),e=e.slice(0,a)),w.isFunction(n)?(r=n,n=t):n&&typeof n=="object"&&(o="POST"),u.length>0&&w.ajax({url:e,type:o,dataType:"html",data:n}).done(function(e){s=arguments,u.html(i?w("<div>").append(w.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){u.each(r,s||[e.responseText,t,e])}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gn,type:"GET",isLocal:xn.test(mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":On,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":w.parseJSON,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Pn(Pn(e,w.ajaxSettings),t):Pn(w.ajaxSettings,e)},ajaxPrefilter:_n(Ln),ajaxTransport:_n(An),ajax:function(e,n){function N(e,n,r,i){var l,g,y,E,S,T=n;if(b===2)return;b=2,u&&clearTimeout(u),f=t,o=i||"",x.readyState=e>0?4:0,l=e>=200&&e<300||e===304,r&&(E=Hn(c,x,r)),E=Bn(c,E,x,l);if(l)c.ifModified&&(S=x.getResponseHeader("Last-Modified"),S&&(w.lastModified[s]=S),S=x.getResponseHeader("etag"),S&&(w.etag[s]=S)),e===204||c.type==="HEAD"?T="nocontent":e===304?T="notmodified":(T=E.state,g=E.data,y=E.error,l=!y);else{y=T;if(e||!T)T="error",e<0&&(e=0)}x.status=e,x.statusText=(n||T)+"",l?d.resolveWith(h,[g,T,x]):d.rejectWith(h,[x,T,y]),x.statusCode(m),m=t,a&&p.trigger(l?"ajaxSuccess":"ajaxError",[x,c,l?g:y]),v.fireWith(h,[x,T]),a&&(p.trigger("ajaxComplete",[x,c]),--w.active||w.event.trigger("ajaxStop"))}typeof e=="object"&&(n=e,e=t),n=n||{};var r,i,s,o,u,a,f,l,c=w.ajaxSetup({},n),h=c.context||c,p=c.context&&(h.nodeType||h.jquery)?w(h):w.event,d=w.Deferred(),v=w.Callbacks("once memory"),m=c.statusCode||{},g={},y={},b=0,E="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(b===2){if(!l){l={};while(t=Sn.exec(o))l[t[1].toLowerCase()]=t[2]}t=l[e.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return b===2?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,g[e]=t),this},overrideMimeType:function(e){return b||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)m[t]=[m[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||E;return f&&f.abort(t),N(0,t),this}};d.promise(x).complete=v.add,x.success=x.done,x.error=x.fail,c.url=((e||c.url||gn)+"").replace(wn,"").replace(Nn,mn[1]+"//"),c.type=n.method||n.type||c.method||c.type,c.dataTypes=w.trim(c.dataType||"*").toLowerCase().match(S)||[""],c.crossDomain==null&&(r=Cn.exec(c.url.toLowerCase()),c.crossDomain=!(!r||r[1]===mn[1]&&r[2]===mn[2]&&(r[3]||(r[1]==="http:"?"80":"443"))===(mn[3]||(mn[1]==="http:"?"80":"443")))),c.data&&c.processData&&typeof c.data!="string"&&(c.data=w.param(c.data,c.traditional)),Dn(Ln,c,n,x);if(b===2)return x;a=c.global,a&&w.active++===0&&w.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!Tn.test(c.type),s=c.url,c.hasContent||(c.data&&(s=c.url+=(bn.test(s)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=En.test(s)?s.replace(En,"$1_="+yn++):s+(bn.test(s)?"&":"?")+"_="+yn++)),c.ifModified&&(w.lastModified[s]&&x.setRequestHeader("If-Modified-Since",w.lastModified[s]),w.etag[s]&&x.setRequestHeader("If-None-Match",w.etag[s])),(c.data&&c.hasContent&&c.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",c.contentType),x.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+(c.dataTypes[0]!=="*"?", "+On+"; q=0.01":""):c.accepts["*"]);for(i in c.headers)x.setRequestHeader(i,c.headers[i]);if(!c.beforeSend||c.beforeSend.call(h,x,c)!==!1&&b!==2){E="abort";for(i in{success:1,error:1,complete:1})x[i](c[i]);f=Dn(An,c,n,x);if(!f)N(-1,"No Transport");else{x.readyState=1,a&&p.trigger("ajaxSend",[x,c]),c.async&&c.timeout>0&&(u=setTimeout(function(){x.abort("timeout")},c.timeout));try{b=1,f.send(g,N)}catch(T){if(!(b<2))throw T;N(-1,T)}}return x}return x.abort()},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,n){return w.get(e,t,n,"script")}}),w.each(["get","post"],function(e,n){w[n]=function(e,r,i,s){return w.isFunction(r)&&(s=s||i,i=r,r=t),w.ajax({url:e,type:n,dataType:s,data:r,success:i})}}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),w.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=o.head||w("head")[0]||o.documentElement;return{send:function(t,i){n=o.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){if(t||!n.readyState||/loaded|complete/.test(n.readyState))n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success")},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var jn=[],Fn=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=jn.pop()||w.expando+"_"+yn++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(n,r,i){var s,o,u,a=n.jsonp!==!1&&(Fn.test(n.url)?"url":typeof n.data=="string"&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Fn.test(n.data)&&"data");if(a||n.dataTypes[0]==="jsonp")return s=n.jsonpCallback=w.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,a?n[a]=n[a].replace(Fn,"$1"+s):n.jsonp!==!1&&(n.url+=(bn.test(n.url)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return u||w.error(s+" was not called"),u[0]},n.dataTypes[0]="json",o=e[s],e[s]=function(){u=arguments},i.always(function(){e[s]=o,n[s]&&(n.jsonpCallback=r.jsonpCallback,jn.push(s)),u&&w.isFunction(o)&&o(u[0]),u=o=t}),"script"});var In,qn,Rn=0,Un=e.ActiveXObject&&function(){var e;for(e in In)In[e](t,!0)};w.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&zn()||Wn()}:zn,qn=w.ajaxSettings.xhr(),w.support.cors=!!qn&&"withCredentials"in qn,qn=w.support.ajax=!!qn,qn&&w.ajaxTransport(function(n){if(!n.crossDomain||w.support.cors){var r;return{send:function(i,s){var o,u,a=n.xhr();n.username?a.open(n.type,n.url,n.async,n.username,n.password):a.open(n.type,n.url,n.async);if(n.xhrFields)for(u in n.xhrFields)a[u]=n.xhrFields[u];n.mimeType&&a.overrideMimeType&&a.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(u in i)a.setRequestHeader(u,i[u])}catch(f){}a.send(n.hasContent&&n.data||null),r=function(e,i){var u,f,l,c;try{if(r&&(i||a.readyState===4)){r=t,o&&(a.onreadystatechange=w.noop,Un&&delete In[o]);if(i)a.readyState!==4&&a.abort();else{c={},u=a.status,f=a.getAllResponseHeaders(),typeof a.responseText=="string"&&(c.text=a.responseText);try{l=a.statusText}catch(h){l=""}!u&&n.isLocal&&!n.crossDomain?u=c.text?200:404:u===1223&&(u=204)}}}catch(p){i||s(-1,p)}c&&s(u,l,c,f)},n.async?a.readyState===4?setTimeout(r):(o=++Rn,Un&&(In||(In={},w(e).unload(Un)),In[o]=r),a.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Xn,Vn,$n=/^(?:toggle|show|hide)$/,Jn=new RegExp("^(?:([+-])=|)("+E+")([a-z%]*)$","i"),Kn=/queueHooks$/,Qn=[nr],Gn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Jn.exec(t),s=i&&i[3]||(w.cssNumber[e]?"":"px"),o=(w.cssNumber[e]||s!=="px"&&+r)&&Jn.exec(w.css(n.elem,e)),u=1,a=20;if(o&&o[3]!==s){s=s||o[3],i=i||[],o=+r||1;do u=u||".5",o/=u,w.style(n.elem,e,o+s);while(u!==(u=n.cur()/r)&&u!==1&&--a)}return i&&(o=n.start=+o||+r||0,n.unit=s,n.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),n}]};w.Animation=w.extend(er,{tweener:function(e,t){w.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],Gn[n]=Gn[n]||[],Gn[n].unshift(t)},prefilter:function(e,t){t?Qn.unshift(e):Qn.push(e)}}),w.Tween=rr,rr.prototype={constructor:rr,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(w.cssNumber[n]?"":"px")},cur:function(){var e=rr.propHooks[this.prop];return e&&e.get?e.get(this):rr.propHooks._default.get(this)},run:function(e){var t,n=rr.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rr.propHooks._default.set(this),this}},rr.prototype.init.prototype=rr.prototype,rr.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=w.css(e.elem,e.prop,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):e.elem.style&&(e.elem.style[w.cssProps[e.prop]]!=null||w.cssHooks[e.prop])?w.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.each(["toggle","show","hide"],function(e,t){var n=w.fn[t];w.fn[t]=function(e,r,i){return e==null||typeof e=="boolean"?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i)}}),w.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=w.isEmptyObject(e),s=w.speed(t,n,r),o=function(){var t=er(this,w.extend({},e),s);(i||w._data(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return typeof e!="string"&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=e!=null&&e+"queueHooks",s=w.timers,o=w._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&Kn.test(n)&&i(o[n]);for(n=s.length;n--;)s[n].elem===this&&(e==null||s[n].queue===e)&&(s[n].anim.stop(r),t=!1,s.splice(n,1));(t||!r)&&w.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=w._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=w.timers,o=r?r.length:0;n.finish=!0,w.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0);for(t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),w.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){w.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),w.speed=function(e,t,n){var r=e&&typeof e=="object"?w.extend({},e):{complete:n||!n&&t||w.isFunction(e)&&e,duration:e,easing:n&&t||t&&!w.isFunction(t)&&t};r.duration=w.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in w.fx.speeds?w.fx.speeds[r.duration]:w.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){w.isFunction(r.old)&&r.old.call(this),r.queue&&w.dequeue(this,r.queue)},r},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},w.timers=[],w.fx=rr.prototype.init,w.fx.tick=function(){var e,n=w.timers,r=0;Xn=w.now();for(;r<n.length;r++)e=n[r],!e()&&n[r]===e&&n.splice(r--,1);n.length||w.fx.stop(),Xn=t},w.fx.timer=function(e){e()&&w.timers.push(e)&&w.fx.start()},w.fx.interval=13,w.fx.start=function(){Vn||(Vn=setInterval(w.fx.tick,w.fx.interval))},w.fx.stop=function(){clearInterval(Vn),Vn=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fx.step={},w.expr&&w.expr.filters&&(w.expr.filters.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length}),w.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){w.offset.setOffset(this,e,t)});var n,r,s={top:0,left:0},o=this[0],u=o&&o.ownerDocument;if(!u)return;return n=u.documentElement,w.contains(n,o)?(typeof o.getBoundingClientRect!==i&&(s=o.getBoundingClientRect()),r=sr(u),{top:s.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:s.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):s},w.offset={setOffset:function(e,t,n){var r=w.css(e,"position");r==="static"&&(e.style.position="relative");var i=w(e),s=i.offset(),o=w.css(e,"top"),u=w.css(e,"left"),a=(r==="absolute"||r==="fixed")&&w.inArray("auto",[o,u])>-1,f={},l={},c,h;a?(l=i.position(),c=l.top,h=l.left):(c=parseFloat(o)||0,h=parseFloat(u)||0),w.isFunction(t)&&(t=t.call(e,n,s)),t.top!=null&&(f.top=t.top-s.top+c),t.left!=null&&(f.left=t.left-s.left+h),"using"in t?t.using.call(e,f):i.css(f)}},w.fn.extend({position:function(){if(!this[0])return;var e,t,n={top:0,left:0},r=this[0];return w.css(r,"position")==="fixed"?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),w.nodeName(e[0],"html")||(n=e.offset()),n.top+=w.css(e[0],"borderTopWidth",!0),n.left+=w.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-w.css(r,"marginTop",!0),left:t.left-n.left-w.css(r,"marginLeft",!0)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||u;while(e&&!w.nodeName(e,"html")&&w.css(e,"position")==="static")e=e.offsetParent;return e||u})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);w.fn[e]=function(i){return w.access(this,function(e,i,s){var o=sr(e);if(s===t)return o?n in o?o[n]:o.document.documentElement[i]:e[i];o?o.scrollTo(r?w(o).scrollLeft():s,r?s:w(o).scrollTop()):e[i]=s},e,i,arguments.length,null)}}),w.each({Height:"height",Width:"width"},function(e,n){w.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){w.fn[i]=function(i,s){var o=arguments.length&&(r||typeof i!="boolean"),u=r||(i===!0||s===!0?"margin":"border");return w.access(this,function(n,r,i){var s;return w.isWindow(n)?n.document.documentElement["client"+e]:n.nodeType===9?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):i===t?w.css(n,r,u):w.style(n,r,i,u)},n,o?i:t,o,null)}})}),w.fn.size=function(){return this.length},w.fn.andSelf=w.fn.addBack,typeof module=="object"&&module&&typeof module.exports=="object"?module.exports=w:(e.jQuery=e.$=w,typeof define=="function"&&define.amd&&define("jquery",[],function(){return w}))})(window),function(e,t,n){function i(n){var i=t.console;r[n]||(r[n]=!0,e.migrateWarnings.push(n),i&&i.warn&&!e.migrateMute&&(i.warn("JQMIGRATE: "+n),e.migrateTrace&&i.trace&&i.trace()))}function s(t,n,r,s){if(Object.defineProperty)try{Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:function(){return i(s),r},set:function(e){i(s),r=e}});return}catch(o){}e._definePropertyBroken=!0,t[n]=r}var r={};e.migrateWarnings=[],e.migrateMute=!0,!e.migrateMute&&t.console&&t.console.log&&t.console.log("JQMIGRATE: Logging is active"),e.migrateTrace===n&&(e.migrateTrace=!0),e.migrateReset=function(){r={},e.migrateWarnings.length=0},document.compatMode==="BackCompat"&&i("jQuery is not compatible with Quirks Mode");var o=e("<input/>",{size:1}).attr("size")&&e.attrFn,u=e.attr,a=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},f=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},l=/^(?:input|button)$/i,c=/^[238]$/,h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,p=/^(?:checked|selected)$/i;s(e,"attrFn",o||{},"jQuery.attrFn is deprecated"),e.attr=function(t,r,s,a){var f=r.toLowerCase(),d=t&&t.nodeType;if(a){u.length<4&&i("jQuery.fn.attr( props, pass ) is deprecated");if(t&&!c.test(d)&&(o?r in o:e.isFunction(e.fn[r])))return e(t)[r](s)}return r==="type"&&s!==n&&l.test(t.nodeName)&&t.parentNode&&i("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[f]&&h.test(f)&&(e.attrHooks[f]={get:function(t,r){var i,s=e.prop(t,r);return s===!0||typeof s!="boolean"&&(i=t.getAttributeNode(r))&&i.nodeValue!==!1?r.toLowerCase():n},set:function(t,n,r){var i;return n===!1?e.removeAttr(t,r):(i=e.propFix[r]||r,i in t&&(t[i]=!0),t.setAttribute(r,r.toLowerCase())),r}},p.test(f)&&i("jQuery.fn.attr('"+f+"') may use property instead of attribute")),u.call(e,t,r,s)},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return n==="button"?a.apply(this,arguments):(n!=="input"&&n!=="option"&&i("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var n=(e.nodeName||"").toLowerCase();if(n==="button")return f.apply(this,arguments);n!=="input"&&n!=="option"&&i("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t}};var d,v,m=e.fn.init,g=e.parseJSON,y=/^([^<]*)(<[\w\W]+>)([^>]*)$/;e.fn.init=function(t,n,r){var s;if(t&&typeof t=="string"&&!e.isPlainObject(n)&&(s=y.exec(e.trim(t)))&&s[0]){t.charAt(0)!=="<"&&i("$(html) HTML strings must start with '<' character"),s[3]&&i("$(html) HTML text after last tag is ignored"),s[0].charAt(0)==="#"&&(i("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),n&&n.context&&(n=n.context);if(e.parseHTML)return m.call(this,e.parseHTML(s[2],n,!0),n,r)}return m.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return!e&&e!==null?(i("jQuery.parseJSON requires a valid JSON string"),null):g.apply(this,arguments)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(d=e.uaMatch(navigator.userAgent),v={},d.browser&&(v[d.browser]=!0,v.version=d.version),v.chrome?v.webkit=!0:v.webkit&&(v.safari=!0),e.browser=v),s(e,"browser",e.browser,"jQuery.browser is deprecated"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(i,s){return s&&s instanceof e&&!(s instanceof t)&&(s=t(s)),e.fn.init.call(this,i,s,n)},t.fn.init.prototype=t.fn;var n=t(document);return i("jQuery.sub() is deprecated"),t},e.ajaxSetup({converters:{"text json":e.parseJSON}});var b=e.fn.data;e.fn.data=function(t){var r,s,o=this[0];if(o&&t==="events"&&arguments.length===1){r=e.data(o,t),s=e._data(o,t);if((r===n||r===s)&&s!==n)return i("Use of jQuery.fn.data('events') is deprecated"),s}return b.apply(this,arguments)};var w=/\/(java|ecma)script/i,E=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return i("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),E.apply(this,arguments)},e.clean||(e.clean=function(t,n,r,s){n=n||document,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,i("jQuery.clean() is deprecated");var o,u,a,f,l=[];e.merge(l,e.buildFragment(t,n).childNodes);if(r){a=function(e){if(!e.type||w.test(e.type))return s?s.push(e.parentNode?e.parentNode.removeChild(e):e):r.appendChild(e)};for(o=0;(u=l[o])!=null;o++)if(!e.nodeName(u,"script")||!a(u))r.appendChild(u),typeof u.getElementsByTagName!="undefined"&&(f=
e.grep(e.merge([],u.getElementsByTagName("script")),a),l.splice.apply(l,[o+1,0].concat(f)),o+=f.length)}return l});var S=e.event.add,x=e.event.remove,T=e.event.trigger,N=e.fn.toggle,C=e.fn.live,k=e.fn.die,L="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",A=new RegExp("\\b(?:"+L+")\\b"),O=/(?:^|\s)hover(\.\S+|)\b/,M=function(t){return typeof t!="string"||e.event.special.hover?t:(O.test(t)&&i("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(O,"mouseenter$1 mouseleave$1"))};e.event.props&&e.event.props[0]!=="attrChange"&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&s(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,r,s){e!==document&&A.test(t)&&i("AJAX events should be attached to document: "+t),S.call(this,e,M(t||""),n,r,s)},e.event.remove=function(e,t,n,r,i){x.call(this,e,M(t)||"",n,r,i)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return i("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return N.apply(this,arguments);i("jQuery.fn.toggle(handler, handler...) is deprecated");var r=arguments,s=t.guid||e.guid++,o=0,u=function(n){var i=(e._data(this,"lastToggle"+t.guid)||0)%o;return e._data(this,"lastToggle"+t.guid,i+1),n.preventDefault(),r[i].apply(this,arguments)||!1};u.guid=s;while(o<r.length)r[o++].guid=s;return this.click(u)},e.fn.live=function(t,n,r){return i("jQuery.fn.live() is deprecated"),C?C.apply(this,arguments):(e(this.context).on(t,this.selector,n,r),this)},e.fn.die=function(t,n){return i("jQuery.fn.die() is deprecated"),k?k.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,r){return!n&&!A.test(e)&&i("Global events are undocumented and deprecated"),T.call(this,e,t,n||document,r)},e.each(L.split("|"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,function(){e.event.trigger(n,null,t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}})}(jQuery,window),function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J,K,Q,G,Y,Z,et,tt,nt=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},rt=function(e,t){function r(){this.constructor=e}for(var n in t)it.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},it={}.hasOwnProperty,st=[].slice,ot=function(e,t){return function(){return e.apply(t,arguments)}};D={},h=10,G=!1,F=null,y=null,M=null,R=null,tt=null,r={BEFORE_CHANGE:"page:before-change",FETCH:"page:fetch",RECEIVE:"page:receive",CHANGE:"page:change",UPDATE:"page:update",LOAD:"page:load",RESTORE:"page:restore",BEFORE_UNLOAD:"page:before-unload",EXPIRE:"page:expire"},x=function(e){var t;return e=new n(e),V(),c(),F!=null&&F.start(),G&&(t=Y(e.absolute))?(T(t),N(e,null,!1)):N(e,K)},Y=function(e){var t;t=D[e];if(t&&!t.transitionCacheDisabled)return t},w=function(e){return e==null&&(e=!0),G=e},b=function(e){e==null&&(e=!0);if(!f)return;return e?F!=null?F:F=new s("html"):(F!=null&&F.uninstall(),F=null)},N=function(e,t,n){return n==null&&(n=!0),Z(r.FETCH,{url:e.absolute}),tt!=null&&tt.abort(),tt=new XMLHttpRequest,tt.open("GET",e.withoutHashForIE10compatibility(),!0),tt.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),tt.setRequestHeader("X-XHR-Referer",R),tt.onload=function(){var n;return Z(r.RECEIVE,{url:e.absolute}),(n=j())?(U(e),z(),p.apply(null,S(n)),_(),typeof t=="function"&&t(),Z(r.LOAD)):document.location.href=g()||e.absolute},F&&n&&(tt.onprogress=function(e){return function(e){var t;return t=e.lengthComputable?e.loaded/e.total*100:F.value+(100-F.value)/10,F.advanceTo(t)}}(this)),tt.onloadend=function(){return tt=null},tt.onerror=function(){return document.location.href=e.absolute},tt.send()},T=function(e){return tt!=null&&tt.abort(),p(e.title,e.body),I(e),Z(r.RESTORE)},c=function(){var e;return e=new n(y.url),D[e.absolute]={url:e.relative,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset,cachedAt:(new Date).getTime(),transitionCacheDisabled:document.querySelector("[data-no-transition-cache]")!=null},v(h)},H=function(e){e==null&&(e=h);if(/^[\d]+$/.test(e))return h=parseInt(e)},v=function(e){var t,n,i,s,o,u;o=Object.keys(D),t=o.map(function(e){return D[e].cachedAt}).sort(function(e,t){return t-e}),u=[];for(n=0,s=o.length;n<s;n++){i=o[n];if(!(D[i].cachedAt<=t[e]))continue;Z(r.EXPIRE,D[i]),u.push(delete D[i])}return u},p=function(t,n,i,s){return Z(r.BEFORE_UNLOAD),document.title=t,document.documentElement.replaceChild(n,document.body),i!=null&&e.update(i),Q(),s&&E(),y=window.history.state,F!=null&&F.done(),Z(r.CHANGE),Z(r.UPDATE)},E=function(){var e,t,n,r,i,s,o,u,a,f,l,c;c=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])'));for(n=0,i=c.length;n<i;n++){l=c[n];if((a=l.type)!==""&&a!=="text/javascript")continue;t=document.createElement("script"),f=l.attributes;for(r=0,s=f.length;r<s;r++)e=f[r],t.setAttribute(e.name,e.value);l.hasAttribute("async")||(t.async=!1),t.appendChild(document.createTextNode(l.innerHTML)),u=l.parentNode,o=l.nextSibling,u.removeChild(l),u.insertBefore(t,o)}},$=function(e){return e.innerHTML=e.innerHTML.replace(/<noscript[\S\s]*?<\/noscript>/ig,""),e},Q=function(){var e,t;e=(t=document.querySelectorAll("input[autofocus], textarea[autofocus]"))[t.length-1];if(e&&document.activeElement!==e)return e.focus()},U=function(e){if((e=new n(e)).absolute!==R)return window.history.pushState({turbolinks:!0,url:e.absolute},"",e.absolute)},z=function(){var e,t;if(e=tt.getResponseHeader("X-XHR-Redirected-To"))return e=new n(e),t=e.hasNoHash()?document.location.hash:"",window.history.replaceState(window.history.state,"",e.href+t)},g=function(){var e;if((e=tt.getResponseHeader("Location"))!=null&&(new n(e)).crossOrigin())return e},V=function(){return R=document.location.href},X=function(){return window.history.replaceState({turbolinks:!0,url:document.location.href},"",document.location.href)},W=function(){return y=window.history.state},_=function(){var e;if(navigator.userAgent.match(/Firefox/)&&!(e=new n).hasNoHash())return window.history.replaceState(y,"",e.withoutHash()),document.location.hash=e.hash},I=function(e){return window.scrollTo(e.positionX,e.positionY)},K=function(){return document.location.hash?document.location.href=document.location.href:window.scrollTo(0,0)},d=function(e){var t,n,r;if(e==null||typeof e!="object")return e;t=new e.constructor;for(n in e)r=e[n],t[n]=d(r);return t},B=function(e){var t,n;return n=((t=document.cookie.match(new RegExp(e+"=(\\w+)")))!=null?t[1].toUpperCase():void 0)||"",document.cookie=e+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",n},Z=function(e,t){var n;return typeof Prototype!="undefined"&&Event.fire(document,e,t,!0),n=document.createEvent("Events"),t&&(n.data=t),n.initEvent(e,!0,!0),document.dispatchEvent(n)},P=function(e){return!Z(r.BEFORE_CHANGE,{url:e})},j=function(){var e,t,n,r,i,s;t=function(){var e;return 400<=(e=tt.status)&&e<600},s=function(){var e;return(e=tt.getResponseHeader("Content-Type"))!=null&&e.match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},r=function(e){var t,n,r,i,s;i=e.querySelector("head").childNodes,s=[];for(t=0,n=i.length;t<n;t++)r=i[t],(typeof r.getAttribute==="function"?r.getAttribute("data-turbolinks-track"):void 0)!=null&&s.push(r.getAttribute("src")||r.getAttribute("href"));return s},e=function(e){var t;return M||(M=r(document)),t=r(e),t.length!==M.length||i(t,M).length!==M.length},i=function(e,t){var n,r,i,s,o;e.length>t.length&&(i=[t,e],e=i[0],t=i[1]),s=[];for(n=0,r=e.length;n<r;n++)o=e[n],nt.call(t,o)>=0&&s.push(o);return s};if(!t()&&s()){n=m(tt.responseText);if(n&&!e(n))return n}},S=function(t){var n;return n=t.querySelector("title"),[n!=null?n.textContent:void 0,$(t.querySelector("body")),e.get(t).token,"runScripts"]},e={get:function(e){var t;return e==null&&(e=document),{node:t=e.querySelector('meta[name="csrf-token"]'),token:t!=null?typeof t.getAttribute=="function"?t.getAttribute("content"):void 0:void 0}},update:function(e){var t;t=this.get();if(t.token!=null&&e!=null&&t.token!==e)return t.node.setAttribute("content",e)}},m=function(e){var t;return t=document.documentElement.cloneNode(),t.innerHTML=e,t.head=t.querySelector("head"),t.body=t.querySelector("body"),t},n=function(){function e(t){this.original=t!=null?t:document.location.href;if(this.original.constructor===e)return this.original;this._parse()}return e.prototype.withoutHash=function(){return this.href.replace(this.hash,"").replace("#","")},e.prototype.withoutHashForIE10compatibility=function(){return this.withoutHash()},e.prototype.hasNoHash=function(){return this.hash.length===0},e.prototype.crossOrigin=function(){return this.origin!==(new e).origin},e.prototype._parse=function(){var e;return(this.link!=null?this.link:this.link=document.createElement("a")).href=this.original,e=this.link,this.href=e.href,this.protocol=e.protocol,this.host=e.host,this.hostname=e.hostname,this.port=e.port,this.pathname=e.pathname,this.search=e.search,this.hash=e.hash,this.origin=[this.protocol,"//",this.hostname].join(""),this.port.length!==0&&(this.origin+=":"+this.port),this.relative=[this.pathname,this.search,this.hash].join(""),this.absolute=this.href},e}(),i=function(e){function t(e){this.link=e;if(this.link.constructor===t)return this.link;this.original=this.link.href,this.originalElement=this.link,this.link=this.link.cloneNode(!1),t.__super__.constructor.apply(this,arguments)}return rt(t,e),t.HTML_EXTENSIONS=["html"],t.allowExtensions=function(){var e,n,r,i;n=1<=arguments.length?st.call(arguments,0):[];for(r=0,i=n.length;r<i;r++)e=n[r],t.HTML_EXTENSIONS.push(e);return t.HTML_EXTENSIONS},t.prototype.shouldIgnore=function(){return this.crossOrigin()||this._anchored()||this._nonHtml()||this._optOut()||this._target()},t.prototype._anchored=function(){return(this.hash.length>0||this.href.charAt(this.href.length-1)==="#")&&this.withoutHash()===(new n).withoutHash()},t.prototype._nonHtml=function(){return this.pathname.match(/\.[a-z]+$/g)&&!this.pathname.match(new RegExp("\\.(?:"+t.HTML_EXTENSIONS.join("|")+")?$","g"))},t.prototype._optOut=function(){var e,t;t=this.originalElement;while(!e&&t!==document)e=t.getAttribute("data-no-turbolink")!=null,t=t.parentNode;return e},t.prototype._target=function(){return this.link.target.length!==0},t}(n),t=function(){function e(e){this.event=e;if(this.event.defaultPrevented)return;this._extractLink(),this._validForTurbolinks()&&(P(this.link.absolute)||et(this.link.href),this.event.preventDefault())}return e.installHandlerLast=function(t){if(!t.defaultPrevented)return document.removeEventListener("click",e.handle,!1),document.addEventListener("click",e.handle,!1)},e.handle=function(t){return new e(t)},e.prototype._extractLink=function(){var e;e=this.event.target;while(!!e.parentNode&&e.nodeName!=="A")e=e.parentNode;if(e.nodeName==="A"&&e.href.length!==0)return this.link=new i(e)},e.prototype._validForTurbolinks=function(){return this.link!=null&&!this.link.shouldIgnore()&&!this._nonStandardClick()},e.prototype._nonStandardClick=function(){return this.event.which>1||this.event.metaKey||this.event.ctrlKey||this.event.shiftKey||this.event.altKey},e}(),s=function(){function t(e){this.elementSelector=e,this._trickle=ot(this._trickle,this),this.value=0,this.content="",this.speed=300,this.opacity=.99,this.install()}var e;return e="turbolinks-progress-bar",t.prototype.install=function(){return this.element=document.querySelector(this.elementSelector),this.element.classList.add(e),this.styleElement=document.createElement("style"),document.head.appendChild(this.styleElement),this._updateStyle()},t.prototype.uninstall=function(){return this.element.classList.remove(e),document.head.removeChild(this.styleElement)},t.prototype.start=function(){return this.advanceTo(5)},t.prototype.advanceTo=function(e){var t;if(e>(t=this.value)&&t<=100){this.value=e,this._updateStyle();if(this.value===100)return this._stopTrickle();if(this.value>0)return this._startTrickle()}},t.prototype.done=function(){if(this.value>0)return this.advanceTo(100),this._reset()},t.prototype._reset=function(){var e;return e=this.opacity,setTimeout(function(e){return function(){return e.opacity=0,e._updateStyle()}}(this),this.speed/2),setTimeout(function(t){return function(){return t.value=0,t.opacity=e,t._withSpeed(0,function(){return t._updateStyle(!0)})}}(this),this.speed)},t.prototype._startTrickle=function(){if(this.trickling)return;return this.trickling=!0,setTimeout(this._trickle,this.speed)},t.prototype._stopTrickle=function(){return delete this.trickling},t.prototype._trickle=function(){if(!this.trickling)return;return this.advanceTo(this.value+Math.random()/2),setTimeout(this._trickle,this.speed)},t.prototype._withSpeed=function(e,t){var n,r;return n=this.speed,this.speed=e,r=t(),this.speed=n,r},t.prototype._updateStyle=function(e){return e==null&&(e=!1),e&&this._changeContentToForceRepaint(),this.styleElement.textContent=this._createCSSRule()},t.prototype._changeContentToForceRepaint=function(){return this.content=this.content===""?" ":""},t.prototype._createCSSRule=function(){return this.elementSelector+"."+e+"::before {\n  content: '"+this.content+"';\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 2000;\n  background-color: #0076ff;\n  height: 3px;\n  opacity: "+this.opacity+";\n  width: "+this.value+"%;\n  transition: width "+this.speed+"ms ease-out, opacity "+this.speed/2+"ms ease-in;\n  transform: translate3d(0,0,0);\n}"},t}(),l=function(e){return setTimeout(e,500)},L=function(){return document.addEventListener("DOMContentLoaded",function(){return Z(r.CHANGE),Z(r.UPDATE)},!0)},O=function(){if(typeof jQuery!="undefined")return jQuery(document).on("ajaxSuccess",function(e,t,n){if(!jQuery.trim(t.responseText))return;return Z(r.UPDATE)})},A=function(e){var t,r;if((r=e.state)!=null?r.turbolinks:void 0)return(t=D[(new n(e.state.url)).absolute])?(c(),T(t)):et(e.target.location.href)},k=function(){return X(),W(),document.addEventListener("click",t.installHandlerLast,!0),window.addEventListener("hashchange",function(e){return X(),W()},!1),l(function(){return window.addEventListener("popstate",A,!1)})},C=window.history.state!==void 0||navigator.userAgent.match(/Firefox\/2[6|7]/),a=window.history&&window.history.pushState&&window.history.replaceState&&C,o=!navigator.userAgent.match(/CriOS\//),J=(q=B("request_method"))==="GET"||q==="",f=a&&o&&J,u=document.addEventListener&&document.createEvent,u&&(L(),O()),f?(et=x,k()):et=function(e){return document.location.href=e},this.Turbolinks={visit:et,pagesCached:H,enableTransitionCache:w,enableProgressBar:b,allowLinkExtensions:i.allowExtensions,supported:f,EVENTS:d(r)}}.call(this),function(e,t){e.rails!==t&&e.error("jquery-ujs has already been loaded!");var n,r=e(document);e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},fire:function(t,n,r){var i=e.Event(n);return t.trigger(i,r),i.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(r){var i,s,o,u,a,f,l,c;if(n.fire(r,"ajax:before")){u=r.data("cross-domain"),a=u===t?null:u,f=r.data("with-credentials")||null,l=r.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType;if(r.is("form")){i=r.attr("method"),s=r.attr("action"),o=r.serializeArray();var h=r.data("ujs:submit-button");h&&(o.push(h),r.data("ujs:submit-button",null))}else r.is(n.inputChangeSelector)?(i=r.data("method"),s=r.data("url"),o=r.serialize(),r.data("params")&&(o=o+"&"+r.data("params"))):r.is(n.buttonClickSelector)?(i=r.data("method")||"get",s=r.data("url"),o=r.serialize(),r.data("params")&&(o=o+"&"+r.data("params"))):(i=r.data("method"),s=n.href(r),o=r.data("params")||null);c={type:i||"GET",data:o,dataType:l,beforeSend:function(e,i){return i.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+i.accepts.script),n.fire(r,"ajax:beforeSend",[e,i])},success:function(e,t,n){r.trigger("ajax:success",[e,t,n])},complete:function(e,t){r.trigger("ajax:complete",[e,t])},error:function(e,t,n){r.trigger("ajax:error",[e,t,n])},crossDomain:a},f&&(c.xhrFields={withCredentials:f}),s&&(c.url=s);var p=n.ajax(c);return r.trigger("ajax:send",p),p}return!1},handleMethod:function(r){var i=n.href(r),s=r.data("method"),o=r.attr("target"),u=e("meta[name=csrf-token]").attr("content"),a=e("meta[name=csrf-param]").attr("content"),f=e('<form method="post" action="'+i+'"></form>'),l='<input name="_method" value="'+s+'" type="hidden" />';a!==t&&u!==t&&(l+='<input name="'+a+'" value="'+u+'" type="hidden" />'),o&&f.attr("target",o),f.hide().append(l).appendTo("body"),f.submit()},disableFormElements:function(t){t.find(n.disableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with",t[n]()),t[n](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(n.enableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[n](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t=e.data("confirm"),r=!1,i;return t?(n.fire(e,"confirm")&&(r=n.confirm(t),i=n.fire(e,"confirm:complete",[r])),r&&i):!0},blankInputs:function(t,n,r){var i=e(),s,o,u=n||"input,textarea",a=t.find(u);return a.each(function(){s=e(this),o=s.is("input[type=checkbox],input[type=radio]")?s.is(":checked"):s.val();if(!o==!r){if(s.is("input[type=radio]")&&a.filter('input[type=radio]:checked[name="'+s.attr("name")+'"]').length)return!0;i=i.add(s)}}),i.length?i:!1},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return n.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable")}},n.fire(r,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,r){e.crossDomain||n.CSRFProtection(r)}),r.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(e(this))}),r.delegate(n.linkClickSelector,"click.rails",function(r){var i=e(this),s=i.data("method"),o=i.data("params");if(!n.allowAction(i))return n.stopEverything(r);i.is(n.linkDisableSelector)&&n.disableElement(i);if(i.data("remote")!==t){if((r.metaKey||r.ctrlKey)&&(!s||s==="GET")&&!o)return!0;var u=n.handleRemote(i);return u===!1?n.enableElement(i):u.error(function(){n.enableElement(i)}),!1}if(i.data("method"))return n.handleMethod(i),!1}),r.delegate(n.buttonClickSelector,"click.rails",function(t){var r=e(this);return n.allowAction(r)?(n.handleRemote(r),!1):n.stopEverything(t)}),r.delegate(n.inputChangeSelector,"change.rails",function(t){var r=e(this);return n.allowAction(r)?(n.handleRemote(r),!1):n.stopEverything(t)}),r.delegate(n.formSubmitSelector,"submit.rails",function(r){var i=e(this),s=i.data("remote")!==t,o=n.blankInputs(i,n.requiredInputSelector),u=n.nonBlankInputs(i,n.fileInputSelector);if(!n.allowAction(i))return n.stopEverything(r);if(o&&i.attr("novalidate")==t&&n.fire(i,"ajax:aborted:required",[o]))return n.stopEverything(r);if(s){if(u){setTimeout(function(){n.disableFormElements(i)},13);var a=n.fire(i,"ajax:aborted:file",[u]);return a||setTimeout(function(){n.enableFormElements(i)},13),a}return n.handleRemote(i),!1}setTimeout(function(){n.disableFormElements(i)},13)}),r.delegate(n.formInputClickSelector,"click.rails",function(t){var r=e(this);if(!n.allowAction(r))return n.stopEverything(t);var i=r.attr("name"),s=i?{name:i,value:r.val()}:null;r.closest("form").data("ujs:submit-button",s)}),r.delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&n.disableFormElements(e(this))}),r.delegate(n.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&n.enableFormElements(e(this))}),e(function(){var t=e("meta[name=csrf-token]").attr("content"),n=e("meta[name=csrf-param]").attr("content");e('form input[name="'+n+'"]').val(t)}))}(jQuery),function(e){e.extend(e.fn,{livequery:function(t,n,r){var i=this,s;return e.isFunction(t)&&(r=n,n=t,t=undefined),e.each(e.livequery.queries,function(e,o){if(i.selector==o.selector&&i.context==o.context&&t==o.type&&(!n||n.$lqguid==o.fn.$lqguid)&&(!r||r.$lqguid==o.fn2.$lqguid))return(s=o)&&!1}),s=s||new e.livequery(this.selector,this.context,t,n,r),s.stopped=!1,s.run(),this},expire:function(t,n,r){var i=this;return e.isFunction(t)&&(r=n,n=t,t=undefined),e.each(e.livequery.queries,function(s,o){i.selector==o.selector&&i.context==o.context&&(!t||t==o.type)&&(!n||n.$lqguid==o.fn.$lqguid)&&(!r||r.$lqguid==o.fn2.$lqguid)&&!this.stopped&&e.livequery.stop(o.id)}),this}}),e.livequery=function(t,n,r,i,s){return this.selector=t,this.context=n,this.type=r,this.fn=i,this.fn2=s,this.elements=[],this.stopped=!1,this.id=e.livequery.queries.push(this)-1,i.$lqguid=i.$lqguid||e.livequery.guid++,s&&(s.$lqguid=s.$lqguid||e.livequery.guid++),this},e.livequery.prototype={stop:function(){var e=this;this.type?this.elements.unbind(this.type,this.fn):this.fn2&&this.elements.each(function(t,n){e.fn2.apply(n)}),this.elements=[],this.stopped=!0},run:function(){if(this.stopped)return;var t=this,n=this.elements,r=e(this.selector,this.context),i=r.not(n);this.elements=r,this.type?(i.bind(this.type,this.fn),n.length>0&&e.each(n,function(n,i){e.inArray(i,r)<0&&e.event.remove(i,t.type,t.fn)})):(i.each(function(){t.fn.apply(this)}),this.fn2&&n.length>0&&e.each(n,function(n,i){e.inArray(i,r)<0&&t.fn2.apply(i)}))}},e.extend(e.livequery,{guid:0,queries:[],queue:[],running:!1,timeout:null,checkQueue:function(){if(e.livequery.running&&e.livequery.queue.length){var t=e.livequery.queue.length;while(t--)e.livequery.queries[e.livequery.queue.shift()].run()}},pause:function(){e.livequery.running=!1},play:function(){e.livequery.running=!0,e.livequery.run()},registerPlugin:function(){e.each(arguments,function(t,n){if(!e.fn[n])return;var r=e.fn[n];e.fn[n]=function(){var t=r.apply(this,arguments);return e.livequery.run(),t}})},run:function(t){t!=undefined?e.inArray(t,e.livequery.queue)<0&&e.livequery.queue.push(t):e.each(e.livequery.queries,function(t){e.inArray(t,e.livequery.queue)<0&&e.livequery.queue.push(t)}),e.livequery.timeout&&clearTimeout(e.livequery.timeout),e.livequery.timeout=setTimeout(e.livequery.checkQueue,20)},stop:function(t){t!=undefined?e.livequery.queries[t].stop():e.each(e.livequery.queries,function(t){e.livequery.queries[t].stop()})}}),e.livequery.registerPlugin("append","prepend","after","before","wrap","attr","removeAttr","addClass","removeClass","toggleClass","empty","remove","html"),e(function(){e.livequery.play()})}(jQuery),function(e,t,n){function i(e){return e}function s(e){return decodeURIComponent(e.replace(r," "))}var r=/\+/g,o=e.cookie=function(r,u,a){if(u!==n){a=e.extend({},o.defaults,a),u===null&&(a.expires=-1);if(typeof a.expires=="number"){var f=a.expires,l=a.expires=new Date;l.setDate(l.getDate()+f)}return u=o.json?JSON.stringify(u):String(u),t.cookie=[encodeURIComponent(r),"=",o.raw?u:encodeURIComponent(u),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}var c=o.raw?i:s,h=t.cookie.split("; ");for(var p=0,d=h.length;p<d;p++){var v=h[p].split("=");if(c(v.shift())===r){var m=c(v.join("="));return o.json?JSON.parse(m):m}}return null};o.defaults={},e.removeCookie=function(t,n){return e.cookie(t)!==null?(e.cookie(t,null,n),!0):!1}}(jQuery,document),function(e,t){if(typeof define=="function"&&define.amd)define(["exports","module"],t);else if(typeof exports!="undefined"&&typeof module!="undefined")t(exports,module);else{var n={exports:{}};t(n.exports,n),e.autosize=n.exports}}(this,function(e,t){"use strict";function n(e){function a(){var t=window.getComputedStyle(e,null);t.resize==="vertical"?e.style.resize="none":t.resize==="both"&&(e.style.resize="horizontal"),t.boxSizing==="content-box"?o=-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):o=parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),l()}function f(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,u=t,s&&(e.style.overflowY=t),l()}function l(){var t=e.style.height,n=document.documentElement.scrollTop,r=document.body.scrollTop,i=e.style.height;e.style.height="auto";var s=e.scrollHeight+o;if(e.scrollHeight===0){e.style.height=i;return}e.style.height=s+"px",document.documentElement.scrollTop=n,document.body.scrollTop=r;var a=window.getComputedStyle(e,null);if(a.height!==e.style.height){if(u!=="visible"){f("visible");return}}else if(u!=="hidden"){f("hidden");return}if(t!==e.style.height){var l=document.createEvent("Event");l.initEvent("autosize:resized",!0,!1),e.dispatchEvent(l)}}var t=arguments[1]===undefined?{}:arguments[1],n=t.setOverflowX,r=n===undefined?!0:n,i=t.setOverflowY,s=i===undefined?!0:i;if(!e||!e.nodeName||e.nodeName!=="TEXTAREA"||e.hasAttribute("data-autosize-on"))return;var o=null,u="hidden",c=function(t){window.removeEventListener("resize",l),e.removeEventListener("input",l),e.removeEventListener("keyup",l),e.removeAttribute("data-autosize-on"),e.removeEventListener("autosize:destroy",c),Object.keys(t).forEach(function(n){e.style[n]=t[n]})}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",c),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",l),window.addEventListener("resize",l),e.addEventListener("input",l),e.addEventListener("autosize:update",l),e.setAttribute("data-autosize-on",!0),s&&(e.style.overflowY="hidden"),r&&(e.style.overflowX="hidden",e.style.wordWrap="break-word"),a()}function r(e){if(!e||!e.nodeName||e.nodeName!=="TEXTAREA")return;var t=document.createEvent("Event");t.initEvent("autosize:destroy",!0,!1),e.dispatchEvent(t)}function i(e){if(!e||!e.nodeName||e.nodeName!=="TEXTAREA")return;var t=document.createEvent("Event");t.initEvent("autosize:update",!0,!1),e.dispatchEvent(t)}var s=null;typeof window.getComputedStyle!="function"?(s=function(e){return e},s.destroy=function(e){return e},s.update=function(e){return e}):(s=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return n(e,t)}),e},s.destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],r),e},s.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],i),e}),t.exports=s}),typeof JSON!="object"&&(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,s,o=gap,u,a=t[e];a&&typeof a=="object"&&typeof a.toJSON=="function"&&(a=a.toJSON(e)),typeof rep=="function"&&(a=rep.call(t,e,a));switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";gap+=indent,u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1)u[n]=str(n,a)||"null";return i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]",gap=o,i}if(rep&&typeof rep=="object"){s=rep.length;for(n=0;n<s;n+=1)typeof rep[n]=="string"&&(r=rep[n],i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i))}else for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i));return i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}",gap=o,i}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(e,t,n){var r;gap="",indent="";if(typeof n=="number")for(r=0;r<n;r+=1)indent+=" ";else typeof n=="string"&&(indent=n);rep=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number")return str("",{"":e});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i=="object")for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),r!==undefined?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(e,t){function r(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var e=new Date;return r(e.getFullYear(),e.getMonth(),e.getDate())}function s(e){return function(){return this[e].apply(this,arguments)}}function f(t,n){function u(e,t){return t.toLowerCase()}var r=e(t).data(),i={},s,o=new RegExp("^"+n.toLowerCase()+"([A-Z])");n=new RegExp("^"+n.toLowerCase());for(var a in r)n.test(a)&&(s=a.replace(o,u),i[s]=r[a]);return i}function l(t){var n={};if(!d[t]){t=t.split("-")[0];if(!d[t])return}var r=d[t];return e.each(p,function(e,t){t in r&&(n[t]=r[t])}),n}var n=e(window),o=function(){var t={get:function(e){return this.slice(e)[0]},contains:function(e){var t=e&&e.valueOf();for(var n=0,r=this.length;n<r;n++)if(this[n].valueOf()===t)return n;return-1},remove:function(e){this.splice(e,1)},replace:function(t){if(!t)return;e.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t)},clear:function(){this.length=0},copy:function(){var e=new o;return e.replace(this),e}};return function(){var n=[];return n.push.apply(n,arguments),e.extend(n,t),n}}(),u=function(t,n){this.dates=new o,this.viewDate=i(),this.focusDate=null,this._process_options(n),this.element=e(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&this.component.length===0&&(this.component=!1),this.picker=e(v.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this
._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};u.prototype={constructor:u,_process_options:function(t){this._o=e.extend({},this._o,t);var n=this.o=e.extend({},this._o),r=n.language;d[r]||(r=r.split("-")[0],d[r]||(r=h.language)),n.language=r;switch(n.startView){case 2:case"decade":n.startView=2;break;case 1:case"year":n.startView=1;break;default:n.startView=0}switch(n.minViewMode){case 1:case"months":n.minViewMode=1;break;case 2:case"years":n.minViewMode=2;break;default:n.minViewMode=0}n.startView=Math.max(n.startView,n.minViewMode),n.multidate!==!0&&(n.multidate=Number(n.multidate)||!1,n.multidate!==!1?n.multidate=Math.max(0,n.multidate):n.multidate=1),n.multidateSeparator=String(n.multidateSeparator),n.weekStart%=7,n.weekEnd=(n.weekStart+6)%7;var i=v.parseFormat(n.format);n.startDate!==-Infinity&&(n.startDate?n.startDate instanceof Date?n.startDate=this._local_to_utc(this._zero_time(n.startDate)):n.startDate=v.parseDate(n.startDate,i,n.language):n.startDate=-Infinity),n.endDate!==Infinity&&(n.endDate?n.endDate instanceof Date?n.endDate=this._local_to_utc(this._zero_time(n.endDate)):n.endDate=v.parseDate(n.endDate,i,n.language):n.endDate=Infinity),n.daysOfWeekDisabled=n.daysOfWeekDisabled||[],e.isArray(n.daysOfWeekDisabled)||(n.daysOfWeekDisabled=n.daysOfWeekDisabled.split(/[,\s]*/)),n.daysOfWeekDisabled=e.map(n.daysOfWeekDisabled,function(e){return parseInt(e,10)});var s=String(n.orientation).toLowerCase().split(/\s+/g),o=n.orientation.toLowerCase();s=e.grep(s,function(e){return/^auto|left|right|top|bottom$/.test(e)}),n.orientation={x:"auto",y:"auto"};if(!!o&&o!=="auto")if(s.length===1)switch(s[0]){case"top":case"bottom":n.orientation.y=s[0];break;case"left":case"right":n.orientation.x=s[0]}else o=e.grep(s,function(e){return/^left|right$/.test(e)}),n.orientation.x=o[0]||"auto",o=e.grep(s,function(e){return/^top|bottom$/.test(e)}),n.orientation.y=o[0]||"auto"},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var n=0,r,i,s;n<e.length;n++)r=e[n][0],e[n].length===2?(i=t,s=e[n][1]):e[n].length===3&&(i=e[n][1],s=e[n][2]),r.on(s,i)},_unapplyEvents:function(e){for(var n=0,r,i,s;n<e.length;n++)r=e[n][0],e[n].length===2?(s=t,i=e[n][1]):e[n].length===3&&(s=e[n][1],i=e[n][2]),r.off(i,s)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:e.proxy(this.show,this),keyup:e.proxy(function(t){e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:e.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:e.proxy(this.show,this),keyup:e.proxy(function(t){e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:e.proxy(this.keydown,this)}],[this.component,{click:e.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:e.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:e.proxy(function(e){this._focused_from=e.target},this)}]),this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{"mousedown touchstart":e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,n){var r=n||this.dates.get(-1),i=this._utc_to_local(r);this.element.trigger({type:t,date:i,dates:e.map(this.dates,this._utc_to_local),format:e.proxy(function(e,t){arguments.length===0?(e=this.dates.length-1,t=this.o.format):typeof e=="string"&&(t=e,e=this.dates.length-1),t=t||this.o.format;var n=this.dates.get(e);return v.formatDate(n,t,this.o.language)},this)})},show:function(){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.place(),this._attachSecondaryEvents(),this._trigger("show")},hide:function(){if(this.isInline)return;if(!this.picker.is(":visible"))return;this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide")},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(e){return e&&new Date(e.getTime()+e.getTimezoneOffset()*6e4)},_local_to_utc:function(e){return e&&new Date(e.getTime()-e.getTimezoneOffset()*6e4)},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},getDates:function(){return e.map(this.dates,this._utc_to_local)},getUTCDates:function(){return e.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,t),this._trigger("changeDate"),this.setValue()},setUTCDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,e.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue()},setDate:s("setDates"),setUTCDate:s("setUTCDates"),setValue:function(){var e=this.getFormattedDate();this.isInput?this.element.val(e).change():this.component&&this.element.find("input").val(e).change()},getFormattedDate:function(n){n===t&&(n=this.o.format);var r=this.o.language;return e.map(this.dates,function(e){return v.formatDate(e,n,r)}).join(this.o.multidateSeparator)},setStartDate:function(e){this._process_options({startDate:e}),this.update(),this.updateNavArrows()},setEndDate:function(e){this._process_options({endDate:e}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(e){this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return;var t=this.picker.outerWidth(),r=this.picker.outerHeight(),i=10,s=n.width(),o=n.height(),u=n.scrollTop(),a=parseInt(this.element.parents().filter(function(){return e(this).css("z-index")!=="auto"}).first().css("z-index"))+10,f=this.component?this.component.parent().offset():this.element.offset(),l=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),c=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),h=f.left,p=f.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),this.o.orientation.x!=="auto"?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),this.o.orientation.x==="right"&&(h-=t-c)):(this.picker.addClass("datepicker-orient-left"),f.left<0?h-=f.left-i:f.left+t>s&&(h=s-t-i));var d=this.o.orientation.y,v,m;d==="auto"&&(v=-u+f.top-r,m=u+o-(f.top+l+r),Math.max(v,m)===m?d="top":d="bottom"),this.picker.addClass("datepicker-orient-"+d),d==="top"?p+=l:p-=r+parseInt(this.picker.css("padding-top")),this.picker.css({top:p,left:h,zIndex:a})},_allow_update:!0,update:function(){if(!this._allow_update)return;var t=this.dates.copy(),n=[],r=!1;arguments.length?(e.each(arguments,e.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),n.push(t)},this)),r=!0):(n=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),n&&this.o.multidate?n=n.split(this.o.multidateSeparator):n=[n],delete this.element.data().date),n=e.map(n,e.proxy(function(e){return v.parseDate(e,this.o.format,this.o.language)},this)),n=e.grep(n,e.proxy(function(e){return e<this.o.startDate||e>this.o.endDate||!e},this),!0),this.dates.replace(n),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),r?this.setValue():n.length&&String(t)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&t.length&&this._trigger("clearDate"),this.fill()},fillDow:function(){var e=this.o.weekStart,t="<tr>";if(this.o.calendarWeeks){var n='<th class="cw">&nbsp;</th>';t+=n,this.picker.find(".datepicker-days thead tr:first-child").prepend(n)}while(e<this.o.weekStart+7)t+='<th class="dow">'+d[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){var e="",t=0;while(t<12)e+='<span class="month">'+d[this.o.language].monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(t){!t||!t.length?delete this.range:this.range=e.map(t,function(e){return e.valueOf()}),this.fill()},getClassNames:function(t){var n=[],r=this.viewDate.getUTCFullYear(),i=this.viewDate.getUTCMonth(),s=new Date;return t.getUTCFullYear()<r||t.getUTCFullYear()===r&&t.getUTCMonth()<i?n.push("old"):(t.getUTCFullYear()>r||t.getUTCFullYear()===r&&t.getUTCMonth()>i)&&n.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===s.getFullYear()&&t.getUTCMonth()===s.getMonth()&&t.getUTCDate()===s.getDate()&&n.push("today"),this.dates.contains(t)!==-1&&n.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)!==-1)&&n.push("disabled"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&n.push("range"),e.inArray(t.valueOf(),this.range)!==-1&&n.push("selected")),n},fill:function(){var n=new Date(this.viewDate),i=n.getUTCFullYear(),s=n.getUTCMonth(),o=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,u=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,a=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,f=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,l=d[this.o.language].today||d.en.today||"",c=d[this.o.language].clear||d.en.clear||"",h;this.picker.find(".datepicker-days thead th.datepicker-switch").text(d[this.o.language].months[s]+" "+i),this.picker.find("tfoot th.today").text(l).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(c).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var p=r(i,s-1,28),m=v.getDaysInMonth(p.getUTCFullYear(),p.getUTCMonth());p.setUTCDate(m),p.setUTCDate(m-(p.getUTCDay()-this.o.weekStart+7)%7);var g=new Date(p);g.setUTCDate(g.getUTCDate()+42),g=g.valueOf();var y=[],b;while(p.valueOf()<g){if(p.getUTCDay()===this.o.weekStart){y.push("<tr>");if(this.o.calendarWeeks){var w=new Date(+p+(this.o.weekStart-p.getUTCDay()-7)%7*864e5),E=new Date(Number(w)+(11-w.getUTCDay())%7*864e5),S=new Date(Number(S=r(E.getUTCFullYear(),0,1))+(11-S.getUTCDay())%7*864e5),x=(E-S)/864e5/7+1;y.push('<td class="cw">'+x+"</td>")}}b=this.getClassNames(p),b.push("day");if(this.o.beforeShowDay!==e.noop){var T=this.o.beforeShowDay(this._utc_to_local(p));T===t?T={}:typeof T=="boolean"?T={enabled:T}:typeof T=="string"&&(T={classes:T}),T.enabled===!1&&b.push("disabled"),T.classes&&(b=b.concat(T.classes.split(/\s+/))),T.tooltip&&(h=T.tooltip)}b=e.unique(b),y.push('<td class="'+b.join(" ")+'"'+(h?' title="'+h+'"':"")+">"+p.getUTCDate()+"</td>"),p.getUTCDay()===this.o.weekEnd&&y.push("</tr>"),p.setUTCDate(p.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(y.join(""));var N=this.picker.find(".datepicker-months").find("th:eq(1)").text(i).end().find("span").removeClass("active");e.each(this.dates,function(e,t){t.getUTCFullYear()===i&&N.eq(t.getUTCMonth()).addClass("active")}),(i<o||i>a)&&N.addClass("disabled"),i===o&&N.slice(0,u).addClass("disabled"),i===a&&N.slice(f+1).addClass("disabled"),y="",i=parseInt(i/10,10)*10;var C=this.picker.find(".datepicker-years").find("th:eq(1)").text(i+"-"+(i+9)).end().find("td");i-=1;var k=e.map(this.dates,function(e){return e.getUTCFullYear()}),L;for(var A=-1;A<11;A++)L=["year"],A===-1?L.push("old"):A===10&&L.push("new"),e.inArray(i,k)!==-1&&L.push("active"),(i<o||i>a)&&L.push("disabled"),y+='<span class="'+L.join(" ")+'">'+i+"</span>",i+=1;C.html(y)},updateNavArrows:function(){if(!this._allow_update)return;var e=new Date(this.viewDate),t=e.getUTCFullYear(),n=e.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-Infinity&&t<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==Infinity&&t>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-Infinity&&t<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==Infinity&&t>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}},click:function(t){t.preventDefault();var n=e(t.target).closest("span, td, th"),i,s,o;if(n.length===1)switch(n[0].nodeName.toLowerCase()){case"th":switch(n[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var u=v.modes[this.viewMode].navStep*(n[0].className==="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,u),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,u),this.viewMode===1&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var a=new Date;a=r(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0),this.showMode(-2);var f=this.o.todayBtn==="linked"?null:"view";this._setDate(a,f);break;case"clear":var l;this.isInput?l=this.element:this.component&&(l=this.element.find("input")),l&&l.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case"span":n.is(".disabled")||(this.viewDate.setUTCDate(1),n.is(".month")?(o=1,s=n.parent().find("span").index(n),i=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(s),this._trigger("changeMonth",this.viewDate),this.o.minViewMode===1&&this._setDate(r(i,s,o))):(o=1,s=0,i=parseInt(n.text(),10)||0,this.viewDate.setUTCFullYear(i),this._trigger("changeYear",this.viewDate),this.o.minViewMode===2&&this._setDate(r(i,s,o))),this.showMode(-1),this.fill());break;case"td":n.is(".day")&&!n.is(".disabled")&&(o=parseInt(n.text(),10)||1,i=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),n.is(".old")?s===0?(s=11,i-=1):s-=1:n.is(".new")&&(s===11?(s=0,i+=1):s+=1),this._setDate(r(i,s,o)))}this.picker.is(":visible")&&this._focused_from&&e(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(e){var t=this.dates.contains(e);e?t!==-1?this.dates.remove(t):this.dates.push(e):this.dates.clear();if(typeof this.o.multidate=="number")while(this.dates.length>this.o.multidate)this.dates.remove(0)},_setDate:function(e,t){(!t||t==="date")&&this._toggle_multidate(e&&new Date(e));if(!t||t==="view")this.viewDate=e&&new Date(e);this.fill(),this.setValue(),this._trigger("changeDate");var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&n.change(),this.o.autoclose&&(!t||t==="date")&&this.hide()},moveMonth:function(e,n){if(!e)return t;if(!n)return e;var r=new Date(e.valueOf()),i=r.getUTCDate(),s=r.getUTCMonth(),o=Math.abs(n),u,a;n=n>0?1:-1;if(o===1){a=n===-1?function(){return r.getUTCMonth()===s}:function(){return r.getUTCMonth()!==u},u=s+n,r.setUTCMonth(u);if(u<0||u>11)u=(u+12)%12}else{for(var f=0;f<o;f++)r=this.moveMonth(r,n);u=r.getUTCMonth(),r.setUTCDate(i),a=function(){return u!==r.getUTCMonth()}}while(a())r.setUTCDate(--i),r.setUTCMonth(u);return r},moveYear:function(e,t){return this.moveMonth(e,t*12)},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(this.picker.is(":not(:visible)")){e.keyCode===27&&this.show();return}var t=!1,n,r,s,o=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;n=e.keyCode===37?-1:1,e.ctrlKey?(r=this.moveYear(this.dates.get(-1)||i(),n),s=this.moveYear(o,n),this._trigger("changeYear",this.viewDate)):e.shiftKey?(r=this.moveMonth(this.dates.get(-1)||i(),n),s=this.moveMonth(o,n),this._trigger("changeMonth",this.viewDate)):(r=new Date(this.dates.get(-1)||i()),r.setUTCDate(r.getUTCDate()+n),s=new Date(o),s.setUTCDate(o.getUTCDate()+n)),this.dateWithinRange(r)&&(this.focusDate=this.viewDate=s,this.setValue(),this.fill(),e.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;n=e.keyCode===38?-1:1,e.ctrlKey?(r=this.moveYear(this.dates.get(-1)||i(),n),s=this.moveYear(o,n),this._trigger("changeYear",this.viewDate)):e.shiftKey?(r=this.moveMonth(this.dates.get(-1)||i(),n),s=this.moveMonth(o,n),this._trigger("changeMonth",this.viewDate)):(r=new Date(this.dates.get(-1)||i()),r.setUTCDate(r.getUTCDate()+n*7),s=new Date(o),s.setUTCDate(o.getUTCDate()+n*7)),this.dateWithinRange(r)&&(this.focusDate=this.viewDate=s,this.setValue(),this.fill(),e.preventDefault());break;case 32:break;case 13:o=this.focusDate||this.dates.get(-1)||this.viewDate,this._toggle_multidate(o),t=!0,this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(t){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var u;this.isInput?u=this.element:this.component&&(u=this.element.find("input")),u&&u.change()}},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+e))),this.picker.find(">div").hide().filter(".datepicker-"+v.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var a=function(t,n){this.element=e(t),this.inputs=e.map(n.inputs,function(e){return e.jquery?e[0]:e}),delete n.inputs,e(this.inputs).datepicker(n).bind("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")}),this.updateDates()};a.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,n){n.setRange(t)})},dateUpdated:function(t){if(this.updating)return;this.updating=!0;var n=e(t.target).data("datepicker"),r=n.getUTCDate(),i=e.inArray(t.target,this.inputs),s=this.inputs.length;if(i===-1)return;e.each(this.pickers,function(e,t){t.getUTCDate()||t.setUTCDate(r)});if(r<this.dates[i])while(i>=0&&r<this.dates[i])this.pickers[i--].setUTCDate(r);else if(r>this.dates[i])while(i<s&&r>this.dates[i])this.pickers[i++].setUTCDate(r);this.updateDates(),delete this.updating},remove:function(){e.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var c=e.fn.datepicker;e.fn.datepicker=function(n){var r=Array.apply(null,arguments);r.shift();var i;return this.each(function(){var s=e(this),o=s.data("datepicker"),c=typeof n=="object"&&n;if(!o){var p=f(this,"date"),d=e.extend({},h,p,c),v=l(d.language),m=e.extend({},h,v,p,c);if(s.is(".input-daterange")||m.inputs){var g={inputs:m.inputs||s.find("input").toArray()};s.data("datepicker",o=new a(this,e.extend(m,g)))}else s.data("datepicker",o=new u(this,m))}if(typeof n=="string"&&typeof o[n]=="function"){i=o[n].apply(o,r);if(i!==t)return!1}}),i!==t?i:this};var h=e.fn.datepicker.defaults={autoclose:!1,beforeShowDay:e.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:Infinity,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},p=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=u;var d=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},v={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,v.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\0").split("\0"),n=e.match(this.validParts);if(!t||!t.length||!n||n.length===0)throw new Error("Invalid date format.");return{separators:t,parts:n}},parseDate:function(n,i,s){function w(){var e=this.slice(0,a[c].length),t=a[c].slice(0,e.length);return e===t}if(!n)return t;if(n instanceof Date)return n;typeof i=="string"&&(i=v.parseFormat(i));var o=/([\-+]\d+)([dmwy])/,a=n.match(/([\-+]\d+)([dmwy])/g),f,l,c;if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(n)){n=new Date;for(c=0;c<a.length;c++){f=o.exec(a[c]),l=parseInt(f[1]);switch(f[2]){case"d":n.setUTCDate(n.getUTCDate()+l);break;case"m":n=u.prototype.moveMonth.call(u.prototype,n,l);break;case"w":n.setUTCDate(n.getUTCDate()+l*7);break;case"y":n=u.prototype.moveYear.call(u.prototype,n,l)}}return r(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),0,0,0)}a=n&&n.match(this.nonpunctuation)||[],n=new Date;var h={},p=["yyyy","yy","M","MM","m","mm","d","dd"],m={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){if(isNaN(e))return e;t-=1;while(t<0)t+=12;t%=12,e.setUTCMonth(t);while(e.getUTCMonth()!==t)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}},g,y;m.M=m.MM=m.mm=m.m,m.dd=m.d,n=r(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0);var b=i.parts.slice();a.length!==b.length&&(b=e(b).filter(function(t,n){return e.inArray(n,p)!==-1}).toArray());if(a.length===b.length){var E;for(c=0,E=b.length;c<E;c++){g=parseInt(a[c],10),f=b[c];if(isNaN(g))switch(f){case"MM":y=e(d[s].months).filter(w),g=e.inArray(y[0],d[s].months)+1;break;case"M":y=e(d[s].monthsShort).filter(w),g=e.inArray(y[0],d[s].monthsShort)+1}h[f]=g}var S,x;for(c=0;c<p.length;c++)x=p[c],x in h&&!isNaN(h[x])&&(S=new Date(n),m[x](S,h[x]),isNaN(S)||(n=S))}return n},formatDate:function(t,n,r){if(!t)return"";typeof n=="string"&&(n=v.parseFormat(n));var i={d:t.getUTCDate(),D:d[r].daysShort[t.getUTCDay()],DD:d[r].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:d[r].monthsShort[t.getUTCMonth()],MM:d[r].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};i.dd=(i.d<10?"0":"")+i.d,i.mm=(i.m<10?"0":"")+i.m,t=[];var s=e.extend([],n.separators);for(var o=0,u=n.parts.length;o<=u;o++)s.length&&t.push(s.shift()),t.push(i[n.parts[o]]);return t.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};v.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+v.headTemplate+"<tbody></tbody>"+v.footTemplate+"</table>"+"</div>"+'<div class="datepicker-months">'+'<table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+"</table>"+"</div>"+'<div class="datepicker-years">'+'<table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+"</table>"+"</div>"+"</div>",e.fn.datepicker.DPGlobal=v,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=c,this},e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var n=e(this);if(n.data("datepicker"))return;t.preventDefault(),n.datepicker("show")}),e(function(){e('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery),function(e){e.fn.datepicker.dates["zh-CN"]={days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六","星期日"],daysShort:["周日","周一","周二","周三","周四","周五","周六","周日"],daysMin:["日","一","二","三","四","五","六","日"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthsShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],today:"今日",format:"yyyy年mm月dd日",weekStart:1}}(jQuery),function(e){e.fn.datepicker.dates["zh-TW"]={days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六","星期日"],daysShort:["週日","週一","週二","週三","週四","週五","週六","週日"],daysMin:["日","一","二","三","四","五","六","日"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthsShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],today:"今天",format:"yyyy年mm月dd日",weekStart:1}}(jQuery),window.Modernizr=function(e,t,n){function A(e){f.cssText=e}function O(e,t){return A(p.join(e+";")+(t||""))}function M(e,t){return typeof e===t}function _(e,t){return!!~(""+e).indexOf(t)}function D(e,t){for(var r in e){var i=e[r];if(!_(i,"-")&&f[i]!==n)return t=="pfx"?i:!0}return!1}function P(e,t,r){for(var i in e){var s=t[e[i]];if(s!==n)return r===!1?e[i]:M(s,"function")?s.bind(r||t):s}return!1}function H(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),i=(e+" "+v.join(r+" ")+r).split(" ");return M(t,"string")||M(t,"undefined")?D(i,t):(i=(e+" "+m.join(r+" ")+r).split(" "),P(i,t,n))}function B(){i.input=function(n){for(var r=0,i=n.length;r<i;r++)w[n[r]]=n[r]in l;return w.list&&(w.list=!!t.createElement("datalist")&&!!e.HTMLDataListElement),w}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),i.inputtypes=function(e){for(var r=0,i,s,u,a=e.length;r<a;r++)l.setAttribute("type",s=e[r]),i=l.type!=="text",i&&(l.value=c,l.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(s)&&l.style.WebkitAppearance!==n?(o.appendChild(l),u=t.defaultView,i=u.getComputedStyle&&u.getComputedStyle(l,null).WebkitAppearance!=="textfield"&&l.offsetHeight!==0,o.removeChild(l)):/^(search|tel)$/.test(s)||(/^(url|email)$/.test(s)?i=l.checkValidity&&l.checkValidity()===!1:i=l.value!=c)),b[e[r]]=!!i;return b}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var r="2.7.1",i={},s=!0,o=t.documentElement,u="modernizr",a=t.createElement(u),f=a.style,l=t.createElement("input"),c=":)",h={}.toString,p=" -webkit- -moz- -o- -ms- ".split(" "),d="Webkit Moz O ms",v=d.split(" "),m=d.toLowerCase().split(" "),g={svg:"http://www.w3.org/2000/svg"},y={},b={},w={},E=[],S=E.slice,x,T=function(e,n,r,i){var s,a,f,l,c=t.createElement("div"),h=t.body,p=h||t.createElement("body");if(parseInt(r,10))while(r--)f=t.createElement("div"),f.id=i?i[r]:u+(r+1),c.appendChild(f);return s=["&#173;",'<style id="s',u,'">',e,"</style>"].join(""),c.id=u,(h?c:p).innerHTML+=s,p.appendChild(c),h||(p.style.background="",p.style.overflow="hidden",l=o.style.overflow,o.style.overflow="hidden",o.appendChild(p)),a=n(c,e),h?c.parentNode.removeChild(c):(p.parentNode.removeChild(p),o.style.overflow=l),!!a},N=function(t){var n=e.matchMedia||e.msMatchMedia;if(n)return n(t).matches;var r;return T("@media "+t+" { #"+u+" { position: absolute; } }",function(t){r=(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle)["position"]=="absolute"}),r},C=function(){function r(r,i){i=i||t.createElement(e[r]||"div"),r="on"+r;var s=r in i;return s||(i.setAttribute||(i=t.createElement("div")),i.setAttribute&&i.removeAttribute&&(i.setAttribute(r,""),s=M(i[r],"function"),M(i[r],"undefined")||(i[r]=n),i.removeAttribute(r))),i=null,s}var e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return r}(),k={}.hasOwnProperty,L;!M(k,"undefined")&&!M(k.call,"undefined")?L=function(e,t){return k.call(e,t)}:L=function(e,t){return t in e&&M(e.constructor.prototype[t],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if(typeof n!="function")throw new TypeError;var r=S.call(arguments,1),i=function(){if(this instanceof i){var e=function(){};e.prototype=n.prototype;var s=new e,o=n.apply(s,r.concat(S.call(arguments)));return Object(o)===o?o:s}return n.apply(t,r.concat(S.call(arguments)))};return i}),y.flexbox=function(){return H("flexWrap")},y.flexboxlegacy=function(){return H("boxDirection")},y.canvas=function(){var e=t.createElement("canvas");return!!e.getContext&&!!e.getContext("2d")},y.canvastext=function(){return!!i.canvas&&!!M(t.createElement("canvas").getContext("2d").fillText,"function")},y.webgl=function(){return!!e.WebGLRenderingContext},y.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:T(["@media (",p.join("touch-enabled),("),u,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=e.offsetTop===9}),n},y.geolocation=function(){return"geolocation"in navigator},y.postmessage=function(){return!!e.postMessage},y.websqldatabase=function(){return!!e.openDatabase},y.indexedDB=function(){return!!H("indexedDB",e)},y.hashchange=function(){return C("hashchange",e)&&(t.documentMode===n||t.documentMode>7)},y.history=function(){return!!e.history&&!!history.pushState},y.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},y.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},y.rgba=function(){return A("background-color:rgba(150,255,150,.5)"),_(f.backgroundColor,"rgba")},y.hsla=function(){return A("background-color:hsla(120,40%,100%,.5)"),_(f.backgroundColor,"rgba")||_(f.backgroundColor,"hsla")},y.multiplebgs=function(){return A("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(f.background)},y.backgroundsize=function(){return H("backgroundSize")},y.borderimage=function(){return H("borderImage")},y.borderradius=function(){return H("borderRadius")},y.boxshadow=function(){return H("boxShadow")},y.textshadow=function(){return t.createElement("div").style.textShadow===""},y.opacity=function(){return O("opacity:.55"),/^0.55$/.test(f.opacity)},y.cssanimations=function(){return H("animationName")},y.csscolumns=function(){return H("columnCount")},y.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return A((e+"-webkit- ".split(" ").join(t+e)+p.join(n+e)).slice(0,-e.length)),_(f.backgroundImage,"gradient")},y.cssreflections=function(){return H("boxReflect")},y.csstransforms=function(){return!!H("transform")},y.csstransforms3d=function(){var e=!!H("perspective");return e&&"webkitPerspective"in o.style&&T("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t,n){e=t.offsetLeft===9&&t.offsetHeight===3}),e},y.csstransitions=function(){return H("transition")},y.fontface=function(){var e;return T('@font-face {font-family:"font";src:url("https://")}',function(n,r){var i=t.getElementById("smodernizr"),s=i.sheet||i.styleSheet,o=s?s.cssRules&&s.cssRules[0]?s.cssRules[0].cssText:s.cssText||"":"";e=/src/i.test(o)&&o.indexOf(r.split(" ")[0])===0}),e},y.generatedcontent=function(){var e;return T(["#",u,"{font:0/0 a}#",u,':after{content:"',c,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e},y.video=function(){var e=t.createElement("video"),n=!1;try{if(n=!!e.canPlayType)n=new Boolean(n),n.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}catch(r){}return n},y.audio=function(){var e=
t.createElement("audio"),n=!1;try{if(n=!!e.canPlayType)n=new Boolean(n),n.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,"")}catch(r){}return n},y.localstorage=function(){try{return localStorage.setItem(u,u),localStorage.removeItem(u),!0}catch(e){return!1}},y.sessionstorage=function(){try{return sessionStorage.setItem(u,u),sessionStorage.removeItem(u),!0}catch(e){return!1}},y.webworkers=function(){return!!e.Worker},y.applicationcache=function(){return!!e.applicationCache},y.svg=function(){return!!t.createElementNS&&!!t.createElementNS(g.svg,"svg").createSVGRect},y.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==g.svg},y.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(h.call(t.createElementNS(g.svg,"animate")))},y.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(h.call(t.createElementNS(g.svg,"clipPath")))};for(var j in y)L(y,j)&&(x=j.toLowerCase(),i[x]=y[j](),E.push((i[x]?"":"no-")+x));return i.input||B(),i.addTest=function(e,t){if(typeof e=="object")for(var r in e)L(e,r)&&i.addTest(r,e[r]);else{e=e.toLowerCase();if(i[e]!==n)return i;t=typeof t=="function"?t():t,typeof s!="undefined"&&s&&(o.className+=" "+(t?"":"no-")+e),i[e]=t}return i},A(""),a=l=null,function(e,t){function c(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function h(){var e=y.elements;return typeof e=="string"?e.split(" "):e}function p(e){var t=f[e[u]];return t||(t={},a++,e[u]=a,f[a]=t),t}function d(e,n,r){n||(n=t);if(l)return n.createElement(e);r||(r=p(n));var o;return r.cache[e]?o=r.cache[e].cloneNode():s.test(e)?o=(r.cache[e]=r.createElem(e)).cloneNode():o=r.createElem(e),o.canHaveChildren&&!i.test(e)&&!o.tagUrn?r.frag.appendChild(o):o}function v(e,n){e||(e=t);if(l)return e.createDocumentFragment();n=n||p(e);var r=n.frag.cloneNode(),i=0,s=h(),o=s.length;for(;i<o;i++)r.createElement(s[i]);return r}function m(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return y.shivMethods?d(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+h().join().replace(/[\w\-]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(y,t.frag)}function g(e){e||(e=t);var n=p(e);return y.shivCSS&&!o&&!n.hasCSS&&(n.hasCSS=!!c(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),l||m(e,n),e}var n="3.7.0",r=e.html5||{},i=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,s=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,o,u="_html5shiv",a=0,f={},l;(function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",o="hidden"in e,l=e.childNodes.length==1||function(){t.createElement("a");var e=t.createDocumentFragment();return typeof e.cloneNode=="undefined"||typeof e.createDocumentFragment=="undefined"||typeof e.createElement=="undefined"}()}catch(n){o=!0,l=!0}})();var y={elements:r.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:n,shivCSS:r.shivCSS!==!1,supportsUnknownElements:l,shivMethods:r.shivMethods!==!1,type:"default",shivDocument:g,createElement:d,createDocumentFragment:v};e.html5=y,g(t)}(this,t),i._version=r,i._prefixes=p,i._domPrefixes=m,i._cssomPrefixes=v,i.mq=N,i.hasEvent=C,i.testProp=function(e){return D([e])},i.testAllProps=H,i.testStyles=T,i.prefixed=function(e,t,n){return t?H(e,t,n):H(e,"pfx")},o.className=o.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(s?" js "+E.join(" "):""),i}(this,this.document),window.url=function(){function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}return function(t,n){var r=n||window.location.toString();if(!t)return r;t=t.toString(),"//"===r.substring(0,2)?r="http:"+r:1===r.split("://").length&&(r="http://"+r),n=r.split("/");var i={auth:""},s=n[2].split("@");1===s.length?s=s[0].split(":"):(i.auth=s[0],s=s[1].split(":")),i.protocol=n[0],i.hostname=s[0],i.port=s[1]||"80",i.pathname="/"+n.slice(3,n.length).join("/").split("?")[0].split("#")[0];var o=i.pathname;1===o.split(".").length&&"/"!==o[o.length-1]&&(o+="/");var u=i.hostname,f=u.split("."),l=o.split("/");if("hostname"===t)return u;if("domain"===t)return f.slice(-2).join(".");if("sub"===t)return f.slice(0,f.length-2).join(".");if("port"===t)return i.port||"80";if("protocol"===t)return i.protocol.split(":")[0];if("auth"===t)return i.auth;if("user"===t)return i.auth.split(":")[0];if("pass"===t)return i.auth.split(":")[1]||"";if("path"===t)return o;if("."===t.charAt(0)){if(t=t.substring(1),e(t))return t=parseInt(t,10),f[0>t?f.length+t:t-1]||""}else{if(e(t))return t=parseInt(t,10),l[0>t?l.length+t:t]||"";if("file"===t)return l.slice(-1)[0];if("filename"===t)return l.slice(-1)[0].split(".")[0];if("fileext"===t)return l.slice(-1)[0].split(".")[1]||"";if("?"===t.charAt(0)||"#"===t.charAt(0)){var c=r,h=null;if("?"===t.charAt(0)?c=(c.split("?")[1]||"").split("#")[0]:"#"===t.charAt(0)&&(c=c.split("#")[1]||""),!t.charAt(1))return c;t=t.substring(1),c=c.split("&");for(var p=0,d=c.length;d>p;p++)if(h=c[p].split("="),h[0]===t)return h[1];return null}}return""}}(),jQuery&&jQuery.extend({url:function(e,t){return window.url(e,t)}}),function(){"use strict";var e="undefined",t="string",n=self.navigator,r=String,i=Object.prototype.hasOwnProperty,s={},o={},u=!1,a=!0,f=/^\s*application\/(?:vnd\.oftn\.|x-)?l10n\+json\s*(?:$|;)/i,l,c="locale",h="defaultLocale",p="toLocaleString",d="toLowerCase",v=Array.prototype.indexOf||function(e){var t=this.length,n=0;for(;n<t;n++)if(n in this&&this[n]===e)return n;return-1},m=function(e){var t=new l;return t.open("GET",e,u),t.send(null),t.status!==200?(setTimeout(function(){var t=new Error("Unable to load localization data: "+e);throw t.name="Localization Error",t},0),{}):JSON.parse(t.responseText)},g=r[p]=function(e){if(arguments.length>0&&typeof e!="number")if(typeof e===t)g(m(e));else if(e===u)o={};else{var n,a,f;for(n in e)if(i.call(e,n)){a=e[n],n=n[d]();if(!(n in o)||a===u)o[n]={};if(a===u)continue;if(typeof a===t){if(r[c][d]().indexOf(n)!==0){n in s||(s[n]=[]),s[n].push(a);continue}a=m(a)}for(f in a)i.call(a,f)&&(o[n][f]=a[f])}}return Function.prototype[p].apply(r,arguments)},y=function(e){var t=s[e],n=0,r=t.length,i;for(;n<r;n++)i={},i[e]=m(t[n]),g(i);delete s[e]},b,w=r.prototype[p]=function(){var e=b,t=r[e?h:c],n=t[d]().split("-"),i=n.length,f=this.valueOf(),l;b=u;do{l=n.slice(0,i).join("-"),l in s&&y(l);if(l in o&&f in o[l])return o[l][f]}while(i-->1);return!e&&r[h]?(b=a,w.call(f)):f};if(typeof XMLHttpRequest===e&&typeof ActiveXObject!==e){var E=ActiveXObject;l=function(){try{return new E("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new E("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new E("Msxml2.XMLHTTP")}catch(n){}throw new Error("XMLHttpRequest not supported by this browser.")}}else l=XMLHttpRequest;r[h]=r[h]||"",r[c]=n&&(n.language||n.userLanguage)||"";if(typeof document!==e){var S=document.getElementsByTagName("link"),x=S.length,T;while(x--){var N=S[x],C=(N.getAttribute("rel")||"")[d]().split(/\s+/);f.test(N.type)&&(v.call(C,"localizations")!==-1?g(N.getAttribute("href")):v.call(C,"localization")!==-1&&(T={},T[(N.getAttribute("hreflang")||"")[d]()]=N.getAttribute("href"),g(T)))}}}(),function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=i.toString,l=i.hasOwnProperty,c=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,E=Object.keys,S=s.bind,x=function(e){return e instanceof x?e:this instanceof x?(this._wrapped=e,void 0):new x(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.4.3";var T=x.each=x.forEach=function(e,t,r){if(null!=e)if(c&&e.forEach===c)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;s>i;i++)if(t.call(r,e[i],i,e)===n)return}else for(var o in e)if(x.has(e,o)&&t.call(r,e[o],o,e)===n)return};x.map=x.collect=function(e,t,n){var r=[];return null==e?r:h&&e.map===h?e.map(t,n):(T(e,function(e,i,s){r[r.length]=t.call(n,e,i,s)}),r)};var N="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);if(T(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)}),!i)throw new TypeError(N);return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),d&&e.reduceRight===d)return r&&(t=x.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=x.keys(e);s=o.length}if(T(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)}),!i)throw new TypeError(N);return n},x.find=x.detect=function(e,t,n){var r;return C(e,function(e,i,s){return t.call(n,e,i,s)?(r=e,!0):void 0}),r},x.filter=x.select=function(e,t,n){var r=[];return null==e?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,s){t.call(n,e,i,s)&&(r[r.length]=e)}),r)},x.reject=function(e,t,n){return x.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},x.every=x.all=function(e,t,r){t||(t=x.identity);var i=!0;return null==e?i:m&&e.every===m?e.every(t,r):(T(e,function(e,s,o){return(i=i&&t.call(r,e,s,o))?void 0:n}),!!i)};var C=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;return null==e?i:g&&e.some===g?e.some(t,r):(T(e,function(e,s,o){return i||(i=t.call(r,e,s,o))?n:void 0}),!!i)};x.contains=x.include=function(e,t){return null==e?!1:y&&e.indexOf===y?-1!=e.indexOf(t):C(e,function(e){return e===t})},x.invoke=function(e,t){var n=u.call(arguments,2);return x.map(e,function(e){return(x.isFunction(t)?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,function(e){return e[t]})},x.where=function(e,t){return x.isEmpty(t)?[]:x.filter(e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.max.apply(Math,e);if(!t&&x.isEmpty(e))return-1/0;var r={computed:-1/0,value:-1/0};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>=r.computed&&(r={value:e,computed:o})}),r.value},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.min.apply(Math,e);if(!t&&x.isEmpty(e))return 1/0;var r={computed:1/0,value:1/0};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;r.computed>o&&(r={value:e,computed:o})}),r.value},x.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=x.random(n++),r[n-1]=r[t],r[t]=e}),r};var k=function(e){return x.isFunction(e)?e:function(t){return t[e]}};x.sortBy=function(e,t,n){var r=k(t);return x.pluck(x.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index<t.index?-1:1}),"value")};var L=function(e,t,n,r){var i={},s=k(t||x.identity);return T(e,function(t,o){var u=s.call(n,t,o,e);r(i,u,t)}),i};x.groupBy=function(e,t,n){return L(e,t,n,function(e,t,n){(x.has(e,t)?e[t]:e[t]=[]).push(n)})},x.countBy=function(e,t,n){return L(e,t,n,function(e,t){x.has(e,t)||(e[t]=0),e[t]++})},x.sortedIndex=function(e,t,n,r){n=null==n?x.identity:k(n);for(var i=n.call(r,t),s=0,o=e.length;o>s;){var u=s+o>>>1;i>n.call(r,e[u])?s=u+1:o=u}return s},x.toArray=function(e){return e?x.isArray(e)?u.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return null==e?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:u.call(e,0,t)},x.initial=function(e,t,n){return u.call(e,0,e.length-(null==t||n?1:t))},x.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},x.rest=x.tail=x.drop=function(e,t,n){return u.call(e,null==t||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n){return T(e,function(e){x.isArray(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n};x.flatten=function(e,t){return A(e,t,[])},x.without=function(e){return x.difference(e,u.call(arguments,1))},x.uniq=x.unique=function(e,t,n,r){x.isFunction(t)&&(r=n,n=t,t=!1);var i=n?x.map(e,n,r):e,s=[],o=[];return T(i,function(n,r){(t?r&&o[o.length-1]===n:x.contains(o,n))||(o.push(n),s.push(e[r]))}),s},x.union=function(){return x.uniq(a.apply(r,arguments))},x.intersection=function(e){var t=u.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.indexOf(t,e)>=0})})},x.difference=function(e){var t=a.apply(r,u.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){for(var e=u.call(arguments),t=x.max(x.pluck(e,"length")),n=Array(t),r=0;t>r;r++)n[r]=x.pluck(e,""+r);return n},x.object=function(e,t){if(null==e)return{};for(var n={},r=0,i=e.length;i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.indexOf=function(e,t,n){if(null==e)return-1;var r=0,i=e.length;if(n){if("number"!=typeof n)return r=x.sortedIndex(e,t),e[r]===t?r:-1;r=0>n?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;i>r;r++)if(e[r]===t)return r;return-1},x.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=null!=n;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var i=r?n:e.length;i--;)if(e[i]===t)return i;return-1},x.range=function(e,t,n){1>=arguments.length&&(t=e||0,e=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=Array(r);r>i;)s[i++]=e,e+=n;return s};var O=function(){};x.bind=function(e,t){var n,r;if(e.bind===S&&S)return S.apply(e,u.call(arguments,1));if(!x.isFunction(e))throw new TypeError;return n=u.call(arguments,2),r=function(){if(this instanceof r){O.prototype=e.prototype;var i=new O;O.prototype=null;var s=e.apply(i,n.concat(u.call(arguments)));return Object(s)===s?s:i}return e.apply(t,n.concat(u.call(arguments)))}},x.bindAll=function(e){var t=u.call(arguments,1);return 0==t.length&&(t=x.functions(e)),T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(u.call(arguments,1)))},x.throttle=function(e,t){var n,r,i,s,o=0,u=function(){o=new Date,i=null,s=e.apply(n,r)};return function(){var a=new Date,f=t-(a-o);return n=this,r=arguments,0>=f?(clearTimeout(i),i=null,o=a,s=e.apply(n,r)):i||(i=setTimeout(u,f)),s}},x.debounce=function(e,t,n){var r,i;return function(){var s=this,o=arguments,u=function(){r=null,n||(i=e.apply(s,o))},a=n&&!r;return clearTimeout(r),r=setTimeout(u,t),a&&(i=e.apply(s,o)),i}},x.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},x.wrap=function(e,t){return function(){var n=[e];return o.apply(n,arguments),t.apply(this,n)}},x.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return 0>=e?t():function(){return 1>--e?t.apply(this,arguments):void 0}},x.keys=E||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)x.has(e,n)&&(t[t.length]=n);return t},x.values=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push(e[n]);return t},x.pairs=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push([n,e[n]]);return t},x.invert=function(e){var t={};for(var n in e)x.has(e,n)&&(t[e[n]]=n);return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t},x.defaults=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)null==e[n]&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var M=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==t+"";case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var s=n.length;s--;)if(n[s]==e)return r[s]==t;n.push(e),r.push(t);var o=0,u=!0;if("[object Array]"==i){if(o=e.length,u=o==t.length)for(;o--&&(u=M(e[o],t[o],n,r)););}else{var a=e.constructor,l=t.constructor;if(a!==l&&!(x.isFunction(a)&&a instanceof a&&x.isFunction(l)&&l instanceof l))return!1;for(var c in e)if(x.has(e,c)&&(o++,!(u=x.has(t,c)&&M(e[c],t[c],n,r))))break;if(u){for(c in t)if(x.has(t,c)&&!(o--))break;u=!o}}return n.pop(),r.pop(),u};x.isEqual=function(e,t){return M(e,t,[],[])},x.isEmpty=function(e){if(null==e)return!0;if(x.isArray(e)||x.isString(e))return 0===e.length;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!!e&&1===e.nodeType},x.isArray=w||function(e){return"[object Array]"==f.call(e)},x.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!!e&&!!x.has(e,"callee")}),x.isFunction=function(e){return"function"==typeof e},x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==f.call(e)},x.isNull=function(e){return null===e},x.isUndefined=function(e){return void 0===e},x.has=function(e,t){return l.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.times=function(e,t,n){for(var r=Array(e),i=0;e>i;i++)r[i]=t.call(n,i);return r},x.random=function(e,t){return null==t&&(t=e,e=0),e+(0|Math.random()*(t-e+1))};var _={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};_.unescape=x.invert(_.escape);var D={escape:RegExp("["+x.keys(_.escape).join("")+"]","g"),unescape:RegExp("("+x.keys(_.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return null==t?"":(""+t).replace(D[e],function(t){return _[e][t]})}}),x.result=function(e,t){if(null==e)return null;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){T(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),F.call(this,n.apply(x,e))}})};var P=0;x.uniqueId=function(e){var t=""+ ++P;return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){n=x.defaults({},n,x.templateSettings);var r=RegExp([(n.escape||H).source,(n.interpolate||H).source,(n.evaluate||H).source].join("|")+"|$","g"),i=0,s="__p+='";e.replace(r,function(t,n,r,o,u){return s+=e.slice(i,u).replace(j,function(e){return"\\"+B[e]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(s+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),o&&(s+="';\n"+o+"\n__p+='"),i=u+t.length,t}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var o=Function(n.variable||"obj","_",s)}catch(u){throw u.source=s,u}if(t)return o(t,x);var a=function(e){return o.call(this,e,x)};return a.source="function("+(n.variable||"obj")+"){\n"+s+"}",a},x.chain=function(e){return x(e).chain()};var F=function(e){return this._chain?x(e).chain():e};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],F.call(this,n)}}),T(["concat","join","slice"],function(e){var t=r[e];x.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(e,t,n){function f(e){var t={},r=/^jQuery\d+$/;return n.each(e.attributes,function(e,n){n.specified&&!r.test(n.name)&&(t[n.name]=n.value)}),t}function l(e,r){var i=this,s=n(i);if(i.value==s.attr("placeholder")&&s.hasClass("placeholder"))if(s.data("placeholder-password")){s=s.hide().next().show().attr("id",s.removeAttr("id").data("placeholder-id"));if(e===!0)return s[0].value=r;s.focus()}else i.value="",s.removeClass("placeholder"),i==t.activeElement&&i.select()}function c(){var e,t=this,r=n(t),i=r,s=this.id;if(t.value==""){if(t.type=="password"){if(!r.data("placeholder-textinput")){try{e=r.clone().attr({type:"text"})}catch(o){e=n("<input>").attr(n.extend(f(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":!0,"placeholder-id":s}).bind("focus.placeholder",l),r.data({"placeholder-textinput":e,"placeholder-id":s}).before(e)}r=r.removeAttr("id").hide().prev().attr("id",s).show()}r.addClass("placeholder"),r[0].value=r.attr("placeholder")}else r.removeClass("placeholder")}var r="placeholder"in t.createElement("input"),i="placeholder"in t.createElement("textarea"),s=n.fn,o=n.valHooks,u,a;r&&i?(a=s.placeholder=function(){return this},a.input=a.textarea=!0):(a=s.placeholder=function(){var e=this;return e.filter((r?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":l,"blur.placeholder":c}).data("placeholder-enabled",!0).trigger("blur.placeholder"),e},a.input=r,a.textarea=i,u={get:function(e){var t=n(e);return t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,r){var i=n(e);return i.data("placeholder-enabled")?(r==""?(e.value=r,e!=t.activeElement&&c.call(e)):i.hasClass("placeholder")?l.call(e,!0,r)||(e.value=r):e.value=r,i):e.value=r}},r||(o.input=u),i||(o.textarea=u),n(function(){n(t).delegate("form","submit.placeholder",function(){var e=n(".placeholder",this).each(l);setTimeout(function(){e.each(c)},10)})}),n(e).bind("beforeunload.placeholder",function(){n(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),function(e,t){function n(t,n){var i,s,o,u=t.nodeName.toLowerCase();return"area"===u?(i=t.parentNode,s=i.name,!t.href||!s||i.nodeName.toLowerCase()!=="map"?!1:(o=e("img[usemap=#"+s+"]")[0],!!o&&r(o))):(/input|select|textarea|button|object/.test(u)?!t.disabled:"a"===u?t.href||n:n)&&r(t)}function r(t){return e.expr.filters.visible(t)&&!e(t).parents().andSelf().filter(function(){return e.css(this,"visibility")==="hidden"}).length}var i=0,s=/^ui-id-\d+$/;e.ui=e.ui||{};if(e.ui.version)return;e.extend(e.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({_focus:e.fn.focus,focus:function(t,n){return typeof t=="number"?this.each(function(){var r=this;setTimeout(function(){e(r).focus(),n&&n.call(r)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?t=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):t=this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length){var r=e(this[0]),i,s;while(r.length&&r[0]!==document){i=r.css("position");if(i==="absolute"||i==="relative"||i==="fixed"){s=parseInt(r.css("zIndex"),10);if(!isNaN(s)&&s!==0)return s}r=r.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++i)})},removeUniqueId:function(){return this.each(function(){s.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var r=e.attr(t,"tabindex"),i=isNaN(r);return(i||r>=0)&&n(t,!i)}}),e(function(){var t=document.body,n=t.appendChild(n=document.createElement("div"));n.offsetHeight,e.extend(n.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=n.offsetHeight===100,e.support.selectstart="onselectstart"in n,t.removeChild(n).style.display="none"}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,r){function i(t,n,r,i){return e.each(s,function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),i&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var s=r==="Width"?["Left","Right"]:["Top","Bottom"],o=r.toLowerCase(),u={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+r]=function(n){return n===t?u["inner"+r].call(this):this.each(function(){e(this).css(o,i(this,n)+"px")})},e.fn["outer"+r]=function(t,n){return typeof t!="number"?u["outer"+r].call(this,t):this.each(function(){e(this).css(o,i(this,t,!0,n)+"px")})}}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),function(){var t=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];e.ui.ie=t.length?!0:!1,e.ui.ie6=parseFloat(t[1],10)===6}(),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,r){var i,s=e.ui[t].prototype;for(i in r)s.plugins[i]=s.plugins[i]||[],s.plugins[i].push([n,r[i]])},call:function(e,t,n){var r,i=e.plugins[t];if(!i||!e.element[0].parentNode||e.element[0].parentNode.nodeType===11)return;for(r=0;r<i.length;r++)e.options[i[r][0]]&&i[r][1].apply(e.element,n)}},contains:e.contains,hasScroll:function(t,n){if(e(t).css("overflow")==="hidden")return!1;var r=n&&n==="left"?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)},isOverAxis:function(e,t,n){return e>t&&e<t+n},isOver:function(t,n,r,i,s,o){return e.ui.isOverAxis(t,r,s)&&e.ui.isOverAxis(n,i,o)}})}(jQuery),function(e,t){var n=0,r=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var n=0,r;(r=t[n])!=null;n++)try{e(r).triggerHandler("remove")}catch(s){}i(t)},e.widget=function(t,n,r){var i,s,o,u,a=t.split(".")[0];t=t.split(".")[1],i=a+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[a]=e[a]||{},s=e[a][t],o=e[a][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,s,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),u=new n,u.options=e.widget.extend({},u.options),e.each(r,function(t,i){e.isFunction(i)&&(r[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},r=function(e){return n.prototype[t].apply(this,e)};return function(){var t=this._super,n=this._superApply,s;return this._super=e,this._superApply=r,s=i.apply(this,arguments),this._super=t,this._superApply=n,s}}())}),o.prototype=e.widget.extend(u,{widgetEventPrefix:s?u.widgetEventPrefix:t},r,{constructor:o,namespace:a,widgetName:t,widgetBaseClass:i,widgetFullName:i}),s?(e.each(s._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)}),delete s._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o)},e.widget.extend=function(n){var i=r.call(arguments,1),s=0,o=i.length,u,a;for(;s<o;s++)for(u in i[s])a=i[s][u],i[s].hasOwnProperty(u)&&a!==t&&(e.isPlainObject(a)?n[u]=e.isPlainObject(n[u])?e.widget.extend({},n[u],a):e.widget.extend({},a):n[u]=a);return n},e.widget.bridge=function(n,i){var s=i.prototype.widgetFullName||n;e.fn[n]=function(o){var u=typeof o=="string",a=r.call(arguments,1),f=this;return o=!u&&a.length?e.widget.extend.apply(null,[o].concat(a)):o,u?this.each(function(){var r,i=e.data(this,s);if(!i)return e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+o+"'");if(!e.isFunction(i[o])||o.charAt(0)==="_")return e.error("no such method '"+o+"' for "+n+" widget instance");r=i[o].apply(i,a);if(r!==i&&r!==t)return f=r&&r.jquery?f.pushStack(r.get()):r,!1}):this.each(function(){var t=e.data(this,s);t?t.option(o||{})._init():e.data(this,s,new i(o,this))}),f}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetName,this),e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,r){var i=n,s,o,u;if(arguments.length===0)return e.widget.extend({},this.options);if(typeof n=="string"){i={},s=n.split("."),n=s.shift();if(s.length){o=i[n]=e.widget.extend({},this.options[n]);for(u=0;u<s.length-1;u++)o[s[u]]=o[s[u]]||{},o=o[s[u]];n=s.pop();if(r===t)return o[n]===t?null:o[n];o[n]=r}else{if(r===t)return this.options[n]===t?null:this.options[n];i[n]=r}}return this._setOptions(i),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,e==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,r){var i,s=this;typeof t!="boolean"&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,o){function u(){if(!t&&(s.options.disabled===!0||e(this).hasClass("ui-state-disabled")))return;return(typeof o=="string"?s[o]:o).apply(s,arguments)}typeof o!="string"&&(u.guid=o.guid=o.guid||u.guid||e.guid++);var a=r.match(/^(\w+)\s*(.*)$/),f=a[1]+
s.eventNamespace,l=a[2];l?i.delegate(l,f,u):n.bind(f,u)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return(typeof e=="string"?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent;if(s)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){typeof i=="string"&&(i={effect:i});var o,u=i?i===!0||typeof i=="number"?n:i.effect||n:t;i=i||{},typeof i=="number"&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&e.effects&&(e.effects.effect[u]||e.uiBackCompat!==!1&&e.effects[u])?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}}),e.uiBackCompat!==!1&&(e.Widget.prototype._getCreateOptions=function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]})}(jQuery),function(e,t){var n=!1;e(document).mouseup(function(e){n=!1}),e.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(n)return;this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var r=this,i=t.which===1,s=typeof this.options.cancel=="string"&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;if(!i||s||!this._mouseCapture(t))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=this._mouseStart(t)!==!1;if(!this._mouseStarted)return t.preventDefault(),!0}return!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return r._mouseMove(e)},this._mouseUpDelegate=function(e){return r._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),n=!0,!0},_mouseMove:function(t){return!e.ui.ie||document.documentMode>=9||!!t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(e){return this.mouseDelayMet},_mouseStart:function(e){},_mouseDrag:function(e){},_mouseStop:function(e){},_mouseCapture:function(e){return!0}})}(jQuery),function(e,t){e.widget("ui.sortable",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?e.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,n){t==="disabled"?(this.options[t]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var r=this;if(this.reverting)return!1;if(this.options.disabled||this.options.type=="static")return!1;this._refreshItems(t);var i=null,s=e(t.target).parents().each(function(){if(e.data(this,r.widgetName+"-item")==r)return i=e(this),!1});e.data(t.target,r.widgetName+"-item")==r&&(i=e(t.target));if(!i)return!1;if(this.options.handle&&!n){var o=!1;e(this.options.handle,i).find("*").andSelf().each(function(){this==t.target&&(o=!0)});if(!o)return!1}return this.currentItem=i,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,n,r){var i=this.options;this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),i.containment&&this._setContainment(),i.cursor&&(e("body").css("cursor")&&(this._storedCursor=e("body").css("cursor")),e("body").css("cursor",i.cursor)),i.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",i.opacity)),i.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",i.zIndex)),this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions();if(!r)for(var s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var n=this.options,r=!1;this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-this.overflowOffset.top<n.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-n.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-this.overflowOffset.left<n.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-n.scrollSpeed)):(t.pageY-e(document).scrollTop()<n.scrollSensitivity?r=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(r=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed)),t.pageX-e(document).scrollLeft()<n.scrollSensitivity?r=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(r=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed))),r!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(var i=this.items.length-1;i>=0;i--){var s=this.items[i],o=s.item[0],u=this._intersectsWithPointer(s);if(!u)continue;if(s.instance!==this.currentContainer)continue;if(o!=this.currentItem[0]&&this.placeholder[u==1?"next":"prev"]()[0]!=o&&!e.contains(this.placeholder[0],o)&&(this.options.type=="semi-dynamic"?!e.contains(this.element[0],o):!0)){this.direction=u==1?"down":"up";if(this.options.tolerance!="pointer"&&!this._intersectsWithSides(s))break;this._rearrange(t,s),this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(!t)return;e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t);if(this.options.revert){var r=this,i=this.placeholder.offset();this.reverting=!0,e(this.helper).animate({left:i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,n);return!1},cancel:function(){if(this.dragging){this._mouseUp({target:null}),this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},n.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")}),r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,s=e.left,o=s+e.width,u=e.top,a=u+e.height,f=this.offset.click.top,l=this.offset.click.left,c=r+f>u&&r+f<a&&t+l>s&&t+l<o;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?c:s<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<o&&u<r+this.helperProportions.height/2&&i-this.helperProportions.height/2<a},_intersectsWithPointer:function(t){var n=this.options.axis==="x"||e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r=this.options.axis==="y"||e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=n&&r,s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return i?this.floating?o&&o=="right"||s=="down"?2:1:s&&(s=="down"?2:1):!1},_intersectsWithSides:function(t){var n=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),r=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?s=="right"&&r||s=="left"&&!r:i&&(i=="down"&&n||i=="up"&&!n)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return e!=0&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return e!=0&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor==String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n=[],r=[],i=this._connectWith();if(i&&t)for(var s=i.length-1;s>=0;s--){var o=e(i[s]);for(var u=o.length-1;u>=0;u--){var a=e.data(o[u],this.widgetName);a&&a!=this&&!a.options.disabled&&r.push([e.isFunction(a.options.items)?a.options.items.call(a.element):e(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a])}}r.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var s=r.length-1;s>=0;s--)r[s][0].each(function(){n.push(this)});return e(n)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]==e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n=this.items,r=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],i=this._connectWith();if(i&&this.ready)for(var s=i.length-1;s>=0;s--){var o=e(i[s]);for(var u=o.length-1;u>=0;u--){var a=e.data(o[u],this.widgetName);a&&a!=this&&!a.options.disabled&&(r.push([e.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):e(a.options.items,a.element),a]),this.containers.push(a))}}for(var s=r.length-1;s>=0;s--){var f=r[s][1],l=r[s][0];for(var u=0,c=l.length;u<c;u++){var h=e(l[u]);h.data(this.widgetName+"-item",f),n.push({item:h,instance:f,width:0,height:0,left:0,top:0})}}},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var n=this.items.length-1;n>=0;n--){var r=this.items[n];if(r.instance!=this.currentContainer&&this.currentContainer&&r.item[0]!=this.currentItem[0])continue;var i=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item;t||(r.width=i.outerWidth(),r.height=i.outerHeight());var s=i.offset();r.left=s.left,r.top=s.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var n=this.containers.length-1;n>=0;n--){var s=this.containers[n].element.offset();this.containers[n].containerCache.left=s.left,this.containers[n].containerCache.top=s.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight()}return this},_createPlaceholder:function(t){t=t||this;var n=t.options;if(!n.placeholder||n.placeholder.constructor==String){var r=n.placeholder;n.placeholder={element:function(){var n=e(document.createElement(t.currentItem[0].nodeName)).addClass(r||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return r||(n.style.visibility="hidden"),n},update:function(e,i){if(r&&!n.forcePlaceholderSize)return;i.height()||i.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),i.width()||i.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10))}}}t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_contactContainers:function(t){var n=null,r=null;for(var i=this.containers.length-1;i>=0;i--){if(e.contains(this.currentItem[0],this.containers[i].element[0]))continue;if(this._intersectsWith(this.containers[i].containerCache)){if(n&&e.contains(this.containers[i].element[0],n.element[0]))continue;n=this.containers[i],r=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0)}if(!n)return;if(this.containers.length===1)this.containers[r]._trigger("over",t,this._uiHash(this)),this.containers[r].containerCache.over=1;else{var s=1e4,o=null,u=this.containers[r].floating?"left":"top",a=this.containers[r].floating?"width":"height",f=this.positionAbs[u]+this.offset.click[u];for(var l=this.items.length-1;l>=0;l--){if(!e.contains(this.containers[r].element[0],this.items[l].item[0]))continue;if(this.items[l].item[0]==this.currentItem[0])continue;var c=this.items[l].item.offset()[u],h=!1;Math.abs(c-f)>Math.abs(c+this.items[l][a]-f)&&(h=!0,c+=this.items[l][a]),Math.abs(c-f)<s&&(s=Math.abs(c-f),o=this.items[l],this.direction=h?"up":"down")}if(!o&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[r],o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[r].element,!0),this._trigger("change",t,this._uiHash()),this.containers[r]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[r]._trigger("over",t,this._uiHash(this)),this.containers[r].containerCache.over=1}},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):n.helper=="clone"?this.currentItem.clone():this.currentItem;return r.parents("body").length||e(n.appendTo!="parent"?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(r[0].style.width==""||n.forceHelperSize)&&r.width(this.currentItem.width()),(r[0].style.height==""||n.forceHelperSize)&&r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&e.ui.ie)t={top:0,left:0};return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;t.containment=="parent"&&(t.containment=this.helper[0].parentNode);if(t.containment=="document"||t.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e(t.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(e(t.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(t.containment)){var n=e(t.containment)[0],r=e(t.containment).offset(),i=e(n).css("overflow")!="hidden";this.containment=[r.left+(parseInt(e(n).css("borderLeftWidth"),10)||0)+(parseInt(e(n).css("paddingLeft"),10)||0)-this.margins.left,r.top+(parseInt(e(n).css("borderTopWidth"),10)||0)+(parseInt(e(n).css("paddingTop"),10)||0)-this.margins.top,r.left+(i?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e(n).css("borderLeftWidth"),10)||0)-(parseInt(e(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,r.top+(i?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e(n).css("borderTopWidth"),10)||0)-(parseInt(e(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,n){n||(n=this.position);var r=t=="absolute"?1:-1,i=this.options,s=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(s[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():o?0:s.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():o?0:s.scrollLeft())*r}},_generatePosition:function(t){var n=this.options,r=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(r[0].tagName);this.cssPosition=="relative"&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var s=t.pageX,o=t.pageY;if(this.originalPosition){this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top));if(n.grid){var u=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1];o=this.containment?u-this.offset.click.top<this.containment[1]||u-this.offset.click.top>this.containment[3]?u-this.offset.click.top<this.containment[1]?u+n.grid[1]:u-n.grid[1]:u:u;var a=this.originalPageX+Math.round((s-this.originalPageX)/n.grid[0])*n.grid[0];s=this.containment?a-this.offset.click.left<this.containment[0]||a-this.offset.click.left>this.containment[2]?a-this.offset.click.left<this.containment[0]?a+n.grid[0]:a-n.grid[0]:a:a}}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():i?0:r.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():i?0:r.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay(function(){i==this.counter&&this.refreshPositions(!r)})},_clear:function(t,n){this.reverting=!1;var r=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var i in this._storedCSS)if(this._storedCSS[i]=="auto"||this._storedCSS[i]=="static")this._storedCSS[i]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!n&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!n&&r.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(n||(r.push(function(e){this._trigger("remove",e,this._uiHash())}),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer))));for(var i=this.containers.length-1;i>=0;i--)n||r.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);this._storedCursor&&e("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex),this.dragging=!1;if(this.cancelHelperRemoval){if(!n){this._trigger("beforeStop",t,this._uiHash());for(var i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}n||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null;if(!n){for(var i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})}(jQuery),jQuery.effects||function(e,t){var n=e.uiBackCompat!==!1,r="ui-effects-";e.effects={effect:{}},function(t,n){function r(e,t,n){var r=c[t.type]||{};return e==null?n||!t.def?null:t.def:(e=r.floor?~~e:parseFloat(e),isNaN(e)?t.def:r.mod?(e+r.mod)%r.mod:0>e?0:r.max<e?r.max:e)}function i(e){var n=f(),r=n._rgba=[];return e=e.toLowerCase(),v(a,function(t,i){var s,o=i.re.exec(e),u=o&&i.parse(o),a=i.space||"rgba";if(u)return s=n[a](u),n[l[a].cache]=s[l[a].cache],r=n._rgba=s._rgba,!1}),r.length?(r.join()==="0,0,0,0"&&t.extend(r,d.transparent),n):d[e]}function s(e,t,n){return n=(n+1)%1,n*6<1?e+(t-e)*n*6:n*2<1?t:n*3<2?e+(t-e)*(2/3-n)*6:e}var o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),u=/^([\-+])=\s*(\d+\.?\d*)/,a=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1]*2.55,e[2]*2.55,e[3]*2.55,e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],f=t.Color=function(e,n,r,i){return new t.Color.fn.parse(e,n,r,i)},l={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},c={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=f.support={},p=t("<p>")[0],d,v=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=p.style.backgroundColor.indexOf("rgba")>-1,v(l,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),f.fn=t.extend(f.prototype,{parse:function(s,o,u,a){if(s===n)return this._rgba=[null,null,null,null],this;if(s.jquery||s.nodeType)s=t(s).css(o),o=n;var c=this,h=t.type(s),p=this._rgba=[];o!==n&&(s=[s,o,u,a],h="array");if(h==="string")return this.parse(i(s)||d._default);if(h==="array")return v(l.rgba.props,function(e,t){p[t.idx]=r(s[t.idx],t)}),this;if(h==="object")return s instanceof f?v(l,function(e,t){s[t.cache]&&(c[t.cache]=s[t.cache].slice())}):v(l,function(t,n){var i=n.cache;v(n.props,function(e,t){if(!c[i]&&n.to){if(e==="alpha"||s[e]==null)return;c[i]=n.to(c._rgba)}c[i][t.idx]=r(s[e],t,!0)}),c[i]&&e.inArray(null,c[i].slice(0,3))<0&&(c[i][3]=1,n.from&&(c._rgba=n.from(c[i])))}),this},is:function(e){var t=f(e),n=!0,r=this;return v(l,function(e,i){var s,o=t[i.cache];return o&&(s=r[i.cache]||i.to&&i.to(r._rgba)||[],v(i.props,function(e,t){if(o[t.idx]!=null)return n=o[t.idx]===s[t.idx],n})),n}),n},_space:function(){var e=[],t=this;return v(l,function(n,r){t[r.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var n=f(e),i=n._space(),s=l[i],o=this.alpha()===0?f("transparent"):this,u=o[s.cache]||s.to(o._rgba),a=u.slice();return n=n[s.cache],v(s.props,function(e,i){var s=i.idx,o=u[s],f=n[s],l=c[i.type]||{};if(f===null)return;o===null?a[s]=f:(l.mod&&(f-o>l.mod/2?o+=l.mod:o-f>l.mod/2&&(o-=l.mod)),a[s]=r((f-o)*t+o,i))}),this[i](a)},blend:function(e){if(this._rgba[3]===1)return this;var n=this._rgba.slice(),r=n.pop(),i=f(e)._rgba;return f(t.map(n,function(e,t){return(1-r)*i[t]+r*e}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(e,t){return e==null?t>2?1:0:e});return n[3]===1&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(e,t){return e==null&&(e=t>2?1:0),t&&t<3&&(e=Math.round(e*100)+"%"),e});return n[3]===1&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),r=n.pop();return e&&n.push(~~(r*255)),"#"+t.map(n,function(e){return e=(e||0).toString(16),e.length===1?"0"+e:e}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),f.fn.parse.prototype=f.fn,l.hsla.to=function(e){if(e[0]==null||e[1]==null||e[2]==null)return[null,null,null,e[3]];var t=e[0]/255,n=e[1]/255,r=e[2]/255,i=e[3],s=Math.max(t,n,r),o=Math.min(t,n,r),u=s-o,a=s+o,f=a*.5,l,c;return o===s?l=0:t===s?l=60*(n-r)/u+360:n===s?l=60*(r-t)/u+120:l=60*(t-n)/u+240,f===0||f===1?c=f:f<=.5?c=u/a:c=u/(2-a),[Math.round(l)%360,c,f,i==null?1:i]},l.hsla.from=function(e){if(e[0]==null||e[1]==null||e[2]==null)return[null,null,null,e[3]];var t=e[0]/360,n=e[1],r=e[2],i=e[3],o=r<=.5?r*(1+n):r+n-r*n,u=2*r-o;return[Math.round(s(u,o,t+1/3)*255),Math.round(s(u,o,t)*255),Math.round(s(u,o,t-1/3)*255),i]},v(l,function(e,i){var s=i.props,o=i.cache,a=i.to,l=i.from;f.fn[e]=function(e){a&&!
this[o]&&(this[o]=a(this._rgba));if(e===n)return this[o].slice();var i,u=t.type(e),c=u==="array"||u==="object"?e:arguments,h=this[o].slice();return v(s,function(e,t){var n=c[u==="object"?e:t.idx];n==null&&(n=h[t.idx]),h[t.idx]=r(n,t)}),l?(i=f(l(h)),i[o]=h,i):f(h)},v(s,function(n,r){if(f.fn[n])return;f.fn[n]=function(i){var s=t.type(i),o=n==="alpha"?this._hsla?"hsla":"rgba":e,a=this[o](),f=a[r.idx],l;return s==="undefined"?f:(s==="function"&&(i=i.call(this,f),s=t.type(i)),i==null&&r.empty?this:(s==="string"&&(l=u.exec(i),l&&(i=f+parseFloat(l[2])*(l[1]==="+"?1:-1))),a[r.idx]=i,this[o](a)))}})}),v(o,function(e,n){t.cssHooks[n]={set:function(e,r){var s,o,u="";if(t.type(r)!=="string"||(s=i(r))){r=f(s||r);if(!h.rgba&&r._rgba[3]!==1){o=n==="backgroundColor"?e.parentNode:e;while((u===""||u==="transparent")&&o&&o.style)try{u=t.css(o,"backgroundColor"),o=o.parentNode}catch(a){}r=r.blend(u&&u!=="transparent"?u:"_default")}r=r.toRgbaString()}try{e.style[n]=r}catch(l){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=f(e.elem,n),e.end=f(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}}),t.cssHooks.borderColor={expand:function(e){var t={};return v(["Top","Right","Bottom","Left"],function(n,r){t["border"+r+"Color"]=e}),t}},d=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function n(){var t=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,n={},r,i;if(t&&t.length&&t[0]&&t[t[0]]){i=t.length;while(i--)r=t[i],typeof t[r]=="string"&&(n[e.camelCase(r)]=t[r])}else for(r in t)typeof t[r]=="string"&&(n[r]=t[r]);return n}function r(t,n){var r={},i,o;for(i in n)o=n[i],t[i]!==o&&!s[i]&&(e.fx.step[i]||!isNaN(parseFloat(o)))&&(r[i]=o);return r}var i=["add","remove","toggle"],s={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){if(e.end!=="none"&&!e.setAttr||e.pos===1&&!e.setAttr)jQuery.style(e.elem,n,e.end),e.setAttr=!0}}),e.effects.animateClass=function(t,s,o,u){var a=e.speed(s,o,u);return this.queue(function(){var s=e(this),o=s.attr("class")||"",u,f=a.children?s.find("*").andSelf():s;f=f.map(function(){var t=e(this);return{el:t,start:n.call(this)}}),u=function(){e.each(i,function(e,n){t[n]&&s[n+"Class"](t[n])})},u(),f=f.map(function(){return this.end=n.call(this.el[0]),this.diff=r(this.start,this.end),this}),s.attr("class",o),f=f.map(function(){var t=this,n=e.Deferred(),r=jQuery.extend({},a,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,r),n.promise()}),e.when.apply(e,f.get()).done(function(){u(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),a.complete.call(s[0])})})},e.fn.extend({_addClass:e.fn.addClass,addClass:function(t,n,r,i){return n?e.effects.animateClass.call(this,{add:t},n,r,i):this._addClass(t)},_removeClass:e.fn.removeClass,removeClass:function(t,n,r,i){return n?e.effects.animateClass.call(this,{remove:t},n,r,i):this._removeClass(t)},_toggleClass:e.fn.toggleClass,toggleClass:function(n,r,i,s,o){return typeof r=="boolean"||r===t?i?e.effects.animateClass.call(this,r?{add:n}:{remove:n},i,s,o):this._toggleClass(n,r):e.effects.animateClass.call(this,{toggle:n},r,i,s)},switchClass:function(t,n,r,i,s){return e.effects.animateClass.call(this,{add:n,remove:t},r,i,s)}})}(),function(){function i(t,n,r,i){e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},n==null&&(n={}),e.isFunction(n)&&(i=n,r=null,n={});if(typeof n=="number"||e.fx.speeds[n])i=r,r=n,n={};return e.isFunction(r)&&(i=r,r=null),n&&e.extend(t,n),r=r||n.duration,t.duration=e.fx.off?0:typeof r=="number"?r:r in e.fx.speeds?e.fx.speeds[r]:e.fx.speeds._default,t.complete=i||n.complete,t}function s(t){return!t||typeof t=="number"||e.fx.speeds[t]?!0:typeof t=="string"&&!e.effects.effect[t]?n&&e.effects[t]?!1:!0:!1}e.extend(e.effects,{version:"1.9.2",save:function(e,t){for(var n=0;n<t.length;n++)t[n]!==null&&e.data(r+t[n],e[0].style[t[n]])},restore:function(e,n){var i,s;for(s=0;s<n.length;s++)n[s]!==null&&(i=e.data(r+n[s]),i===t&&(i=""),e.css(n[s],i))},setMode:function(e,t){return t==="toggle"&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,r;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=e[1]/t.width}return{x:r,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},r=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),i={width:t.width(),height:t.height()},s=document.activeElement;try{s.id}catch(o){s=document.body}return t.wrap(r),(t[0]===s||e.contains(t[0],s))&&e(s).focus(),r=t.parent(),t.css("position")==="static"?(r.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,r){n[r]=t.css(r),isNaN(parseInt(n[r],10))&&(n[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(i),r.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t},setTransition:function(t,n,r,i){return i=i||{},e.each(n,function(e,n){var s=t.cssUnit(n);s[0]>0&&(i[n]=s[0]*r+s[1])}),i}}),e.fn.extend({effect:function(){function t(t){function n(){e.isFunction(s)&&s.call(i[0]),e.isFunction(t)&&t()}var i=e(this),s=r.complete,o=r.mode;(i.is(":hidden")?o==="hide":o==="show")?n():u.call(i[0],r,n)}var r=i.apply(this,arguments),s=r.mode,o=r.queue,u=e.effects.effect[r.effect],a=!u&&n&&e.effects[r.effect];return e.fx.off||!u&&!a?s?this[s](r.duration,r.complete):this.each(function(){r.complete&&r.complete.call(this)}):u?o===!1?this.each(t):this.queue(o||"fx",t):a.call(this,{options:r,duration:r.duration,callback:r.complete,mode:r.mode})},_show:e.fn.show,show:function(e){if(s(e))return this._show.apply(this,arguments);var t=i.apply(this,arguments);return t.mode="show",this.effect.call(this,t)},_hide:e.fn.hide,hide:function(e){if(s(e))return this._hide.apply(this,arguments);var t=i.apply(this,arguments);return t.mode="hide",this.effect.call(this,t)},__toggle:e.fn.toggle,toggle:function(t){if(s(t)||typeof t=="boolean"||e.isFunction(t))return this.__toggle.apply(this,arguments);var n=i.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)},cssUnit:function(t){var n=this.css(t),r=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(r=[parseFloat(n),t])}),r}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return e===0||e===1?e:-Math.pow(2,8*(e-1))*Math.sin(((e-1)*80-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){var t,n=4;while(e<((t=Math.pow(2,--n))-1)/11);return 1/Math.pow(4,3-n)-7.5625*Math.pow((t*3-2)/22-e,2)}}),e.each(t,function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?n(e*2)/2:1-n(e*-2+2)/2}})}()}(jQuery),function(e,t){var n=/up|down|vertical/,r=/up|left|vertical|horizontal/;e.effects.effect.blind=function(t,i){var s=e(this),o=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(s,t.mode||"hide"),a=t.direction||"up",f=n.test(a),l=f?"height":"width",c=f?"top":"left",h=r.test(a),p={},d=u==="show",v,m,g;s.parent().is(".ui-effects-wrapper")?e.effects.save(s.parent(),o):e.effects.save(s,o),s.show(),v=e.effects.createWrapper(s).css({overflow:"hidden"}),m=v[l](),g=parseFloat(v.css(c))||0,p[l]=d?m:0,h||(s.css(f?"bottom":"right",0).css(f?"top":"left","auto").css({position:"absolute"}),p[c]=d?g:m+g),d&&(v.css(l,0),h||v.css(c,g+m)),v.animate(p,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){u==="hide"&&s.hide(),e.effects.restore(s,o),e.effects.removeWrapper(s),i()}})}}(jQuery),function(e,t){e.effects.effect.bounce=function(t,n){var r=e(this),i=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(r,t.mode||"effect"),o=s==="hide",u=s==="show",a=t.direction||"up",f=t.distance,l=t.times||5,c=l*2+(u||o?1:0),h=t.duration/c,p=t.easing,d=a==="up"||a==="down"?"top":"left",v=a==="up"||a==="left",m,g,y,b=r.queue(),w=b.length;(u||o)&&i.push("opacity"),e.effects.save(r,i),r.show(),e.effects.createWrapper(r),f||(f=r[d==="top"?"outerHeight":"outerWidth"]()/3),u&&(y={opacity:1},y[d]=0,r.css("opacity",0).css(d,v?-f*2:f*2).animate(y,h,p)),o&&(f/=Math.pow(2,l-1)),y={},y[d]=0;for(m=0;m<l;m++)g={},g[d]=(v?"-=":"+=")+f,r.animate(g,h,p).animate(y,h,p),f=o?f*2:f/2;o&&(g={opacity:0},g[d]=(v?"-=":"+=")+f,r.animate(g,h,p)),r.queue(function(){o&&r.hide(),e.effects.restore(r,i),e.effects.removeWrapper(r),n()}),w>1&&b.splice.apply(b,[1,0].concat(b.splice(w,c+1))),r.dequeue()}}(jQuery),function(e,t){e.effects.effect.clip=function(t,n){var r=e(this),i=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(r,t.mode||"hide"),o=s==="show",u=t.direction||"vertical",a=u==="vertical",f=a?"height":"width",l=a?"top":"left",c={},h,p,d;e.effects.save(r,i),r.show(),h=e.effects.createWrapper(r).css({overflow:"hidden"}),p=r[0].tagName==="IMG"?h:r,d=p[f](),o&&(p.css(f,0),p.css(l,d/2)),c[f]=o?d:0,c[l]=o?0:d/2,p.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){o||r.hide(),e.effects.restore(r,i),e.effects.removeWrapper(r),n()}})}}(jQuery),function(e,t){e.effects.effect.drop=function(t,n){var r=e(this),i=["position","top","bottom","left","right","opacity","height","width"],s=e.effects.setMode(r,t.mode||"hide"),o=s==="show",u=t.direction||"left",a=u==="up"||u==="down"?"top":"left",f=u==="up"||u==="left"?"pos":"neg",l={opacity:o?1:0},c;e.effects.save(r,i),r.show(),e.effects.createWrapper(r),c=t.distance||r[a==="top"?"outerHeight":"outerWidth"](!0)/2,o&&r.css("opacity",0).css(a,f==="pos"?-c:c),l[a]=(o?f==="pos"?"+=":"-=":f==="pos"?"-=":"+=")+c,r.animate(l,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){s==="hide"&&r.hide(),e.effects.restore(r,i),e.effects.removeWrapper(r),n()}})}}(jQuery),function(e,t){e.effects.effect.explode=function(t,n){function r(){p.push(this),p.length===s*o&&i()}function i(){u.css({visibility:"visible"}),e(p).remove(),f||u.hide(),n()}var s=t.pieces?Math.round(Math.sqrt(t.pieces)):3,o=s,u=e(this),a=e.effects.setMode(u,t.mode||"hide"),f=a==="show",l=u.show().css("visibility","hidden").offset(),c=Math.ceil(u.outerWidth()/o),h=Math.ceil(u.outerHeight()/s),p=[],d,v,m,g,y,b;for(d=0;d<s;d++){g=l.top+d*h,b=d-(s-1)/2;for(v=0;v<o;v++)m=l.left+v*c,y=v-(o-1)/2,u.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-v*c,top:-d*h}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:c,height:h,left:m+(f?y*c:0),top:g+(f?b*h:0),opacity:f?0:1}).animate({left:m+(f?0:y*c),top:g+(f?0:b*h),opacity:f?1:0},t.duration||500,t.easing,r)}}}(jQuery),function(e,t){e.effects.effect.fade=function(t,n){var r=e(this),i=e.effects.setMode(r,t.mode||"toggle");r.animate({opacity:i},{queue:!1,duration:t.duration,easing:t.easing,complete:n})}}(jQuery),function(e,t){e.effects.effect.fold=function(t,n){var r=e(this),i=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(r,t.mode||"hide"),o=s==="show",u=s==="hide",a=t.size||15,f=/([0-9]+)%/.exec(a),l=!!t.horizFirst,c=o!==l,h=c?["width","height"]:["height","width"],p=t.duration/2,d,v,m={},g={};e.effects.save(r,i),r.show(),d=e.effects.createWrapper(r).css({overflow:"hidden"}),v=c?[d.width(),d.height()]:[d.height(),d.width()],f&&(a=parseInt(f[1],10)/100*v[u?0:1]),o&&d.css(l?{height:0,width:a}:{height:a,width:0}),m[h[0]]=o?v[0]:a,g[h[1]]=o?v[1]:0,d.animate(m,p,t.easing).animate(g,p,t.easing,function(){u&&r.hide(),e.effects.restore(r,i),e.effects.removeWrapper(r),n()})}}(jQuery),function(e,t){e.effects.effect.highlight=function(t,n){var r=e(this),i=["backgroundImage","backgroundColor","opacity"],s=e.effects.setMode(r,t.mode||"show"),o={backgroundColor:r.css("backgroundColor")};s==="hide"&&(o.opacity=0),e.effects.save(r,i),r.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){s==="hide"&&r.hide(),e.effects.restore(r,i),n()}})}}(jQuery),function(e,t){e.effects.effect.pulsate=function(t,n){var r=e(this),i=e.effects.setMode(r,t.mode||"show"),s=i==="show",o=i==="hide",u=s||i==="hide",a=(t.times||5)*2+(u?1:0),f=t.duration/a,l=0,c=r.queue(),h=c.length,p;if(s||!r.is(":visible"))r.css("opacity",0).show(),l=1;for(p=1;p<a;p++)r.animate({opacity:l},f,t.easing),l=1-l;r.animate({opacity:l},f,t.easing),r.queue(function(){o&&r.hide(),n()}),h>1&&c.splice.apply(c,[1,0].concat(c.splice(h,a+1))),r.dequeue()}}(jQuery),function(e,t){e.effects.effect.puff=function(t,n){var r=e(this),i=e.effects.setMode(r,t.mode||"hide"),s=i==="hide",o=parseInt(t.percent,10)||150,u=o/100,a={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:i,complete:n,percent:s?o:100,from:s?a:{height:a.height*u,width:a.width*u,outerHeight:a.outerHeight*u,outerWidth:a.outerWidth*u}}),r.effect(t)},e.effects.effect.scale=function(t,n){var r=e(this),i=e.extend(!0,{},t),s=e.effects.setMode(r,t.mode||"effect"),o=parseInt(t.percent,10)||(parseInt(t.percent,10)===0?0:s==="hide"?0:100),u=t.direction||"both",a=t.origin,f={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()},l={y:u!=="horizontal"?o/100:1,x:u!=="vertical"?o/100:1};i.effect="size",i.queue=!1,i.complete=n,s!=="effect"&&(i.origin=a||["middle","center"],i.restore=!0),i.from=t.from||(s==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:f),i.to={height:f.height*l.y,width:f.width*l.x,outerHeight:f.outerHeight*l.y,outerWidth:f.outerWidth*l.x},i.fade&&(s==="show"&&(i.from.opacity=0,i.to.opacity=1),s==="hide"&&(i.from.opacity=1,i.to.opacity=0)),r.effect(i)},e.effects.effect.size=function(t,n){var r,i,s,o=e(this),u=["position","top","bottom","left","right","width","height","overflow","opacity"],a=["position","top","bottom","left","right","overflow","opacity"],f=["width","height","overflow"],l=["fontSize"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(o,t.mode||"effect"),d=t.restore||p!=="effect",v=t.scale||"both",m=t.origin||["middle","center"],g=o.css("position"),y=d?u:a,b={height:0,width:0,outerHeight:0,outerWidth:0};p==="show"&&o.show(),r={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},t.mode==="toggle"&&p==="show"?(o.from=t.to||b,o.to=t.from||r):(o.from=t.from||(p==="show"?b:r),o.to=t.to||(p==="hide"?b:r)),s={from:{y:o.from.height/r.height,x:o.from.width/r.width},to:{y:o.to.height/r.height,x:o.to.width/r.width}};if(v==="box"||v==="both")s.from.y!==s.to.y&&(y=y.concat(c),o.from=e.effects.setTransition(o,c,s.from.y,o.from),o.to=e.effects.setTransition(o,c,s.to.y,o.to)),s.from.x!==s.to.x&&(y=y.concat(h),o.from=e.effects.setTransition(o,h,s.from.x,o.from),o.to=e.effects.setTransition(o,h,s.to.x,o.to));(v==="content"||v==="both")&&s.from.y!==s.to.y&&(y=y.concat(l).concat(f),o.from=e.effects.setTransition(o,l,s.from.y,o.from),o.to=e.effects.setTransition(o,l,s.to.y,o.to)),e.effects.save(o,y),o.show(),e.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),m&&(i=e.effects.getBaseline(m,r),o.from.top=(r.outerHeight-o.outerHeight())*i.y,o.from.left=(r.outerWidth-o.outerWidth())*i.x,o.to.top=(r.outerHeight-o.to.outerHeight)*i.y,o.to.left=(r.outerWidth-o.to.outerWidth)*i.x),o.css(o.from);if(v==="content"||v==="both")c=c.concat(["marginTop","marginBottom"]).concat(l),h=h.concat(["marginLeft","marginRight"]),f=u.concat(c).concat(h),o.find("*[width]").each(function(){var n=e(this),r={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};d&&e.effects.save(n,f),n.from={height:r.height*s.from.y,width:r.width*s.from.x,outerHeight:r.outerHeight*s.from.y,outerWidth:r.outerWidth*s.from.x},n.to={height:r.height*s.to.y,width:r.width*s.to.x,outerHeight:r.height*s.to.y,outerWidth:r.width*s.to.x},s.from.y!==s.to.y&&(n.from=e.effects.setTransition(n,c,s.from.y,n.from),n.to=e.effects.setTransition(n,c,s.to.y,n.to)),s.from.x!==s.to.x&&(n.from=e.effects.setTransition(n,h,s.from.x,n.from),n.to=e.effects.setTransition(n,h,s.to.x,n.to)),n.css(n.from),n.animate(n.to,t.duration,t.easing,function(){d&&e.effects.restore(n,f)})});o.animate(o.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){o.to.opacity===0&&o.css("opacity",o.from.opacity),p==="hide"&&o.hide(),e.effects.restore(o,y),d||(g==="static"?o.css({position:"relative",top:o.to.top,left:o.to.left}):e.each(["top","left"],function(e,t){o.css(t,function(t,n){var r=parseInt(n,10),i=e?o.to.left:o.to.top;return n==="auto"?i+"px":r+i+"px"})})),e.effects.removeWrapper(o),n()}})}}(jQuery),function(e,t){e.effects.effect.shake=function(t,n){var r=e(this),i=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(r,t.mode||"effect"),o=t.direction||"left",u=t.distance||20,a=t.times||3,f=a*2+1,l=Math.round(t.duration/f),c=o==="up"||o==="down"?"top":"left",h=o==="up"||o==="left",p={},d={},v={},m,g=r.queue(),y=g.length;e.effects.save(r,i),r.show(),e.effects.createWrapper(r),p[c]=(h?"-=":"+=")+u,d[c]=(h?"+=":"-=")+u*2,v[c]=(h?"-=":"+=")+u*2,r.animate(p,l,t.easing);for(m=1;m<a;m++)r.animate(d,l,t.easing).animate(v,l,t.easing);r.animate(d,l,t.easing).animate(p,l/2,t.easing).queue(function(){s==="hide"&&r.hide(),e.effects.restore(r,i),e.effects.removeWrapper(r),n()}),y>1&&g.splice.apply(g,[1,0].concat(g.splice(y,f+1))),r.dequeue()}}(jQuery),function(e,t){e.effects.effect.slide=function(t,n){var r=e(this),i=["position","top","bottom","left","right","width","height"],s=e.effects.setMode(r,t.mode||"show"),o=s==="show",u=t.direction||"left",a=u==="up"||u==="down"?"top":"left",f=u==="up"||u==="left",l,c={};e.effects.save(r,i),r.show(),l=t.distance||r[a==="top"?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(r).css({overflow:"hidden"}),o&&r.css(a,f?isNaN(l)?"-"+l:-l:l),c[a]=(o?f?"+=":"-=":f?"-=":"+=")+l,r.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){s==="hide"&&r.hide(),e.effects.restore(r,i),e.effects.removeWrapper(r),n()}})}}(jQuery),function(e,t){e.effects.effect.transfer=function(t,n){var r=e(this),i=e(t.to),s=i.css("position")==="fixed",o=e("body"),u=s?o.scrollTop():0,a=s?o.scrollLeft():0,f=i.offset(),l={top:f.top-u,left:f.left-a,height:i.innerHeight(),width:i.innerWidth()},c=r.offset(),h=e('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(t.className).css({top:c.top-u,left:c.left-a,height:r.innerHeight(),width:r.innerWidth(),position:s?"fixed":"absolute"}).animate(l,t.duration,t.easing,function(){h.remove(),n()})}}(jQuery),function(e){"use strict";typeof define=="function"&&define.amd?define(["jquery"],e):e(window.jQuery)}(function(e){"use strict";var t=0;e.ajaxTransport("iframe",function(n){if(n.async){var r=n.initialIframeSrc||"javascript:false;",i,s,o;return{send:function(u,a){i=e('<form style="display:none;"></form>'),i.attr("accept-charset",n.formAcceptCharset),o=/\?/.test(n.url)?"&":"?",n.type==="DELETE"?(n.url=n.url+o+"_method=DELETE",n.type="POST"):n.type==="PUT"?(n.url=n.url+o+"_method=PUT",n.type="POST"):n.type==="PATCH"&&(n.url=n.url+o+"_method=PATCH",n.type="POST"),t+=1,s=e('<iframe src="'+r+'" name="iframe-transport-'+t+'"></iframe>').bind("load",function(){var t,o=e.isArray(n.paramName)?n.paramName:[n.paramName];s.unbind("load").bind("load",function(){var t;try{t=s.contents();if(!t.length||!t[0].firstChild)throw new Error}catch(n){t=undefined}a(200,"success",{iframe:t}),e('<iframe src="'+r+'"></iframe>').appendTo(i),window.setTimeout(function(){i.remove()},0)}),i.prop("target",s.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&e.each(n.formData,function(t,n){e('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(i)}),n.fileInput&&n.fileInput.length&&n.type==="POST"&&(t=n.fileInput.clone(),n.fileInput.after(function(e){return t[e]}),n.paramName&&n.fileInput.each(function(t){e(this).prop("name",o[t]||n.paramName)}),i.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),n.fileInput.removeAttr("form")),i.submit(),t&&t.length&&n.fileInput.each(function(n,r){var i=e(t[n]);e(r).prop("name",i.prop("name")).attr("form",i.attr("form")),i.replaceWith(r)})}),i.append(s).appendTo(document.body)},abort:function(){s&&s.unbind("load").prop("src",r),i&&i.remove()}}}}),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe xml":function(t){var n=t&&t[0];return n&&e.isXMLDoc(n)?n:e.parseXML(n.XMLDocument&&n.XMLDocument.xml||e(n.body).html())},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})}),function(e){"use strict";typeof define=="function"&&define.amd?define(["jquery","jquery.ui.widget"],e):typeof exports=="object"?e(require("jquery"),require("./vendor/jquery.ui.widget")):e(window.jQuery)}(function(e){"use strict";function t(t){var n=t==="dragover";return function(r){r.dataTransfer=r.originalEvent&&r.originalEvent.dataTransfer;var i=r.dataTransfer;i&&e.inArray("Files",i.types)!==-1&&this._trigger(t,e.Event(t,{delegatedEvent:r}))!==!1&&(r.preventDefault(),n&&(i.dropEffect="copy"))}}e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))")).test(window.navigator.userAgent)&&!e('<input type="file">').prop("disabled"),e.support.xhrFileUpload=!!window.ProgressEvent&&!!window.FileReader,e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:undefined,fileInput:undefined,replaceFileInput:!0,paramName:undefined,singleFileUploads:!0,limitMultiFileUploads:undefined,limitMultiFileUploadSize:undefined,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:undefined,forceIframeTransport:!1,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:!0,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,n){return t=this.messages[t]||t.toString(),n&&e.each(n,function(e,n){t=t.replace("{"+e+"}",n)}),t},formData:function(e){return e.serializeArray()},add:function(t,n){if(t.isDefaultPrevented())return!1;(n.autoUpload||n.autoUpload!==!1&&e(this).fileupload("option","autoUpload"))&&n.process().done(function(){n.submit()})},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var r=e-this.timestamp;if(!this.bitrate||!n||r>n)this.bitrate=(t-this.loaded)*(1e3/r)*8,this.loaded=t,this.timestamp=e;return this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return e.type(t.formData)==="function"?t.formData(t.form):e.isArray(t.formData)?t.formData:e.type(t.formData)==="object"?(n=[],e.each(t.formData,function(e,t){n.push({name:e,value:t})}),n):[]},_getTotal:function(t){var n=0;return e.each(t,function(e,t){n+=t.size||1}),n},_initProgressObject:function(t){var n={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,n):t._progress=n},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(t,n){if(t.lengthComputable){var r=Date.now?Date.now():(new Date).getTime(),i;if(n._time&&n.progressInterval&&r-n._time<n.progressInterval&&t.loaded!==t.total)return;n._time=r,i=Math.floor(t.loaded/t.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=i-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(r,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=i,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(r,i,n.bitrateInterval),this._trigger("progress",e.Event("progress",{delegatedEvent:t}),n),this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var n=this,r=t.xhr?t.xhr():e.ajaxSettings.xhr();r.upload&&(e(r.upload).bind("progress",function(e){var r=e.originalEvent;e.lengthComputable=r.lengthComputable,e.loaded=r.loaded,e.total=r.total,n._onProgress(e,t)}),t.xhr=function(){return r})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var n=this,r,i=t.files[0],s=t.multipart||!e.support.xhrFileUpload,o=e.type(t.paramName)==="array"?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange);if(!s||t.blob||!this._isInstanceOf("File",i))t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(i.name)+'"';s?e.support.xhrFormDataFileUpload&&(t.postMessage?(r=this._getFormData(t),t.blob?r.push({name:o,value:t.blob}):e.each(t.files,function(n,i){r.push({name:e.type(t.paramName)==="array"&&t.paramName[n]||o,value:i})})):(n._isInstanceOf("FormData",t.formData)?r=t.formData:(r=new FormData,e.each(this._getFormData(t),function(e,t){r.append(t.name,t.value)})),t.blob?r.append(o,t.blob,i.name):e.each(t.files,function(i,s){(n._isInstanceOf("File",s)||n._isInstanceOf("Blob",s))&&r.append(e.type(t.paramName)==="array"&&t.paramName[i]||o,s,s.uploadName||s.name)})),t.data=r):(t.contentType=i.type||"application/octet-stream",t.data=t.blob||i),t.blob=null},_initIframeSettings:function(t){var n=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&n&&n!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var n=e(t.fileInput),r=t.paramName;return r?e.isArray(r)||(r=[r]):(r=[],n.each(function(){var t=e(this),n=t.prop("name")||"files[]",i=(t.prop("files")||[1]).length;while(i)r.push(n),i-=1}),r.length||(r=[n.prop("name")||"files[]"])),r},_initFormSettings:function(t){if(!t.form||!t.form.length)t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")));t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||e.type(t.form.prop("method"))==="string"&&t.form.prop("method")||"").toUpperCase(),t.type!=="POST"&&t.type!=="PUT"&&t.type!=="PATCH"&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var n=e.extend({},this.options,t);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,n,r){var i=e.Deferred(),s=i.promise();return n=n||this.options.context||s,t===!0?i.resolveWith(n,r):t===!1&&i.rejectWith(n,r),s.abort=i.promise,this._enhancePromise(s)},_addConvenienceMethods:function(t,n){var r=this,i=function(t){return e.Deferred().resolveWith(r,t).promise()};n.process=function(t,s){if(t||s)n._processQueue=this._processQueue=(this._processQueue||i([this])).pipe(function(){return n.errorThrown?e.Deferred().rejectWith(r,[n]).promise():i(arguments)}).pipe(t,s);return this._processQueue||i([this])},n.submit=function(){return this.state()!=="pending"&&(n.jqXHR=this.jqXHR=r._trigger("submit",e.Event("submit",{delegatedEvent:t}),this)!==!1&&r._onSend(t,this)),this.jqXHR||r._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",r._trigger("fail",null,this),r._getXHRPromise(!1))},n.state=function(){if(this.jqXHR)return r._getDeferredState(this.jqXHR);if(this._processQueue)return r._getDeferredState(this._processQueue)},n.processing=function(){return!this.jqXHR&&this._processQueue&&r._getDeferredState(this._processQueue)==="pending"},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),r=n&&n.length>1&&parseInt(n[1],10);return r&&r+1},_chunkedUpload:function(t,n){t.uploadedBytes=t.uploadedBytes||0;var r=this,i=t.files[0],s=i.size,o=t.uploadedBytes,u=t.maxChunkSize||s,a=this._blobSlice,f=e.Deferred(),l=f.promise(),c,h;return!(this._isXHRUpload(t)&&a&&(o||u<s))||t.data?!1:n?!0:o>=s?(i.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",i.error])):(h=function(){var n=e.extend({},t),l=n._progress.loaded;n.blob=a.call(i,o,o+u,i.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+o+"-"+(o+n.chunkSize-1)+"/"+s,r._initXHRData(n),r._initProgressListener(n),c=(r._trigger("chunksend",null,n)!==!1&&e.ajax(n)||r._getXHRPromise(!1,n.context)).done(function(i,u,a){o=r._getUploadedBytes(a)||o+n.chunkSize,l+n.chunkSize-n._progress.loaded&&r._onProgress(e.Event("progress",{lengthComputable:!0,loaded:o-n.uploadedBytes,total:o-n.uploadedBytes}),n),t.uploadedBytes=n.uploadedBytes=o,n.result=i,n.textStatus=u,n.jqXHR=a,r._trigger("chunkdone",null,n),r._trigger("chunkalways",null,n),o<s?h():f.resolveWith(n.context,[i,u,a])}).fail(function(e,t,i){n.jqXHR=e,n.textStatus=t,n.errorThrown=i,r._trigger("chunkfail",null,n),r._trigger("chunkalways",null,n),f.rejectWith(n.context,[e,t,i])})},this._enhancePromise(l),l.abort=function(){return c.abort()},h(),l)},_beforeSend:function(e,t){this._active===0&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,n,r,i){var s=i._progress.total,o=i._response;i._progress.loaded<s&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:s,total:s}),i),o.result=i.result=t,o.textStatus=i.textStatus=n,o.jqXHR=i.jqXHR=r,this._trigger("done",null,i)},_onFail:function(e,t,n,r){var i=r._response;r.recalculateProgress&&(this._progress.loaded-=r._progress.loaded,this._progress.total-=r._progress.total),i.jqXHR=r.jqXHR=e,i.textStatus=r.textStatus=t,i.errorThrown=r.errorThrown=n,this._trigger("fail",null,r)},_onAlways:function(e,t,n,r){this._trigger("always",null,r)},_onSend:function(t,n){n.submit||this._addConvenienceMethods(t,n);var r=this,i,s,o,u,a=r._getAJAXSettings(n),f=function(){return r._sending+=1,a._bitrateTimer=new r._BitrateTimer,i=i||((s||r._trigger("send",e.Event("send",{delegatedEvent:t}),a)===!1)&&r._getXHRPromise(!1,a.context,s)||r._chunkedUpload(a)||e.ajax(a)).done(function(e,t,n){r._onDone(e,t,n,a)}).fail(function(e,t,n){r._onFail(e,t,n,a)}).always(function(e,t,n){r._onAlways(e,t,n,a),r._sending-=1
,r._active-=1;if(a.limitConcurrentUploads&&a.limitConcurrentUploads>r._sending){var i=r._slots.shift();while(i){if(r._getDeferredState(i)==="pending"){i.resolve();break}i=r._slots.shift()}}r._active===0&&r._trigger("stop")}),i};return this._beforeSend(t,a),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=e.Deferred(),this._slots.push(o),u=o.pipe(f)):(this._sequence=this._sequence.pipe(f,f),u=this._sequence),u.abort=function(){return s=[undefined,"abort","abort"],i?i.abort():(o&&o.rejectWith(a.context,s),f())},this._enhancePromise(u)):f()},_onAdd:function(t,n){var r=this,i=!0,s=e.extend({},this.options,n),o=n.files,u=o.length,a=s.limitMultiFileUploads,f=s.limitMultiFileUploadSize,l=s.limitMultiFileUploadSizeOverhead,c=0,h=this._getParamName(s),p,d,v,m,g=0;f&&(!u||o[0].size===undefined)&&(f=undefined);if(!(s.singleFileUploads||a||f)||!this._isXHRUpload(s))v=[o],p=[h];else if(!s.singleFileUploads&&!f&&a){v=[],p=[];for(m=0;m<u;m+=a)v.push(o.slice(m,m+a)),d=h.slice(m,m+a),d.length||(d=h),p.push(d)}else if(!s.singleFileUploads&&f){v=[],p=[];for(m=0;m<u;m+=1){c+=o[m].size+l;if(m+1===u||c+o[m+1].size+l>f||a&&m+1-g>=a)v.push(o.slice(g,m+1)),d=h.slice(g,m+1),d.length||(d=h),p.push(d),g=m+1,c=0}}else p=h;return n.originalFiles=o,e.each(v||o,function(s,o){var u=e.extend({},n);return u.files=v?o:[o],u.paramName=p[s],r._initResponseObject(u),r._initProgressObject(u),r._addConvenienceMethods(t,u),i=r._trigger("add",e.Event("add",{delegatedEvent:t}),u),i}),i},_replaceFileInput:function(t){var n=t.fileInput,r=n.clone(!0);t.fileInputClone=r,e("<form></form>").append(r)[0].reset(),n.after(r).detach(),e.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===n[0]?r[0]:t}),n[0]===this.element[0]&&(this.element=r)},_handleFileTreeEntry:function(t,n){var r=this,i=e.Deferred(),s=function(e){e&&!e.entry&&(e.entry=t),i.resolve([e])},o=function(e){r._handleFileTreeEntries(e,n+t.name+"/").done(function(e){i.resolve(e)}).fail(s)},u=function(){a.readEntries(function(e){e.length?(f=f.concat(e),u()):o(f)},s)},a,f=[];return n=n||"",t.isFile?t._file?(t._file.relativePath=n,i.resolve(t._file)):t.file(function(e){e.relativePath=n,i.resolve(e)},s):t.isDirectory?(a=t.createReader(),u()):i.resolve([]),i.promise()},_handleFileTreeEntries:function(t,n){var r=this;return e.when.apply(e,e.map(t,function(e){return r._handleFileTreeEntry(e,n)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var n=t.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(e.map(n,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var n=t.prop("webkitEntries")||t.prop("entries"),r,i;if(n&&n.length)return this._handleFileTreeEntries(n);r=e.makeArray(t.prop("files"));if(!r.length){i=t.prop("value");if(!i)return e.Deferred().resolve([]).promise();r=[{name:i.replace(/^.*\\/,"")}]}else r[0].name===undefined&&r[0].fileName&&e.each(r,function(e,t){t.name=t.fileName,t.size=t.fileSize});return e.Deferred().resolve(r).promise()},_getFileInputFiles:function(t){return t instanceof e&&t.length!==1?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var n=this,r={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(r.fileInput).always(function(i){r.files=i,n.options.replaceFileInput&&n._replaceFileInput(r),n._trigger("change",e.Event("change",{delegatedEvent:t}),r)!==!1&&n._onAdd(t,r)})},_onPaste:function(t){var n=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,r={files:[]};n&&n.length&&(e.each(n,function(e,t){var n=t.getAsFile&&t.getAsFile();n&&r.files.push(n)}),this._trigger("paste",e.Event("paste",{delegatedEvent:t}),r)!==!1&&this._onAdd(t,r))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=this,r=t.dataTransfer,i={};r&&r.files&&r.files.length&&(t.preventDefault(),this._getDroppedFiles(r).always(function(r){i.files=r,n._trigger("drop",e.Event("drop",{delegatedEvent:t}),i)!==!1&&n._onAdd(t,i)}))},_onDragOver:t("dragover"),_onDragEnter:t("dragenter"),_onDragLeave:t("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,n){var r=e.inArray(t,this._specialOptions)!==-1;r&&this._destroyEventHandlers(),this._super(t,n),r&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;t.fileInput===undefined?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),n=t.pop();return t.shift(),new RegExp(t.join("/"),n)},_isRegExpOption:function(t,n){return t!=="url"&&e.type(n)==="string"&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var t=this,n=this.options,r=this.element.data();e.each(this.element[0].attributes,function(e,i){var s=i.name.toLowerCase(),o;/^data-/.test(s)&&(s=s.slice(5).replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()}),o=r[s],t._isRegExpOption(s,o)&&(o=t._getRegExp(o)),n[s]=o)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var n=this;if(!t||this.options.disabled)return;t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,n._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n=this,r=e.Deferred(),i=r.promise(),s,o;return i.abort=function(){return o=!0,s?s.abort():(r.reject(null,"abort","abort"),i)},this._getFileInputFiles(t.fileInput).always(function(e){if(o)return;if(!e.length){r.reject();return}t.files=e,s=n._onSend(null,t),s.then(function(e,t,n){r.resolve(e,t,n)},function(e,t,n){r.reject(e,t,n)})}),this._enhancePromise(i)}t.files=e.makeArray(t.files);if(t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),function(e){e.fn.qrcode=function(t){function i(e){this.mode=n,this.data=e}function s(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function o(e,t){if(void 0==e.length)throw Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=Array(e.length-n+t);for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}function u(e,t){this.totalCount=e,this.dataCount=t}function a(){this.buffer=[],this.length=0}var n;i.prototype={getLength:function(){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},s.prototype={addData:function(e){this.dataList.push(new i(e)),this.dataCache=null},isDark:function(e,t){if(0>e||this.moduleCount<=e||0>t||this.moduleCount<=t)throw Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){if(1>this.typeNumber){for(var e=1,e=1;40>e;e++){for(var t=u.getRSBlocks(e,this.errorCorrectLevel),n=new a,r=0,i=0;i<t.length;i++)r+=t[i].dataCount;for(i=0;i<this.dataList.length;i++)t=this.dataList[i],n.put(t.mode,4),n.put(t.getLength(),f.getLengthInBits(t.mode,e)),t.write(n);if(n.getLengthInBits()<=8*r)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),7<=this.typeNumber&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=s.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var n=-1;7>=n;n++)if(!(-1>=e+n||this.moduleCount<=e+n))for(var r=-1;7>=r;r++)-1>=t+r||this.moduleCount<=t+r||(this.modules[e+n][t+r]=0<=n&&6>=n&&(0==r||6==r)||0<=r&&6>=r&&(0==n||6==n)||2<=n&&4>=n&&2<=r&&4>=r?!0:!1)},getBestMaskPattern:function(){for(var e=0,t=0,n=0;8>n;n++){this.makeImpl(!0,n);var r=f.getLostPoint(this);if(0==n||e>r)e=r,t=n}return t},createMovieClip:function(e,t,n){e=e.createEmptyMovieClip(t,n),this.make();for(t=0;t<this.modules.length;t++)for(var n=1*t,r=0;r<this.modules[t].length;r++){var i=1*r;this.modules[t][r]&&(e.beginFill(0,100),e.moveTo(i,n),e.lineTo(i+1,n),e.lineTo(i+1,n+1),e.lineTo(i,n+1),e.endFill())}return e},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=0==e%2);for(e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=0==e%2)},setupPositionAdjustPattern:function(){for(var e=f.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=e[t],i=e[n];if(null==this.modules[r][i])for(var s=-2;2>=s;s++)for(var o=-2;2>=o;o++)this.modules[r+s][i+o]=-2==s||2==s||-2==o||2==o||0==s&&0==o?!0:!1}},setupTypeNumber:function(e){for(var t=f.getBCHTypeNumber(this.typeNumber),n=0;18>n;n++){var r=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(n=0;18>n;n++)r=!e&&1==(t>>n&1),this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r},setupTypeInfo:function(e,t){for(var n=f.getBCHTypeInfo(this.errorCorrectLevel<<3|t),r=0;15>r;r++){var i=!e&&1==(n>>r&1);6>r?this.modules[r][8]=i:8>r?this.modules[r+1][8]=i:this.modules[this.moduleCount-15+r][8]=i}for(r=0;15>r;r++)i=!e&&1==(n>>r&1),8>r?this.modules[8][this.moduleCount-r-1]=i:9>r?this.modules[8][15-r-1+1]=i:this.modules[8][15-r-1]=i;this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var n=-1,r=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;0<o;o-=2)for(6==o&&o--;;){for(var u=0;2>u;u++)if(null==this.modules[r][o-u]){var a=!1;s<e.length&&(a=1==(e[s]>>>i&1)),f.getMask(t,r,o-u)&&(a=!a),this.modules[r][o-u]=a,i--,-1==i&&(s++,i=7)}r+=n;if(0>r||this.moduleCount<=r){r-=n,n=-n;break}}}},s.PAD0=236,s.PAD1=17,s.createData=function(e,t,n){for(var t=u.getRSBlocks(e,t),r=new a,i=0;i<n.length;i++){var o=n[i];r.put(o.mode,4),r.put(o.getLength(),f.getLengthInBits(o.mode,e)),o.write(r)}for(i=e=0;i<t.length;i++)e+=t[i].dataCount;if(r.getLengthInBits()>8*e)throw Error("code length overflow. ("+r.getLengthInBits()+">"+8*e+")");for(r.getLengthInBits()+4<=8*e&&r.put(0,4);0!=r.getLengthInBits()%8;)r.putBit(!1);for(;!(r.getLengthInBits()>=8*e);){r.put(s.PAD0,8);if(r.getLengthInBits()>=8*e)break;r.put(s.PAD1,8)}return s.createBytes(r,t)},s.createBytes=function(e,t){for(var n=0,r=0,i=0,s=Array(t.length),u=Array(t.length),a=0;a<t.length;a++){var l=t[a].dataCount,c=t[a].totalCount-l,r=Math.max(r,l),i=Math.max(i,c);s[a]=Array(l);for(var h=0;h<s[a].length;h++)s[a][h]=255&e.buffer[h+n];n+=l,h=f.getErrorCorrectPolynomial(c),l=(new o(s[a],h.getLength()-1)).mod(h),u[a]=Array(h.getLength()-1);for(h=0;h<u[a].length;h++)c=h+l.getLength()-u[a].length,u[a][h]=0<=c?l.get(c):0}for(h=a=0;h<t.length;h++)a+=t[h].totalCount;n=Array(a);for(h=l=0;h<r;h++)for(a=0;a<t.length;a++)h<s[a].length&&(n[l++]=s[a][h]);for(h=0;h<i;h++)for(a=0;a<t.length;a++)h<u[a].length&&(n[l++]=u[a][h]);return n},n=4;for(var f={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;0<=f.getBCHDigit(t)-f.getBCHDigit(f.G15);)t^=f.G15<<f.getBCHDigit(t)-f.getBCHDigit(f.G15);return(e<<10|t)^f.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;0<=f.getBCHDigit(t)-f.getBCHDigit(f.G18);)t^=f.G18<<f.getBCHDigit(t)-f.getBCHDigit(f.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return f.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case 0:return 0==(t+n)%2;case 1:return 0==t%2;case 2:return 0==n%3;case 3:return 0==(t+n)%3;case 4:return 0==(Math.floor(t/2)+Math.floor(n/3))%2;case 5:return 0==t*n%2+t*n%3;case 6:return 0==(t*n%2+t*n%3)%2;case 7:return 0==(t*n%3+(t+n)%2)%2;default:throw Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new o([1],0),n=0;n<e;n++)t=t.multiply(new o([1,l.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&10>t)switch(e){case 1:return 10;case 2:return 9;case n:return 8;case 8:return 8;default:throw Error("mode:"+e)}else if(27>t)switch(e){case 1:return 12;case 2:return 11;case n:return 16;case 8:return 10;default:throw Error("mode:"+e)}else{if(!(41>t))throw Error("type:"+t);switch(e){case 1:return 14;case 2:return 13;case n:return 16;case 8:return 12;default:throw Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var i=0;i<t;i++){for(var s=0,o=e.isDark(r,i),u=-1;1>=u;u++)if(!(0>r+u||t<=r+u))for(var a=-1;1>=a;a++)0>i+a||t<=i+a||0==u&&0==a||o==e.isDark(r+u,i+a)&&s++;5<s&&(n+=3+s-5)}for(r=0;r<t-1;r++)for(i=0;i<t-1;i++)if(s=0,e.isDark(r,i)&&s++,e.isDark(r+1,i)&&s++,e.isDark(r,i+1)&&s++,e.isDark(r+1,i+1)&&s++,0==s||4==s)n+=3;for(r=0;r<t;r++)for(i=0;i<t-6;i++)e.isDark(r,i)&&!e.isDark(r,i+1)&&e.isDark(r,i+2)&&e.isDark(r,i+3)&&e.isDark(r,i+4)&&!e.isDark(r,i+5)&&e.isDark(r,i+6)&&(n+=40);for(i=0;i<t;i++)for(r=0;r<t-6;r++)e.isDark(r,i)&&!e.isDark(r+1,i)&&e.isDark(r+2,i)&&e.isDark(r+3,i)&&e.isDark(r+4,i)&&!e.isDark(r+5,i)&&e.isDark(r+6,i)&&(n+=40);for(i=s=0;i<t;i++)for(r=0;r<t;r++)e.isDark(r,i)&&s++;return e=Math.abs(100*s/t/t-50)/5,n+10*e}},l={glog:function(e){if(1>e)throw Error("glog("+e+")");return l.LOG_TABLE[e]},gexp:function(e){for(;0>e;)e+=255;for(;256<=e;)e-=255;return l.EXP_TABLE[e]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},c=0;8>c;c++)l.EXP_TABLE[c]=1<<c;for(c=8;256>c;c++)l.EXP_TABLE[c]=l.EXP_TABLE[c-4]^l.EXP_TABLE[c-5]^l.EXP_TABLE[c-6]^l.EXP_TABLE[c-8];for(c=0;255>c;c++)l.LOG_TABLE[l.EXP_TABLE[c]]=c;return o.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var r=0;r<e.getLength();r++)t[n+r]^=l.gexp(l.glog(this.get(n))+l.glog(e.get(r)));return new o(t,0)},mod:function(e){if(0>this.getLength()-e.getLength())return this;for(var t=l.glog(this.get(0))-l.glog(e.get(0)),n=Array(this.getLength()),r=0;r<this.getLength();r++)n[r]=this.get(r);for(r=0;r<e.getLength();r++)n[r]^=l.gexp(l.glog(e.get(r))+t);return(new o(n,0)).mod(e)}},u.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],u.getRSBlocks=function(e,t){var n=u.getRsBlockTable(e,t);if(void 0==n)throw Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,i=[],s=0;s<r;s++)for(var o=n[3*s+0],a=n[3*s+1],f=n[3*s+2],l=0;l<o;l++)i.push(new u(a,f));return i},u.getRsBlockTable=function(e,t){switch(t){case 1:return u.RS_BLOCK_TABLE[4*(e-1)+0];case 0:return u.RS_BLOCK_TABLE[4*(e-1)+1];case 3:return u.RS_BLOCK_TABLE[4*(e-1)+2];case 2:return u.RS_BLOCK_TABLE[4*(e-1)+3]}},a.prototype={get:function(e){return 1==(this.buffer[Math.floor(e/8)]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},"string"==typeof t&&(t={text:t}),t=e.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,correctLevel:2,background:"#ffffff",foreground:"#000000"},t),this.each(function(){var n;if("canvas"==t.render){n=new s(t.typeNumber,t.correctLevel),n.addData(t.text),n.make();var i=document.createElement("canvas");i.width=t.width,i.height=t.height;for(var o=i.getContext("2d"),u=t.width/n.getModuleCount(),a=t.height/n.getModuleCount(),f=0;f<n.getModuleCount();f++)for(var l=0;l<n.getModuleCount();l++){o.fillStyle=n.isDark(f,l)?t.foreground:t.background;var c=Math.ceil((l+1)*u)-Math.floor(l*u),p=Math.ceil((f+1)*u)-Math.floor(f*u);o.fillRect(Math.round(l*u),Math.round(f*a),c,p)}}else{n=new s(t.typeNumber,t.correctLevel),n.addData(t.text),n.make(),i=e("<table></table>").css("width",t.width+"px").css("height",t.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",t.background),o=t.width/n.getModuleCount(),u=t.height/n.getModuleCount();for(a=0;a<n.getModuleCount();a++){f=e("<tr></tr>").css("height",u+"px").appendTo(i);for(l=0;l<n.getModuleCount();l++)e("<td></td>").css("width",o+"px").css("background-color",n.isDark(a,l)?t.foreground:t.background).appendTo(f)}}n=i,jQuery(n).appendTo(this)})}}(jQuery),function(e){e.fn.mailAutoComplete=function(t){var n={boxClass:"mailListBox",listClass:"mailListDefault",focusClass:"mailListFocus",markCalss:"mailListHlignt",zIndex:1,autoClass:!0,mailArr:["qq.com","gmail.com","126.com","163.com","hotmail.com","outlook.com","sohu.com","sina.com"],textHint:!1,hintText:"",focusColor:"#333",blurColor:"#999"},r=e.extend({},n,t||{});r.autoClass&&e("#mailListAppendCss").size()===0&&e('<style id="mailListAppendCss" type="text/css">.mailListBox{border:1px solid #369; background:#fff; }.mailListDefault{padding:0 5px;cursor:pointer;white-space:nowrap;}.mailListFocus{padding:0 5px;cursor:pointer;white-space:nowrap;background:#369;color:white;}.mailListHlignt{color:red;}.mailListFocus .mailListHlignt{color:#fff;}</style>').appendTo(e("head"));var i=r.boxClass,s=r.listClass,o=r.focusClass,u=r.markCalss,a=r.zIndex,f=mailArr=r.mailArr,l=r.textHint,c=r.hintText,h=r.focusColor,p=r.blurColor;e.createHtml=function(t,n,r){var i="";return e.isArray(n)&&(n.length>0?(e(".justForJs").show(),e.each(n,function(e,a){e===r?i+='<div class="mailHover '+o+'" id="mailList_'+e+'"><span class="'+u+'">'+t+"</span>@"+n[e]+"</div>":i+='<div class="mailHover '+s+'" id="mailList_'+e+'"><span class="'+u+'">'+t+"</span>@"+n[e]+"</div>"})):e(".justForJs").hide()),i};var d=-1,m;e(this).each(function(){var t=e(this),n=e(".justForJs").size(),r="100%",u=t.outerHeight();t.wrap('<span style="display:block;position:relative;"></span>').before('<div id="mailListBox_'+n+'" class="justForJs '+i+'" style="font-size: 15px; min-width:'+r+";_width:"+r+"px;position:absolute;left:-6000px;top:"+u+"px;z-index:"+a+';"></div>');var g=e("#mailListBox_"+n),y;t.focus(function(){e(this).css("color",h).parent().css("z-index",a);if(l&&c){var n=e.trim(e(this).val());n===c&&e(this).val("")}e(this).keydown(function(n){m=v=e.trim(e(this).val()),v.length>0&&n.keyCode===13&&(d>-1&&d<f.length&&(e(this).val(e("#mailList_"+d).text()),g.css("left","-6000px"),t.parent().parent().next().find("input").focus()),n.preventDefault())}),e(this).keyup(function(t){m=v=e.trim(e(this).val()),/@/.test(v)&&(m=v.replace(/@.*/,""));if(v.length>0){if(t.keyCode===38)d<=0&&(d=f.length),d--;else if(t.keyCode===40)d>=f.length-1&&(d=-1),d++;else if(/@/.test(v)){d=-1;var n=v.replace(/.*@/,"");f=e.map(mailArr,function(e){var t=new RegExp(n);if(t.test(e))return e})}else f=mailArr;g.html(e.createHtml(m,f,d)).css("left",0)}else g.css("left","-6000px")}).blur(function(){if(l&&c){var t=e.trim(e(this).val());t===""&&e(this).val(c)}e(this).css("color",p).unbind("keyup").parent().css("z-index",0),g.css("left","-6000px")}),e(".mailHover").live("mouseover",function(){d=Number(e(this).attr("id").split("_")[1]),y=e("#mailList_"+d).text(),g.children("."+o).removeClass(o).addClass(s),e(this).addClass(o).removeClass(s)})}),g.bind("mousedown",function(){t.val(y)})})}}(jQuery),+function(e){"use strict";function n(n,r){return this.each(function(){var i=e(this),s=i.data("bs.modal"),o=e.extend({},t.DEFAULTS,i.data(),typeof n=="object"&&n);s||i.data("bs.modal",s=new t(this,o)),typeof n=="string"?s[n](r):o.show&&s.show(r)})}var t=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};t.VERSION="3.3.1",t.TRANSITION_DURATION=300,t.BACKDROP_TRANSITION_DURATION=150,t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},t.prototype.show=function(n){var r=this,i=e.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(i);if(this.isShown||i.isDefaultPrevented())return;this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var i=e.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.options.backdrop&&r.adjustBackdrop(),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass("in").attr("aria-hidden",!1),r.enforceFocus();var s=e.Event("shown.bs.modal",{relatedTarget:n});i?r.$element.find(".modal-dialog").one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(t.TRANSITION_DURATION):r.$element.trigger("focus").trigger(s)})},t.prototype.hide=function(n){n&&n.preventDefault(),n=e.Event("hide.bs.modal"),this.$element.trigger(n);if(!this.isShown||n.isDefaultPrevented())return;this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal()},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]!==e.target&&!this.$element.has(e.target).length&&this.$element.trigger("focus")},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){e.which==27&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},t.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(n){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=e.support.transition&&i;this.$backdrop=e('<div class="modal-backdrop '+i+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",e.proxy(function(e){if(e.target!==e.currentTarget)return;this.options.backdrop=="static"?this.$element[0].focus.call(this.$element[0]):this.hide.call(this)},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in");if(!n)return;s?this.$backdrop.one("bsTransitionEnd",n).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):n()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){r.removeBackdrop(),n&&n()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):o()}else n&&n()},t.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},t.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},t.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},t.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},t.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},t.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},t.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var r=e.fn.modal;e.fn.modal=n,e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var r=e(this),i=r.attr("href"),s=e(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=s.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},s.data(),r.data());r.is("a")&&t.preventDefault(),s.one("show.bs.modal",function(e){if(e.isDefaultPrevented())return;s.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),n.call(s,o,this)})}(jQuery),+function(e){"use strict";function i(r){if(r&&r.which===3)return;e(t).remove(),e(n).each(function(){var t=e(this),n=s(t),i={relatedTarget:this};if(!n.hasClass("open"))return;n.trigger(r=e.Event("hide.bs.dropdown",i));if(r.isDefaultPrevented())return;t.attr("aria-expanded","false"),n.removeClass("open").trigger("hidden.bs.dropdown",i)})}function s(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}function o(t){return this.each(function(){var n=e(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new r(this)),typeof t=="string"&&i[t].call(n)})}var t=".dropdown-backdrop",n='[data-toggle="dropdown"]',r=function(t){e(t).on("click.bs.dropdown",this.toggle)};r.VERSION="3.3.1",r.prototype.toggle=function(t){var n=e(this);if(n.is(".disabled, :disabled"))return;var r=s(n),o=r.hasClass("open");i();if(!o){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",i);var u={relatedTarget:this};r.trigger(t=e.Event("show.bs.dropdown",u));if(t.isDefaultPrevented())return;n.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger("shown.bs.dropdown",u)}return!1},r.prototype.keydown=function(t){if(!/(38|40|27|32)/.test(t.which)||/input|textarea/i.test(t.target.tagName))return;var r=e(this);t.preventDefault(),t.stopPropagation();if(r.is(".disabled, :disabled"))return;var i=s(r),o=i.hasClass("open");if(!o&&t.which!=27||o&&t.which==27)return t.which==27&&i.find(n).trigger("focus"),r.trigger("click");var u=" li:not(.divider):visible a",a=i.find('[role="menu"]'+u+', [role="listbox"]'+u);if(!a.length)return;var f=a.index(t.target);t.which==38&&f>0&&f--,t.which==40&&f<a.length-1&&f++,~f||(f=0),a.eq(f).trigger("focus")};var u=e.fn.dropdown;e.fn.dropdown=o,e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=u,this},e(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",n,r.prototype.toggle).on("keydown.bs.dropdown.data-api",n,r.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',r.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',r.prototype.keydown)}(jQuery),+function(e){"use strict";function n(n){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new t(this)),typeof n=="string"&&i[n]()})}var t=function(t){this.element=e(t)};t.VERSION="3.3.1",t.TRANSITION_DURATION=150,t.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));if(t.parent("li").hasClass("active"))return;var i=n.find(".active:last a"),s=e.Event("hide.bs.tab",{relatedTarget:t[0]}),o=e.Event("show.bs.tab",{relatedTarget:i[0]});i.trigger(s),t.trigger(o);if(o.isDefaultPrevented()||s.isDefaultPrevented())return;var u=e(r);this.activate(t.closest("li"),n),this.activate(u,u.parent(),function(){i.trigger({type:"hidden.bs.tab"
,relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})},t.prototype.activate=function(n,r,i){function u(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),n.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),o?(n[0].offsetWidth,n.addClass("in")):n.removeClass("fade"),n.parent(".dropdown-menu")&&n.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var s=r.find("> .active"),o=i&&e.support.transition&&(s.length&&s.hasClass("fade")||!!r.find("> .fade").length);s.length&&o?s.one("bsTransitionEnd",u).emulateTransitionEnd(t.TRANSITION_DURATION):u(),s.removeClass("in")};var r=e.fn.tab;e.fn.tab=n,e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=r,this};var i=function(t){t.preventDefault(),n.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),+function(e){"use strict";function n(n){return this.each(function(){var r=e(this),i=r.data("bs.button"),s=typeof n=="object"&&n;i||r.data("bs.button",i=new t(this,s)),n=="toggle"?i.toggle():n&&i.setState(n)})}var t=function(n,r){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,r),this.isLoading=!1};t.VERSION="3.3.1",t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(t){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",s=r.data();t+="Text",s.resetText==null&&r.data("resetText",r[i]()),setTimeout(e.proxy(function(){r[i](s[t]==null?this.options[t]:s[t]),t=="loadingText"?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},t.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");n.prop("type")=="radio"&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));e&&this.$element.toggleClass("active")};var r=e.fn.button;e.fn.button=n,e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=r,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var r=e(t.target);r.hasClass("btn")||(r=r.closest(".btn")),n.call(r,"toggle"),t.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){"use strict";function n(n){return this.each(function(){var r=e(this),i=r.data("bs.tooltip"),s=typeof n=="object"&&n,o=s&&s.selector;if(!i&&n=="destroy")return;o?(i||r.data("bs.tooltip",i={}),i[o]||(i[o]=new t(this,s))):i||r.data("bs.tooltip",i=new t(this,s)),typeof n=="string"&&i[n]()})}var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};t.VERSION="3.3.1",t.TRANSITION_DURATION=150,t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},t.prototype.init=function(t,n,r){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport);var i=this.options.trigger.split(" ");for(var s=i.length;s--;){var o=i[s];if(o=="click")this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if(o!="manual"){var u=o=="hover"?"mouseenter":"focusin",a=o=="hover"?"mouseleave":"focusout";this.$element.on(u+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},t.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(n&&n.$tip&&n.$tip.is(":visible")){n.hoverState="in";return}n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in";if(!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout(function(){n.hoverState=="in"&&n.show()},n.options.delay.show)},t.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out";if(!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},t.prototype.show=function(){var n=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(n);var r=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(n.isDefaultPrevented()||!r)return;var i=this,s=this.tip(),o=this.getUID(this.type);this.setContent(),s.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&s.addClass("fade");var u=typeof this.options.placement=="function"?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,f=a.test(u);f&&(u=u.replace(a,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(u).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element);var l=this.getPosition(),c=s[0].offsetWidth,h=s[0].offsetHeight;if(f){var p=u,d=this.options.container?e(this.options.container):this.$element.parent(),v=this.getPosition(d);u=u=="bottom"&&l.bottom+h>v.bottom?"top":u=="top"&&l.top-h<v.top?"bottom":u=="right"&&l.right+c>v.width?"left":u=="left"&&l.left-c<v.left?"right":u,s.removeClass(p).addClass(u)}var m=this.getCalculatedOffset(u,l,c,h);this.applyPlacement(m,u);var g=function(){var e=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,e=="out"&&i.leave(i)};e.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",g).emulateTransitionEnd(t.TRANSITION_DURATION):g()}},t.prototype.applyPlacement=function(t,n){var r=this.tip(),i=r[0].offsetWidth,s=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),u=parseInt(r.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(u)&&(u=0),t.top=t.top+o,t.left=t.left+u,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass("in");var a=r[0].offsetWidth,f=r[0].offsetHeight;n=="top"&&f!=s&&(t.top=t.top+s-f);var l=this.getViewportAdjustedDelta(n,t,a,f);l.left?t.left+=l.left:t.top+=l.top;var c=/top|bottom/.test(n),h=c?l.left*2-i+a:l.top*2-s+f,p=c?"offsetWidth":"offsetHeight";r.offset(t),this.replaceArrow(h,r[0][p],c)},t.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(n){function o(){r.hoverState!="in"&&i.detach(),r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),n&&n()}var r=this,i=this.tip(),s=e.Event("hide.bs."+this.type);this.$element.trigger(s);if(s.isDefaultPrevented())return;return i.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",o).emulateTransitionEnd(t.TRANSITION_DURATION):o(),this.hoverState=null,this},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],r=n.tagName=="BODY",i=n.getBoundingClientRect();i.width==null&&(i=e.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var s=r?{top:0,left:0}:t.offset(),o={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},u=r?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},i,o,u,s)},t.prototype.getCalculatedOffset=function(e,t,n,r){return e=="bottom"?{top:t.top+t.height,left:t.left+t.width/2-n/2}:e=="top"?{top:t.top-r,left:t.left+t.width/2-n/2}:e=="left"?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},t.prototype.getViewportAdjustedDelta=function(e,t,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var s=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(e)){var u=t.top-s-o.scroll,a=t.top+s-o.scroll+r;u<o.top?i.top=o.top-u:a>o.top+o.height&&(i.top=o.top+o.height-a)}else{var f=t.left-s,l=t.left+s+n;f<o.left?i.left=o.left-f:l>o.width&&(i.left=o.left+o.width-l)}return i},t.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title),e},t.prototype.getUID=function(e){do e+=~~(Math.random()*1e6);while(document.getElementById(e));return e},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},t.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type)})};var r=e.fn.tooltip;e.fn.tooltip=n,e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=r,this}}(jQuery),+function(e){"use strict";function n(n){return this.each(function(){var r=e(this),i=r.data("bs.popover"),s=typeof n=="object"&&n,o=s&&s.selector;if(!i&&n=="destroy")return;o?(i||r.data("bs.popover",i={}),i[o]||(i[o]=new t(this,s))):i||r.data("bs.popover",i=new t(this,s)),typeof n=="string"&&i[n]()})}var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.3.1",t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?typeof n=="string"?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||(typeof t.content=="function"?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},t.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var r=e.fn.popover;e.fn.popover=n,e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=r,this}}(jQuery),!function(e){"use strict";var t=function(e,t){this.cinit("clickover",e,t)};t.DEFAULTS=e.extend({},e.fn.popover.Constructor.DEFAULTS,{trigger:"manual",auto_close:0,global_close:1,esc_close:1,onShown:null,onHidden:null,width:null,height:null,tip_id:null,class_name:"clickover",allow_multiple:0}),t.prototype=e.extend({},e.fn.popover.Constructor.prototype,{constructor:t,cinit:function(t,n,r){this.attr={},this.attr.me=(Math.random()*10+"").replace(/\D/g,""),this.attr.click_event_ns="click."+this.attr.me+" touchstart."+this.attr.me,r||(r={}),r.trigger="manual",this.init(t,n,r),this.$element.on("click",this.options.selector,e.proxy(this.clickery,this))},clickery:function(t){t&&(t.preventDefault(),t.stopPropagation()),this.options.width&&this.tip().width(this.options.width),this.options.height&&this.tip().height(this.options.height),this.options.tip_id&&this.tip().attr("id",this.options.tip_id),this.options.class_name&&this.tip().addClass(this.options.class_name),this[this.isShown()?"hide":"show"]();if(this.isShown()){var n=this;this.options.global_close&&e("body").on(this.attr.click_event_ns,function(e){n.tip().has(e.target).length||n.clickery()}),this.options.esc_close&&e(document).bind("keyup.clickery",function(e){e.keyCode==27&&n.clickery();return}),!this.options.allow_multiple&&e("[data-clickover-open=1]").each(function(){e(this).data("clickover")&&e(this).data("clickover").clickery()}),this.$element.attr("data-clickover-open",1),this.tip().one("click",'[data-dismiss="clickover"]',e.proxy(this.clickery,this)),this.options.auto_close&&this.options.auto_close>0&&(this.attr.tid=setTimeout(e.proxy(this.clickery,this),this.options.auto_close)),typeof this.options.onShown=="function"&&this.options.onShown.call(this),this.$element.trigger("shown")}else this.$element.removeAttr("data-clickover-open"),this.options.esc_close&&e(document).unbind("keyup.clickery"),e("body").off(this.attr.click_event_ns),typeof this.attr.tid=="number"&&(clearTimeout(this.attr.tid),delete this.attr.tid),typeof this.options.onHidden=="function"&&this.options.onHidden.call(this),this.$element.trigger("hidden")},isShown:function(){return this.tip().hasClass("in")},resetPosition:function(){var e,t,n,r,i,s,o;if(this.hasContent()&&this.enabled){e=this.tip(),s=typeof this.options.placement=="function"?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,t=/in/.test(s),n=this.getPosition(t),r=e[0].offsetWidth,i=e[0].offsetHeight;switch(t?s.split(" ")[1]:s){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":o={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width}}e.css(o)}},debughide:function(){var e=(new Date).toString();this.hide()}}),t.prototype.getDefaults=function(){return t.DEFAULTS},e.fn.clickover=function(n){return this.each(function(){var r=e(this),i=r.data("clickover"),s=typeof n=="object"&&n;i||r.data("clickover",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.clickover.Constructor=t}(window.jQuery),function(){window.GoldenData||(window.GoldenData={}),GoldenData.countDown=function(e,t,n){return n==null&&(n=l("%resend")),t>0?(e.addClass("disabled"),e.text(n+(" ("+t+")")),t--,setTimeout(function(){return GoldenData.countDown(e,t)},1e3)):(e.removeClass("disabled"),e.text(n))}}.call(this),function(){window.GoldenData||(window.GoldenData={}),GoldenData.initWeixinLogin=function(e){if(e.length>0&&typeof WxLogin!="undefined"&&WxLogin!==null&&e.data("redirect-uri"))return new WxLogin({id:"weixin_login",appid:e.data("appid"),scope:"snsapi_login,snsapi_userinfo",redirect_uri:e.data("redirect-uri"),state:e.data("state"),href:e.data("css-href")})}}.call(this),function(){$(function(){var e;return e=function(){return $("#weixin_login_section").children(".back").data("session-type",$(".login-panel").is(":visible")?"login":"signup"),$(".login-title, .login-panel, .signup-panel").addClass("gd-hide"),$("#weixin_login_section").removeClass("gd-hide")},$(document).on("page:load ready",function(){if($(".social-account.account-weixin").data("redirect-to"))return;GoldenData.initWeixinLogin($(".social-account.account-weixin"));if(url("#")==="weixin")return e()}),$(document).on("click",".social-account.account-weixin",function(){var t;return $(this).hasClass("disabled")?!1:(t=$(this).data("redirect-to"),t?window.location=t:$("#weixin_login_section").hasClass("gd-hide")?e():GoldenData.initWeixinLogin($(".social-account.account-weixin")))}),$(document).on("click","#weixin_login_section > .back",function(){return $(".login-title").removeClass("gd-hide"),$("#weixin_login_section").addClass("gd-hide"),$(this).data("session-type")==="login"?($(".login-panel").removeClass("gd-hide"),$(".signup-panel").addClass("gd-hide")):($(".login-panel").addClass("gd-hide"),$(".signup-panel").removeClass("gd-hide"))})})}.call(this),function(){window.GoldenData||(window.GoldenData={}),GoldenData.recalcFormHeight=function(){if(!($.browser.msie&&$.browser.version<7))return $(window).trigger("customLoad")},GoldenData.numberToHumanSize=function(e){var t,n,r;return e?(n=e/1024,n<1024?n.toFixed(0)+" KB":(r=n/1024,r<1024?r.toFixed(1)+" MB":(t=r/1024,t.toFixed(1)+" GB"))):null},GoldenData.updateSubmitBtn=function(){var e,t,n,r,i;return r=$(".submit-field input.submit, .entry-show .actions .btn[data-role='submit']"),i=(t=r.data("fileUploading"))!=null?t:0,i<0&&r.data("fileUploading",0),e=(n=i>0||r.data("no-goods-selected"))!=null?n:!1,r.attr("disabled",e)},GoldenData.refreshWeixinToken=function(e){return setTimeout(function(){return $.ajax({url:e,type:"patch"})},10)},GoldenData.getFormMessages=function(e){return setTimeout(function(){return $.ajax({url:e}).done(function(e){if($.trim(e))return $("#new_entry .form-message").html(e),$("#new_entry .form-message").slideDown(GoldenData.recalcFormHeight)})},10)},GoldenData.extractExistedQueryParams=function(){var e;return e={},!url("?order")||(e.order=url("?order")),!url("?per_page")||(e.per_page=url("?per_page")),!$("[data-allow-multi-filter]").data("allow-multi-filter")&&!0?e:(!url("?query")||(e.query=decodeURIComponent(url("?query"))),!url("?start")||(e.start=url("?start")),!url("?end")||(e.end=url("?end")),$.isEmptyObject(GoldenData.filterParams.data)||(e=$.extend(e,GoldenData.filterParams.data)),e)},GoldenData.isAndroidDevice=function(){return navigator.userAgent.indexOf("Android")>0},GoldenData.isIOS8Device=function(){return/iP(ad|hone|od)/.test(navigator.userAgent)&&/OS 8_\d(_\d)?/.test(navigator.userAgent)},GoldenData.renderQrcode=function(e,t,n){var r,i;return Modernizr.canvas?typeof (r=e.empty()).qrcode=="function"?r.qrcode({width:n,height:n,text:t}):void 0:typeof (i=e.empty()).qrcode=="function"?i.qrcode({render:"table",width:n,height:n,text:t}):void 0},$(function(){var e,t;return $(document).on("page:load ready",function(){var e;return typeof (e=$("input, textarea")).placeholder=="function"&&e.placeholder(),$("#login_modal").length>0&&$("#login_modal").modal("show"),$("#login_modal .invitation").on("click",function(){return $("#login_modal .alert").hide(),$(this).parents("section").addClass("gd-hide"),$("."+$(this).data("for")).removeClass("gd-hide")}),$("form#new_entry input").on("keypress",function(e){if(e.keyCode===13)return e.preventDefault()}),$("#form_error_messages_modal").modal("show"),autosize($(".field-content textarea:visible")),typeof GoldenData.initWeixinLogin=="function"&&GoldenData.initWeixinLogin($(".social-account.account-weixin")),t()}),t=function(){var e,t,n;e=$(".qrcode"),n=e.data("text");if(n)return t=e.data("size")||175,GoldenData.renderQrcode(e,n,t)},$(document).on("click",".captcha-container img",function(){return $(this).attr("src","/captcha?action=captcha&i="+(new Date).getTime())}),$(document).on("click",".submit-field .submit",function(e){var t;t=$(this).parents("form"),t.find("input:text").each(function(){return $(this).val($.trim($(this).val()))});if($(".submit-field .captcha-container").length>0)return e.preventDefault(),$.get("/captcha/verify?captcha="+encodeURIComponent($("#captcha").val()),function(e){return e==="false"?($("#captcha").addClass("error"),$(".captcha-container .error-message").show()):t.submit()})}),$(document).on("click",".user-info .logout-link",function(e){return e.preventDefault(),$.ajax({url:$(this).attr("href"),type:"delete",complete:function(e){if(e.status===200)return window.location.reload()}})}),$(document).on("click",".qrcode-box + .corner-qrcode img",function(e){return $(".qrcode-box").show("normal"),e.stopPropagation()}),e=function(e){if(!$(e).is(".qrcode-box + .corner-qrcode img"))return $(".qrcode-box").hide("normal")},$(document).on("click","body",function(t){return e(t.target)}),$(document).on("keyup",function(t){if(t.keyCode===27)return e(t.target)}),$(window).on("scroll resize",function(){var e;if(GoldenData.isMobile)return e=$(document).scrollTop().valueOf()>20,$(".goods-warning").css({position:e?"fixed":"initial"})})})}.call(this),_.templateSettings={evaluate:/\[\[(.+?)\]\]/g,interpolate:/\{\{(.+?)\}\}/g},String.toLocaleString({en:{"%rechoose":"rechoose","%delete":"delete","%warn_system_file":"system file is not allowed","%warn_exec_file":"EXE/BAT format file is not allowed","%file_name_too_long":"file name is too long","%warn_oversize":"file size is over {{maxSize}}","%warn_wrong_mobile_number":"please enter correct mobile number of mainland China","%total":"total","%download":"download","%sold_out":"sold out","%common_separator":", ","%send_sms_verification":"Send Code","%resend":"resend SMS","%sendingSMS":"sending SMS","%warn_geo_cannot_get_location":"Can't get your location!","%warn_geo_permission_denied":"You denied the request for Geolocation.","%warn_geo_position_unavailable":"Location information is unavailable.","%warn_geo_timeout":"The request to get your location timed out.","%warn_geo_unknown_error":"An unknown error occurred.","%geo_coord":"Longitude:{{long}},Latitude:{{lat}}","%geo_address":"{{address}}","%geo_choose":"Choose location","%geo_locate":"Get current location","%geo_locating":"Locating...","%geo_no_address":"No address information. ","%select_prompt":"Please select","%no_geo_data":"There is no data for this field currently.","%bracket":" ({{content}})","%upload_failed":"failed {{status}}, please contact system admin","%upload_failed_400":"failed, changed to standard mode, please try again","%upload_failed_401":"failed, please refresh page and try again","%uploading":"Uploading...","%upload_done":"Uploading finished!","%max_file_quantity":"File quantity is over {{maxFileQuantity}}","%page_number":"Page {{currentPage}}/{{totalPage}}"},"zh-CN":{"%rechoose":"请重新选择","%delete":"刪除","%warn_system_file":"禁止上传系统文件","%warn_exec_file":"禁止上传EXE、BAT格式的文件","%file_name_too_long":"文件名过长","%warn_oversize":"文件超过了{{maxSize}}","%warn_wrong_mobile_number":"请输入正确的中国大陆手机号码","%total":"合计","%download":"下载","%sold_out":"已售空","%common_separator":"、","%send_sms_verification":"发送验证短信","%resend":"重新发送","%sendingSMS":"正在发送短信","%warn_geo_cannot_get_location":"无法定位您的位置！","%warn_geo_permission_denied":"无法定位您的位置！请打开浏览器的位置共享权限","%warn_geo_position_unavailable":"无法定位您的位置！位置信息不可用","%warn_geo_timeout":"无法定位您的位置！获取经纬度超时","%warn_geo_unknown_error":"无法定位您的位置！未知错误","%geo_coord":"经度:{{long}}，纬度:{{lat}}","%geo_address":"{{address}}","%geo_choose":"获取地理位置","%geo_locate":"获取当前位置","%geo_locating":"获取位置中...","%geo_no_address":"无法获取地址。","%select_prompt":"请选择","%no_geo_data":"该地理位置字段暂无数据。","%bracket":"({{content}})","%upload_failed":"上传失败{{status}}，请联系管理员","%upload_failed_400":"该浏览器不支持极速上传模式，现已调整为传统模式。请选择文件重新上传。","%upload_failed_401":"上传失败，请刷新页面，并在1小时内重新上传","%uploading":"上传中...","%upload_done":"上传成功！","%max_file_quantity":"最多只能上传{{maxFileQuantity}}个文件","%page_number":"第{{currentPage}}页/共{{totalPage}}页"},"zh-TW":{"%rechoose":"請重新選擇","%delete":"刪除","%warn_system_file":"禁止上傳系統檔案","%warn_exec_file":"禁止上傳EXE、BAT格式的檔案","%file_name_too_long":"檔案名過長","%warn_oversize":"檔案超過了{{maxSize}}","%warn_wrong_mobile_number":"請輸入正確的中國大陸手機號碼","%total":"合計","%download":"下載","%sold_out":"已售罄","%common_separator":"、","%send_sms_verification":"發送驗證簡訊","%resend":"重新發送","%sendingSMS":"正在發送簡訊","%warn_geo_cannot_get_location":"無法定位您的位置！","%warn_geo_permission_denied":"無法定位您的位置！請打開瀏覽器的位置共用許可權","%warn_geo_position_unavailable":"無法定位您的位置！位置資訊不可用","%warn_geo_timeout":"無法定位您的位置！獲取經緯度超時","%warn_geo_unknown_error":"無法定位您的位置！未知錯誤","%geo_coord":"經度:{{long}}，緯度:{{lat}}","%geo_address":"{{address}}","%geo_choose":"獲取地理位置","%geo_locate":"獲取當前位置","%geo_locating":"獲取位置中...","%geo_no_address":"無法獲取地址。","%select_prompt":"請選擇","%no_geo_data":"該地理位置字段暫無數據。","%bracket":"（{{content}}）","%upload_failed":"上傳失敗{{status}}，請聯繫管理員","%upload_failed_400":"該瀏覽器不支援極速上傳模式，現已調整為傳統模式。請選擇檔案重新上傳。","%upload_failed_401":"上傳失敗，請刷新頁面，並在1小時內重新上傳","%uploading":"上傳中...","%upload_done":"上傳成功！","%max_file_quantity":"最多只能上傳{{maxFileQuantity}}個檔案","%page_number":"第{{currentPage}}頁/共{{totalPage}}頁"}});var l=function(e,t){return t==null&&(t={}),_.template(e.toLocaleString(),t)};String.locale="zh-CN",function(){$(function(){return GoldenData.DatePicker=function(){function e(e){$(e).find(".day_of_week").click(function(){return $(this).prev(".input_date").focus().select()}),$(e).find(".input_date").datepicker({language:String.locale||"zh-CN",format:"yyyy-mm-dd",autoclose:!0,orientation:"auto left"})}return e}(),GoldenData.initDatePicker=function(e){var t,n,r,i,s;i=$(e).find("[data-role=date]"),s=[];for(n=0,r=i.length;n<r;n++)t=i[n],$(t).attr("type")==="text"||!Modernizr.inputtypes.date?s.push(new GoldenData.DatePicker($(t).parents(".controls"))):s.push($(t).next(".day_of_week").remove());return s},$(document).on("ready page:load ajax:complete",function(){if(!($(".dashboard").length>0))return GoldenData.initDatePicker(document)})})}.call(this),function(){window.GoldenData||(window.GoldenData={}),$(function(){return GoldenData.AddressSelector=function(){function e(e){var t;this.data=e,this.provinces=function(){var e;e=[];for(t in this.data)e.push(t);return e}.call(this)}return e.prototype.render=function(e,t,n,r,i,s){var o,u,a,f,l;r==null&&(r=""),i==null&&(i=""),s==null&&(s=""),e.html("<option value=''>- 省/自治区/直辖市 -</option>"),l=this.provinces;for(o=0,u=l.length;o<u;o++)f=l[o],a=$("<option value='"+f+"'>"+f+"</option>"),f===r&&a.prop("selected",!0),e.append(a);return this.renderCityOptions(r,t,i),this.renderDistrictOptions(r,i,n,s),e.on("change",function(r){return function(){return r.renderCityOptions(e.val(),t),r.renderDistrictOptions(e.val(),"",n)}}(this)),t.on("change",function(r){return function(){return r.renderDistrictOptions(e.val(),t.val(),n)}}(this))},e.prototype.renderCityOptions=function(e,t,n){var r,i,s,o,u,a;n==null&&(n=""),t.html("<option value=''>- 市 -</option>");if(this.data.hasOwnProperty(e)){u=_.keys(this.data[e]),a=[];for(i=0,s=u.length;i<s;i++)r=u[i],o=$("<option value='"+r+"'>"+r+"</option>"),r===n&&o.prop("selected",!0),a.push(t.append(o));return a}},e.prototype.renderDistrictOptions=function(e,t,n,r){var i,s,o,u,a,f,l;r==null&&(r=""),n.html("<option value=''>- 区/县 -</option>");if((a=this.data[e])!=null?a[t]:void 0){f=this.data[e][t],l=[];for(s=0,o=f.length;s<o;s++)i=f[s],u=$("<option value='"+i+"'>"+i+"</option>"),i===r&&u.prop("selected",!0),l.push(n.append(u));return l}},e}(),GoldenData.initAddressSelector=function(e){var t,n,r,i,s,o,u,a;if(GoldenData.addressSelector){u=$(e).find("[data-role=address]"),a=[];for(i=0,s=u.length;i<s;i++)t=u[i],o=$(t).find("[data-role=province]"),n=$(t).find("[data-role=city]"),r=$(t).find("[data-role=district]"),a.push(GoldenData.addressSelector.render(o,n,r,o.data("value"),n.data("value"),r.data("value")));return a}},$(document).on("ready page:load ajax:complete",function(){if(!($(".dashboard").length>0))return GoldenData.initAddressSelector(document)})})}.call(this),function(){$(function(){var e,t,n,r,i;return i=!0,r=function(e,t,n,r){$(e).find(".rating-group i").removeClass("hover");if(r!=="")return $(e).find(".rating-group[data-field-id="+t+"] i:lt("+r+")").addClass("highlight"),$(e).find(".rating-group[data-field-id="+t+"] i:gt("+(r-1)+")").removeClass("highlight")},e=function(e){return $(e).off("click touchend",".rating-group i"),$(e).on("click touchend",".rating-group i",function(t){var n,s,o;return t.stopPropagation(),i=!1,n=$(this).parents(".rating-group").data("field-id"),s=$(this).parents(".rating-group").data("rating-type"),o=$(this).data("value"),$(e).find("#entry_"+n).val($(this).data("value")),r(e,n,s,o)})},t=function(e){return $(e).off("mouseenter touchstart",".rating-group i"),$(e).on("mouseenter touchstart",".rating-group i",function(t){var n,r,s;t.stopPropagation(),GoldenData.isMobile&&(i=!0);if(i&&!$.browser.msie)return n=$(this).parents(".rating-group").data("field-id"),r=$(this).parents(".rating-group").data("rating-type"),s=$(this).data("value"),$(e).find(".rating-group[data-field-id="+n+"] i:lt("+s+")").removeClass("highlight").addClass("hover"),$(e).find(".rating-group[data-field-id="+n+"] i:gt("+(s-1)+")").removeClass("highlight hover")})},n=function(e){return $(e).off("mouseleave touchend",".rating-group"),$(e).on("mouseleave touchend",".rating-group",function(t){var n;return t.stopPropagation(),n=$(e).find("#entry_"+$(this).data("field-id")).val(),r(e,$(this).data("field-id"),$(this).data("rating-type"),n),i=!0})},GoldenData.initRating=function(r){return r==null&&(r=document),t(r),e(r),n(r)},$(document).on("ready page:load",function(){if(!($(".dashboard").length>0))return GoldenData.initRating(document)})})}.call(this),function(){$(function(){var e;return e=function(e,t){var n;return n=$(e).parents(".controls").find("input.other-choice"),$(e).find(".other-choice-item").is(":selected")?(n.show(),n.removeClass("gd-hide"),t&&n.focus(),n.parents(".ui-input-text").show()):(n.hide(),n.addClass("gd-hide"),n.parents(".ui-input-text").hide())},GoldenData.initialDropdownOtherChoice=function(t,n){return $(t).find(".controls select.with-other-choice").each(function(){return e(this,n)})},$(document).on("ready page:load",function(){var t;return t=function(e){return function(e,t){return $(t).parents(".other-choice-area").find("input."+e)}}(this),$(document).on("click",".other-choice-input",function(){var e;e=t("other_choice",this);if(!e.is(":checked")){e.click();if(e.checkboxradio!=null)return $("input[type=radio], input[type=checkbox]").checkboxradio("refresh")}}),$(document).on("click","input.other_choice",function(){$(this).checkboxradio!=null&&$(this).checkboxradio("refresh");if($(this).is(":checked"))return t("other-choice-input",this).focus()}),GoldenData.initialDropdownOtherChoice(document,!1),$(document).on("change","form .field .controls select.with-other-choice",function(){return e($(this),!0)}),$(".entry form, #new_entry").on("submit",function(){return $(this).find("input.other_choice").each(function(){if(!$(this).is(":checked"))return t("other-choice-input",this).val("")}),$(this).find("option.other-choice-item").each(function(){if(!$(this).is(":selected"))return $(this).parents(".controls").find("input.other-choice").val("")})})})})}.call(this),function(){$(function(){return $(".image-attachment-preview").livequery(function(){return $(this).one("load",function(){return $(this).prev(".preview-loading").hide(),$(this).css("visibility","visible"),$(this).next("a").show()}).each(function(){if(this.complete)return $(this).load()})})})}.call(this),function(){window.GoldenData||(window.GoldenData={}),GoldenData.validateAttachment=function(e,t){if(e.name.substr(0,1)===".")return l("%warn_system_file");if(e.name.length>200)return l("%file_name_too_long");if(/.*\.(exe|bat)$/gi.test(e.name))return l("%warn_exec_file");if(e.size&&e.size>t)return l("%warn_oversize",{maxSize:GoldenData.numberToHumanSize(t)})},$(function(){var e,t,n,r,i,s,o,u,a,f,c,h,p,d,v,m,g,y,b,w,E,S;return S=$.support.xhrFormDataFileUpload,f=function(e,t,n){var r,i,s;return t==null&&(t=""),n==null&&(n=null),(i=e.find("[data-role=cancel]").data("jqXHR"))!=null&&i.abort(),s=e.find(".status"),r=s.find(".file-name"),r.removeClass("error"),r.text(t),s.find(".error").remove(),s.find(".file-name + .error").remove(),s.find(".file-size-status").show(),S?(e.find(".progress-bar").css({width:"0%"}).show(),s.find(".file-size").text(n)):(
s.find(".text-status, .progress").remove(),s.find(".progress-container").prepend("<div class='text-status'>"+l("%uploading")+"</div>")),s.show(),e.find(".select-area .preview").empty(),e.find("input[data-role=attachment_id]").val("")},u=function(e){var t;return t=$(e.target).parents(".attachment"),t.siblings().size()>0?t.remove():(t.find("[data-role=attachment_id]").val(""),t.hide())},h=function(e,t){return e.find("input[data-role=attachment_id]").val(""),S?e.find(".status .progress .progress-bar").addClass("initial").text("0%").css("width","auto"):e.find(".status .text-status").remove(),e.find(".status .file-size-status").hide(),e.find(".status .file-name").addClass("error").after("<span class='error'>"+l("%bracket",{content:t})+"</span>")},m=function(e){var t,n,r;return r=$(".uploaded[data-field='"+e+"']").size(),n=$(".attachment[data-field='"+e+"']:visible").size(),t=$(".submit-field input.submit, .entry-show .actions .btn[data-role='submit']"),t.data("fileUploading",n-r),GoldenData.updateSubmitBtn()},n=function(e,t){var n,r,i,s,o;return t==null&&(t=""),r=e.data("field"),$(".attachment-select-trigger[data-field='"+r+"']").hide(),o=$('<input class="origin-file-input" type="file">'),s=e.find('[data-role="attachment_id"]'),i=e.find('input[type="file"]').attr("data-max-size"),o.attr("id",s.attr("id")),o.attr("name","entry["+r+"]"),o.attr("data-max-size",i),t&&(n=GoldenData.isMobile?"<i class='mobile-icon-cancel-circled'></i>":"<i class='fa fa-times-circle'></i>",o.after($("<div class='validation-message'><div class='help-block inline-error'>"+n+" "+t+"</div></div>"))),e.show().html(o),e.closest("form").attr("enctype","multipart/form-data")},y=function(e,t,n){var r;t.find("input[data-role=attachment_id]").val(n.attachment_id);if(n.image_url!=null)return r="<a href='"+n.image_url_for_lightbox+"' rel='lightbox["+e.field+"]'>"+("<img src='"+n.image_url+"'></a>"),t.find(".preview-area .preview").html(r)},b=function(e,t){var n;return n=_.isArray(t)?t.join(l("%common_separator")):t,h(e,n)},g=function(e,t,n){var r;return r=e.context,n?$.ajax({type:"POST",url:"/p/a/en",data:t,dataType:"json"}).done(function(n){return setTimeout(function(){return r.find(".progress-bar").css("width","100%").fadeOut(),m(e.field)},200),y(t,r,n)}).fail(function(e){var t;return t=$.parseJSON(e.responseText),b(r,t.errors)}):t.errors?b(r,t.errors):(r.find(".status .progress-container .text-status").text(l("%upload_done")),y(t,r,t))},t=function(e){var t,n;return t=$(".attachment-error-message[data-field="+e.field+"]"),n=$(".attachment[data-field="+e.field+"]:visible").hasClass("rechoosing"),!n&&e.availableFileQuantity<=0?(t.html(l("%max_file_quantity",{maxFileQuantity:e.maxFileQuantity})),!1):(t.html(""),!0)},o=function(e){var t,n;return n=e.data("field"),t=$(".attachment[data-field="+n+"]:visible").size(),t>=e.data("max-file-quantity")},v=function(e){return o(e)?e.hide():e.show()},s=function(e){return e.parent().sortable({cursor:"move",items:".attachment",forcePlaceholderSize:!0,placeholder:"sortable-placeholder"})},c=function(e,t){var n,r,i,s;return n=t.name.split("."),r=n[n.length-1].toLowerCase(),i=(s=GoldenData.attachmentIconPath[r])!=null?s:GoldenData.attachmentIconPath["default"],e.find(".preview-area .preview").html("<img src='"+i+"'>")},r=function(e){return setTimeout(function(){return $(".attachment-error-message[data-field="+e.field+"]").html("")},3e3)},p=function(e,t){var n,r,i;return i=$(".attachment.rechoosing[data-field="+t+"]"),n=$(".attachment[data-field="+t+"]").first(),$(".attachment[data-field="+t+"]:hidden").size()===1?e.context=n.show():i.size()>0?(e.context=i,i.removeClass("rechoosing")):(r=n.clone().show(),$(".attachments[data-field="+t+"]").append(r),e.context=r),e.context.removeClass("uploaded")},a=function(e){var t;return t=$("input[type='file'][data-field='"+e+"']"),t.prop("multiple",t.data("origin-multiple"))},i=function(e,t){var n;return n=e.data("field"),$(document).on("click","a[data-role=cancel]",function(t){var r;return $(this).parents(".attachment").find(".progress-bar").css("width","0%"),u(t),v(e),(r=$(this).data("jqXHR"))!=null&&r.abort(),m(n)}),$(document).on("click",".btn-link[data-role=rechoose]",function(e){var t;return t=$(e.target).parents(".attachment"),$("input[type='file'][data-field='"+n+"']").prop("multiple",!1),t.addClass("rechoosing")}),e.find("label").on("dragleave",function(){return $(this).removeClass("drag-over")}),t.closest(".field[data-api-code]").on("shown.logic",function(){return w($(this))})},d=function(e,t){var n;n=Date.parse(new Date)+"_"+_.random(0,1e3)+"_"+t,e.formData={accept:"text/plain; charset=utf-8",token:GoldenData.xhrUploadToken,"x:field_api_code":e.context.closest(".field[data-api-code]").data("api-code"),"x:timestamp_with_random_number":n};if(!S)return e.formData.token=GoldenData.iframeUploadToken},e=function(e,t){var n;return n=t.data("field"),e.field=n,e.maxFileQuantity=t.data("max-file-quantity"),e.availableFileQuantity=e.maxFileQuantity-$(".attachment[data-field="+n+"]:visible").size()},E=function(s){var o,u,y;y=0,u=s.data("field"),o=$(".attachment[data-field="+u+"]").first(),i(s,o);if(typeof $("input:file").fileupload!="function")return;return $(".jquery-file-upload-file-input[data-field='"+u+"']").fileupload({dataType:"json",dropZone:s.find("label"),paramName:"file",sequentialUploads:!0,url:"https://up.qbox.me/",dragover:function(){return s.find("label").addClass("drag-over")},drop:function(){return s.find("label").removeClass("drag-over")},add:function(n,r){var i,o;e(r,s);if(!t(r))return!1;o=r.files[0],p(r,u),c(r.context,o),f(r.context,o.name,GoldenData.numberToHumanSize(o.size)),i=GoldenData.validateAttachment(o,$(this).data("max-size"));if(i)return h(r.context,i);if(!r.context.hasClass("preview"))return d(r,y),r.context.find("[data-role=cancel]").data("jqXHR",r.submit()),v(s),y+=1,m(u)},progress:function(e,t){var n,r;return n=parseInt(t.loaded/t.total*100,10),r=Math.min(n,99)+"%",t.context.find(".progress-bar").css("width",r)},fail:function(e,t){var r,i;return(i=t.jqXHR.status)===401?(r=l("%upload_failed_"+t.jqXHR.status),h(t.context,r)):t.jqXHR.status===400?(r=l("%upload_failed_400"),n(t.context,r)):(r=l("%upload_failed",{status:t.jqXHR.status}),t.jqXHR.status!==0&&$.post("/p/a/failure",{url:url(),status:t.jqXHR.status,message:t.jqXHR.responseText,file_name:t.files[0].name,authenticity_token:t.context.closest("form").find("[name=authenticity_token]").val(),user_agent:navigator.userAgent,comment:"window.FormData = "+!!window.FormData+", isMobile = "+!!GoldenData.isMobile}),h(t.context,r))},done:function(e,t){var n;return r(t),a(u),t.context.addClass("uploaded"),n=t.result,n?g(t,n,S):h(t.context,l("%upload_failed_401"))}})},w=function(e){var t,n;if(e.find("[data-role=attachment]").length>0)return GoldenData.isMobile?(t=$(window).width()-30,n=t-85):n=e.find("[data-role=attachment]").outerWidth()-150,e.find("[data-role=attachment] .status").width(n)},GoldenData.initializeFileUploads=function(e){return w($(e)),$.each($(e).find(".attachment-select-trigger"),function(e,t){return E($(t))})},$(document).on("ready page:load ajax:complete",function(){var e,t;return window.FormData||$(".attachment-field input.jquery-file-upload-file-input").each(function(){var e,t;return t=$(this).data("field"),e=$("[data-role=attachment][data-field='"+t+"']"),n($(e))}),$("input.origin-file-input").length>0&&($("#new_entry").attr("enctype","multipart/form-data"),e=$("input.origin-file-input").parent(".attachment"),t=e.data("field"),$(".attachment-select-trigger[data-field='"+t+"']").hide(),e.show()),GoldenData.initializeFileUploads(document)}),$(window).on("resize",function(){return w($(document))}),$(document).on("mouseenter",".attachment",function(){return $(this).find(".web-actions").show()}),$(document).on("mouseleave",".attachment",function(){return $(this).find(".web-actions").hide()})})}.call(this),function(){var e,t,n;e=jQuery,GoldenData.LightboxOptions=function(){function e(){this.fadeDuration=500,this.fitImagesInViewport=!0,this.resizeDuration=700,this.showImageNumberLabel=!0,this.wrapAround=!1}return e.prototype.albumLabel=function(e,t){return"Image "+e+" of "+t},e}(),GoldenData.Lightbox=function(){function t(e){this.options=e,this.album=[],this.currentImageIndex=void 0,this.init()}return t.prototype.init=function(){return this.enable(),this.build()},t.prototype.enable=function(){var t=this;return e("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(n){return t.start(e(n.currentTarget)),!1})},t.prototype.build=function(){var t=this;return e("<div id='lightboxOverlay' class='lightboxOverlay'></div><div id='lightbox' class='lightbox'><div class='lb-outerContainer'><div class='lb-container'><img class='lb-image' src='' /><div class='lb-nav'><a class='lb-prev' href='' ></a><a class='lb-next' href='' ></a></div><div class='lb-loader'><a class='lb-cancel'></a></div></div></div><div class='lb-dataContainer'><div class='lb-data'><div class='lb-details'><span class='lb-caption'></span><span class='lb-number'></span></div><div class='lb-closeContainer'><a class='lb-close'></a></div></div></div></div>").appendTo(e("body")),this.$lightbox=e("#lightbox"),this.$overlay=e("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.containerTopPadding=parseInt(this.$container.css("padding-top"),10),this.containerRightPadding=parseInt(this.$container.css("padding-right"),10),this.containerBottomPadding=parseInt(this.$container.css("padding-bottom"),10),this.containerLeftPadding=parseInt(this.$container.css("padding-left"),10),this.$overlay.hide().on("click",function(){return t.end(),!1}),this.$lightbox.hide().on("click",function(n){return e(n.target).attr("id")==="lightbox"&&t.end(),!1}),this.$outerContainer.on("click",function(n){return e(n.target).attr("id")==="lightbox"&&t.end(),!1}),this.$lightbox.find(".lb-prev").on("click",function(){return t.currentImageIndex===0?t.changeImage(t.album.length-1):t.changeImage(t.currentImageIndex-1),!1}),this.$lightbox.find(".lb-next").on("click",function(){return t.currentImageIndex===t.album.length-1?t.changeImage(0):t.changeImage(t.currentImageIndex+1),!1}),this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){return t.end(),!1})},t.prototype.start=function(t){var n,r,i,s,o,u,a,f,l,c,h,p,d;e(window).on("resize",this.sizeOverlay),e("select, object, embed").css({visibility:"hidden"}),this.$overlay.width(e(document).width()).height(e(document).height()).fadeIn(this.options.fadeDuration),this.album=[],o=0,i=t.attr("data-lightbox");if(i){p=e(t.prop("tagName")+'[data-lightbox="'+i+'"]');for(s=f=0,c=p.length;f<c;s=++f)r=p[s],this.album.push({link:e(r).attr("href"),title:e(r).attr("title")}),e(r).attr("href")===t.attr("href")&&(o=s)}else if(t.attr("rel")==="lightbox")this.album.push({link:t.attr("href"),title:t.attr("title")});else{d=e(t.prop("tagName")+'[rel="'+t.attr("rel")+'"]');for(s=l=0,h=d.length;l<h;s=++l)r=d[s],this.album.push({link:e(r).attr("href"),title:e(r).attr("title")}),e(r).attr("href")===t.attr("href")&&(o=s)}n=e(window),a=n.scrollTop()+n.height()/10,u=n.scrollLeft(),this.$lightbox.css({top:a+"px",left:u+"px"}).fadeIn(this.options.fadeDuration),this.changeImage(o)},t.prototype.changeImage=function(t){var n,r,i=this;this.disableKeyboardNav(),n=this.$lightbox.find(".lb-image"),this.sizeOverlay(),this.$overlay.fadeIn(this.options.fadeDuration),e(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating"),r=new Image,r.onload=function(){var s,o,u,a,f,l,c;n.attr("src",i.album[t].link),s=e(r),n.width(r.width),n.height(r.height);if(i.options.fitImagesInViewport){c=e(window).width(),l=e(window).height(),f=c-i.containerLeftPadding-i.containerRightPadding-20,a=l-i.containerTopPadding-i.containerBottomPadding-110;if(r.width>f||r.height>a)r.width/f>r.height/a?(u=f,o=parseInt(r.height/(r.width/u),10),n.width(u),n.height(o)):(o=a,u=parseInt(r.width/(r.height/o),10),n.width(u),n.height(o))}return i.sizeContainer(n.width(),n.height())},r.src=this.album[t].link,this.currentImageIndex=t},t.prototype.sizeOverlay=function(){return e("#lightboxOverlay").width(e(document).width()).height(e(document).height())},t.prototype.sizeContainer=function(e,t){var n,r,i,s,o=this;s=this.$outerContainer.outerWidth(),i=this.$outerContainer.outerHeight(),r=e+this.containerLeftPadding+this.containerRightPadding,n=t+this.containerTopPadding+this.containerBottomPadding,this.$outerContainer.animate({width:r,height:n},this.options.resizeDuration,"swing"),setTimeout(function(){o.$lightbox.find(".lb-dataContainer").width(r),o.$lightbox.find(".lb-prevLink").height(n),o.$lightbox.find(".lb-nextLink").height(n),o.showImage()},this.options.resizeDuration)},t.prototype.showImage=function(){this.$lightbox.find(".lb-loader").hide(),this.$lightbox.find(".lb-image").fadeIn("slow"),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},t.prototype.updateNav=function(){this.$lightbox.find(".lb-nav").show(),this.album.length>1&&(this.options.wrapAround?this.$lightbox.find(".lb-prev, .lb-next").show():(this.currentImageIndex>0&&this.$lightbox.find(".lb-prev").show(),this.currentImageIndex<this.album.length-1&&this.$lightbox.find(".lb-next").show()))},t.prototype.updateDetails=function(){var e=this;typeof this.album[this.currentImageIndex].title!="undefined"&&this.album[this.currentImageIndex].title!==""&&this.$lightbox.find(".lb-caption").html(this.album[this.currentImageIndex].title).fadeIn("fast"),this.album.length>1&&this.options.showImageNumberLabel?this.$lightbox.find(".lb-number").text(this.options.albumLabel(this.currentImageIndex+1,this.album.length)).fadeIn("fast"):this.$lightbox.find(".lb-number").hide(),this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.resizeDuration,function(){return e.sizeOverlay()})},t.prototype.preloadNeighboringImages=function(){var e,t;this.album.length>this.currentImageIndex+1&&(e=new Image,e.src=this.album[this.currentImageIndex+1].link),this.currentImageIndex>0&&(t=new Image,t.src=this.album[this.currentImageIndex-1].link)},t.prototype.enableKeyboardNav=function(){e(document).on("keyup.keyboard",e.proxy(this.keyboardAction,this))},t.prototype.disableKeyboardNav=function(){e(document).off(".keyboard")},t.prototype.keyboardAction=function(e){var t,n,r,i,s;t=27,n=37,r=39,s=e.keyCode,i=String.fromCharCode(s).toLowerCase(),s===t||i.match(/x|o|c/)?this.end():i==="p"||s===n?this.currentImageIndex!==0&&this.changeImage(this.currentImageIndex-1):(i==="n"||s===r)&&this.currentImageIndex!==this.album.length-1&&this.changeImage(this.currentImageIndex+1)},t.prototype.end=function(){return this.disableKeyboardNav(),e(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),e("select, object, embed").css({visibility:"visible"})},t}()}.call(this),function(){$(function(){return $(document).on("page:load ready",function(){var e;return e={fadeDuration:200,resizeDuration:100},e=_.extend({},new GoldenData.LightboxOptions,e),GoldenData.lightbox=new GoldenData.Lightbox(e)}),$(document).on("change",".choices.image-choices input",function(){return $(this).closest(".image-choices").children(".radio.active").removeClass("active"),$(this).closest(".radio, .checkbox").toggleClass("active")})})}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};window.GoldenData||(window.GoldenData={}),$(function(){var t,n,r;return r=function(e){var t,n,r,i,s;n=$("[name='entry["+e+"]']:visible").filter(":radio:checked, :not(:radio)").add("[name='entry["+e+"][]']:visible:checked"),s=[];for(r=0,i=n.length;r<i;r++)t=n[r],s.push($(t).val());return s},n=function(){function e(e,t){this.apiCode=t,this.targets=[],this.element=$(e).find("[name='entry["+this.apiCode+"]']"),this.elementContainer=$(e).find(".field[data-api-code='"+this.apiCode+"']"),this.elementContainer.addClass("logic-trigger")}return e.prototype._informTargets=function(e){var t,n,r,i,s;r=this.targets,i=[];for(t=0,n=r.length;t<n;t++)s=r[t],i.push(s.set(this.apiCode,e));return i},e.prototype.run=function(){return this.element.on("change",function(e){return function(t){e._informTargets(r(e.apiCode));if(!$(t.target).hasClass("with-other-choice"))return t.stopPropagation()}}(this)),this.elementContainer.on("change.formLogic",function(e){return function(){return e._informTargets(r(e.apiCode))}}(this))},e}(),t=function(){function t(e,t,n){var i;this.apiCode=t,this.triggerConditions=n,this.element=$(e).find("[name^='entry["+this.apiCode+"]']"),this.elementContainer=$(e).find(".field[data-api-code='"+this.apiCode+"']");for(i in this.triggerConditions)this.set(i,r(i))}return t.prototype._onElementContainerShowHide=function(){return this.elementContainer.trigger("change.formLogic"),GoldenData.recalcFormHeight(),$(window).trigger("formContentShowHide")},t.prototype.set=function(t,n){var r,i,s,o;o=(i=this.elementContainer.data("triggered-by"))!=null?i:[],n&&_.intersection(n,this.triggerConditions[t]).length>0?e.call(o,t)<0&&o.push(t):o=_.without(o,t),this.elementContainer.data("triggered-by",o),r=!this.elementContainer.hasClass("logic-hidden"),s=o.length>0,s&&!r&&(this.elementContainer.show(),this.elementContainer.removeClass("logic-hidden"),this.elementContainer.trigger("shown.logic"),autosize(this.elementContainer.find("textarea")),this.element.attr("disabled",!1),this._onElementContainerShowHide());if(!s&&r)return this.elementContainer.hide(),this.elementContainer.addClass("logic-hidden"),this.elementContainer.trigger("hidden.logic"),this.element.attr("disabled",!0),this._onElementContainerShowHide()},t}(),GoldenData.FormLogic=function(){function e(e,r){var i,s,o,u,a;r==null&&(r=document),this.triggers={},this.targets={};for(o in e){a=e[o],(i=this.targets)[o]||(i[o]=new t(r,o,a));for(u in a)(s=this.triggers)[u]||(s[u]=new n(r,u)),this.triggers[u].targets.push(this.targets[o])}}return e.prototype.run=function(){var e,t,n,r;n=this.triggers,r=[];for(e in n)t=n[e],r.push(t.run());return r},e}(),GoldenData.initFormLogic=function(e,t){return t==null&&(t=document),(new GoldenData.FormLogic(e,t)).run()}})}.call(this),function(){$(function(){var e,t,n;return e=function(){function e(e){var t,n,r,i,s;s=e.sku,this.fieldApiCode=e.fieldApiCode,this.goodsValue=e.goodsValue,s==null&&(s={}),this.specification=(n=s.specification)!=null?n:{},this.price=parseFloat((r=s.price)!=null?r:e.price),t=(i=s.inventory)!=null?i:e.inventory,this.inventory=t!=null?parseInt(t):null}return e.prototype.priceDisplay=function(){return"&yen;"+this.price.toFixed(2)},e.prototype.inventoryDisplay=function(e,t){return this.inventory==null?"":this.inventory>0?e+" "+this.inventory+" "+t:l("%sold_out")},e}(),t=function(){function t(e,t){this.$el=e,this.shoppingCart=t,this.initialPriceDisplay=this.$el.find(".price").html(),this.initialInventoryDisplay=this.$el.find(".inventory").html(),this._initializeCurrentSpecification(),this._initializeGoodsSKUs(),this._bindOnDimensionChangeEvent(),this._bindOnIncreaseDecreaseClickEvent(),this._bindOnNumberChangeEvent(),this._bindShowHideEvent(),(this.$el.is(":visible")||this._mobileGoodsVisible())&&this._updateCurrentGoodsSKU()}return t.prototype._addGoodsSKU=function(t,n,r,i,s){var o;return r==null&&(r=null),i==null&&(i=null),s==null&&(s=null),o=new e({fieldApiCode:t,goodsValue:n,sku:r,price:i,inventory:s}),this.goodsSKUs.push(o)},t.prototype._initializeGoodsSKUs=function(){var e,t,n,r,i,s,o,u,a;this.goodsSKUs=[],s=this.$el.find("input.number"),e=s.data("field-api-code"),t=s.data("goods-value"),a=this.$el.find(".dimensions").data("skus");if(!_.isEmpty(a))for(n=0,i=a.length;n<i;n++)u=a[n],this._addGoodsSKU(e,t,u);if(this.goodsSKUs.length===0)return o=s.data("goods-price"),r=s.data("inventory"),this._addGoodsSKU(e,t,null,o,r),this._updateNumberInput(),this._updateDecreaseIncreaseBtn(0)},t.prototype._matchedGoodsSKU=function(){return _.find(this.goodsSKUs,function(e){return function(t){return _.isEqual(t.specification,e.currentSpecification)}}(this))},t.prototype._updateNumberInput=function(){var e,t;return t=this.$el.find("input.number"),e=this._matchedGoodsSKU(),t.prop("disabled",e==null||e.inventory!=null&&e.inventory===0)},t.prototype._updateDecreaseIncreaseBtn=function(e){var t,n,r;r=this._matchedGoodsSKU(),n=$(this.$el.find(".increase")),t=$(this.$el.find(".decrease")),n.toggleClass("disabled",r==null||r.inventory!=null&&r.inventory<=e),t.toggleClass("disabled",e<=0);if($.browser.msie&&parseInt($.browser.version,10)<=9)return n.html(n.html()),t.html(t.html())},t.prototype._updatePriceAndInventoryDisplay=function(){var e;return e=this._matchedGoodsSKU(),e!=null?(this.$el.find(".price").html(e.priceDisplay()),this.$el.find(".inventory").html(e.inventoryDisplay(this.$el.data("inventory-label"),this.$el.data("unit")))):(this.$el.find(".price").html(this.initialPriceDisplay),this.$el.find(".inventory").html(this.initialInventoryDisplay))},t.prototype._bindOnDimensionChangeEvent=function(){var e;return e=this,this.$el.find(".dimension-options input:radio").change(function(){var t,n,r;return n=e.$el.find("input.number"),n.val(0).change(),t=$(this).closest(".dimension-options"),t.find("label.selected").removeClass("selected"),r=t.find("input:radio:checked"),r.next("label").addClass("selected"),e.currentSpecification[r.data("dimension")]=r.val(),e._updatePriceAndInventoryDisplay(),e._updateNumberInput(),e._updateDecreaseIncreaseBtn(0)}),this.$el.find(".dimension-options label").click(function(){var t;return t=$(this).attr("for"),e.$el.find("#"+t).prop("checked",!0).trigger("change")})},t.prototype._bindOnIncreaseDecreaseClickEvent=function(){var e;return e=this,this.$el.find(".number-container a").click(function(t){var n,r,i;if($(this).hasClass("disabled"))return!1;t.preventDefault(),r=e._matchedGoodsSKU();if(r!=null){i=e._currentNumber(),n=$(this).is(".increase")?i+1:i-1;if(n>=0&&!(r.inventory!=null&&n>r.inventory))return e.$el.find("input.number").val(n).trigger("change")}})},t.prototype._bindOnNumberChangeEvent=function(){var e;return e=this,this.$el.find("input.number").on("keydown",function(e){if($.inArray(e.keyCode,[46,8,9,27,13])!==-1||e.keyCode>=35&&e.keyCode<=40)return;if((e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105))return e.preventDefault()}),this.$el.find("input.number").change(function(){var t,n;return t=$(this).val(),t&&$.isNumeric(t)&&t>0?$(this).val(parseInt(t)):$(this).val(0),n=e._matchedGoodsSKU(),n!=null&&n.inventory!=null&&t>n.inventory&&$(this).val(n.inventory),e._updateDecreaseIncreaseBtn(t),e._addCurrentGoodsSKUsToShoppingCart()})},t.prototype._bindShowHideEvent=function(){return this.$el.on("shown.logic",function(e){return function(){return e._addCurrentGoodsSKUsToShoppingCart()}}(this)),this.$el.on("hidden.logic",function(e){return function(){return e._updateShoppingCart(0)}}(this))},t.prototype._addCurrentGoodsSKUsToShoppingCart=function(e){return e==null&&(e=!1),this._updateShoppingCart(this._currentNumber(),e)},t.prototype._updateShoppingCart=function(e,t){var n;n=this._matchedGoodsSKU();if(n!=null)return this.shoppingCart.updateGoodsSKUNumber(n,e,t),e>0?this.$el.addClass("active"):this.$el.removeClass("active")},t.prototype._updateCurrentGoodsSKU=function(){return this._addCurrentGoodsSKUsToShoppingCart(!0),this._updatePriceAndInventoryDisplay(),this._updateNumberInput(),this._updateDecreaseIncreaseBtn(this._currentNumber())},t.prototype._initializeCurrentSpecification=function(){var e,t,n,r,i;this.currentSpecification={},n=this.$el.find(".dimensions input:radio:checked"),r=[];for(e=0,t=n.length;e<t;e++)i=n[e],r.push(this.currentSpecification[$(i).data("dimension")]=$(i).val());return r},t.prototype._currentNumber=function(){return parseInt(this.$el.find("input.number").val())},t.prototype._mobileGoodsVisible=function(){return GoldenData.isMobile&&this.$el.parents(".field [data-role=collapsible]").is(":visible")},t}(),n=function(){function e(){this.goodsList=[],this.eventHandlers={}}return e.prototype.on=function(e,t){return this.eventHandlers[e]=t},e.prototype.trigger=function(e){var t;t=this.eventHandlers[e];if(t!=null&&typeof t=="function")return t(this)},e.prototype.updateGoodsSKUNumber=function(e,t,n){var r;n==null&&(n=!1),r=_.find(this.goodsList,function(t){return _.isEqual(t.goodsSKU,e)}),r!=null&&this.goodsList.splice(_.indexOf(this.goodsList,r),1),t>0&&this.goodsList.push({goodsSKU:e,number:t});if(!n)return this.trigger("change")},e.prototype.totalPrice=function(){var e,t,n,r,i;i=0,r=this.goodsList;for(t=0,n=r.length;t<n;t++)e=r[t],i+=e.goodsSKU.price*e.number;return i},e.prototype._findGoodsByFieldApiCode=function(e){return _.filter(this.goodsList,function(t){return t.goodsSKU.fieldApiCode===e})},e.prototype.clearOnField=function(e){var t,n,r,i;i=this._findGoodsByFieldApiCode(e);for(n=0,r=i.length;n<r;n++)t=i[n],this.goodsList.splice(this.goodsList.indexOf(t),1);return this.trigger("change")},e}(),GoldenData.initGoods=function(e){var r,i,s,o,u,a,f,c;f=new n,r=function(t){var n;return n=$(e).find(".field[data-api-code='"+t+"'] .control-label"),$.trim(n.clone().children().remove().end().text())},i=function(t){var n,r,i;return n=$(e).find(".field[data-api-code='"+t.fieldApiCode+"'] [data-goods-value='"+t.goodsValue+"']").parents("[data-role=goods]"),r=$.trim(n.find(".name").text()),i=n.find(".dimensions input:radio:checked").map(function(e,t){return $.trim($(t).next("label").text())}).get().join(l("%common_separator")),i===""?r+"：":r+"（"+i+"）："},c=function(t,n){var s,o,u,a,f,c,h,p,d,v,m,g;n==null&&(n="update");if(_.isEmpty(t.goodsList))$(e).find("#shopping_cart").empty();else{g=$("<div class='content'></div>"),m=t.goodsList;for(h=0,p=m.length;h<p;h++)a=m[h],c=a.goodsSKU,u=c.fieldApiCode,s=g.find(".field[data-api-code='"+u+"']"),s.length>0?(o=s,f=o.find("ul")):(o=$("<div class='field' data-api-code='"+u+"'></div>"),o.append("<div class='field-label'>"+r(u)+"：</div> "),f=$("<ul></ul>"),o.append(f),g.append(o)),d=$("<li></li>"),d.append("<span class='goods-name'>"+i(c)+"</span>"),d.append("<span class='price-number'>&yen;"+c.price.toFixed(2)+" &times; "+a.number+"</span>"),f.append(d);g.append("<div class='summary'>"+l("%total")+"&yen; <span class='total-price'>"+t.totalPrice().toFixed(2)+"</span></div>"),$(e).find("#shopping_cart").html(g)}return v=_.isEmpty(t.goodsList)&&$("[data-role=goods]").closest(".form-group").find(".control-label:visible").length>0,$(".submit-field.payment input.submit").data("no-goods-selected",v),typeof GoldenData.updateSubmitBtn=="function"&&GoldenData.updateSubmitBtn(),typeof GoldenData.recalcFormHeight=="function"?GoldenData.recalcFormHeight():void 0};if($(e).find("[data-role=goods]").length>0){f.on("change",c),a=$(e).find("[data-role=goods]");for(o=0,u=a.length;o<u;o++)s=a[o],new t($(s),f);return c(f,"init"),$(e).on("hidden.logic",".field[data-api-code]",function(){return f.clearOnField($(this).data("api-code"))}),$(e).on("shown.logic",".field[data-api-code]",function(){return $(this).find("[data-role=goods] input.number[value!=0]").trigger("change")})}},$(document).on("ready page:load",function(){if(!($(".dashboard").length>0))return GoldenData.initGoods(document)}),$(document).on("ajax:complete","form:not(#submission_password_form)",function(){return GoldenData.initGoods(document)})})}.call(this),function(){$(function(){var e,t,n,r,i,s,o;return i=function(e){var t;return t=/^1\d{10}$/,t.test(e)},t=function(e,t){return e.addClass("disabled"),e.text(t)},n=function(e){return e.removeClass("disabled"),e.text(l("%resend"))},r=function(e){var t,n;return n=$.trim(e.val()),t=e.attr("name").match(/\[(.+)\]$/)[1],[n,t]},o=function(e,t){return e.prev("input").wrap("<div class='field_with_errors'></div>"),e.parent().after("<div class='error-message'>"+t+"</div>")},s=function(e,t,r){return $.post(t,r,function(t){return GoldenData.countDown(e,60),e.parent().after(t)}).fail(function(t){return o(e,t.responseText),n(e),e.text(l("%send_sms_verification"))})},e=function(e){return e.prev(".field_with_errors").find("input").unwrap(),e.parent().nextAll(".error-message").remove()},$(document).on("click","[data-role='verification_sender'] a.add-on:not(.disabled):not(.preview)",function(){var n,u,a,f,c,h;return e($(this)),c=r($(this).parents("[data-role='verification_sender']").find(".mobile")),a=c[0],f=c[1],i(a)?(t($(this),l("%sendingSMS")),h={mobile:a,field_api_code:f},n=$(this).closest("form").find("[name='authenticity_token']").val(),u={field_verification:h,authenticity_token:n,form_id:$(this).data("form-id")},s($(this),$(this).data("url"),u)):o($(this),l("%warn_wrong_mobile_number"))}),$(document).on("click","#change_sms_signature_modal [data-role=send_sms]:not(.disabled)",function(){var t,n,r,u;e($(this)),$(".field_with_errors #setting_sms_signature").unwrap().next(".error-message").remove(),n=!0,u=$("#setting_sms_signature").val(),u||($("#setting_sms_signature").after("<div class='error-message'>请填写签名</div>").wrap("<div class='field_with_errors'></div>"),n=!1),r=$(this).prev("input").val();if(!r||!i(r))o($(this),l("%warn_wrong_mobile_number")),n=!1;if(n)return s($(this),"/field_verifications/check",{mobile:r,signature:u,form_id:typeof (t=GoldenData.form).get=="function"?t.get("token"):void 0})}),$("#change_sms_signature_modal").on("hidden.bs.modal",function(){return e($(this).find("[data-role=send_sms]")),$(".field_with_errors #setting_sms_signature").unwrap().next(".error-message").remove()})})}.call(this),function(){window.GoldenData||(window.GoldenData={}),GoldenData.resetGeoFieldChooser=function(e){e.find(".geo-field-chooser").removeClass("disabled"),e.find(".geo-field-chooser span").text(l("%geo_choose"));if(e.hasClass("mobile"))return e.find(".btn.geo-field-chooser").val(l("%geo_locate"))},GoldenData.Geo=function(){function e(e,t){this.$el=e,this.options=t!=null?t:{},this.options=$.extend({staticMap:!1,mobile:!1,localizable:!1},this.options),this.initMap(),this.options.staticMap||this.options.mobile&&!this.options.localizable||this.initMapEvent()}return e.prototype._noOverrideError=function(e){throw"can't find "+e+" in subclass"},e.prototype.initMap=function(){return this._initMap(this.$el.find(".map-container")[0])},e.prototype.getGeoMethod=function(e){return this.geoArray||(this.geoArray=this._geoArray()),this.geoArray[e]},e.prototype.onGetLocationSuccess=function(e,t){return this.updateMap(e,null,t)},e.prototype.onGetLocationFail=function(){return alert(l("%warn_geo_cannot_get_location")),GoldenData.resetGeoFieldChooser(this.$el)},e.prototype._useNextGeoMethod=function(e){var t;t=this.getGeoMethod(this.geoIndex);if(!t)return;return this.geoIndex++,t(e)},e.prototype.currentLocation=function(e){return e==null&&(e=null),e=e!=null?e:{},this.geoIndex=0,this._useNextGeoMethod(e)},e.prototype.updateMap=function(e,t,n){return t==null&&(t=null),n==null&&(n={}),this.mapObj&&this.setMarker(e,n.zoom),this.showAddress(e,t,n),this.$el.find(".geo-map-coord").text(l("%geo_coord",{lat:e.lat.toFixed(8),"long":e.lng.toFixed(8)})),this.$el.find("input[name$='[latitude]']").val(e.lat),this.$el.find("input[name$='[longitude]']").val(e.lng)},e.prototype._showAddress=function(e,t){this.$el.find(".geo-map-address").text(l("%geo_address",{address:e})),this.$el.find("input[name$='[address]']").val(e);if(t.onComplete)return t.onComplete()},e.prototype.showAddress=function(e,t,n){return t==null&&(t=null),n==null&&(n={}),t?this._showAddress(t,n):this._showAddressFromLocation(e,n)},e.prototype._initMap=function(e){return this._noOverrideError("_initMap")},e.prototype.initMapEvent=function(){return this._noOverrideError("initMapEvent")},e.prototype._geoArray=function(){return this._noOverrideError("_geoArray")},e.prototype.setMarker=function(e,t){return t==null&&(t=null),this._noOverrideError("setMarker")},e.prototype._showAddressFromLocation=function(e,t){return this._noOverrideError("_showAddressFromLocation")},e.prototype.searchLocation=function(e){return this._noOverrideError("searchLocation")},e}()}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;GoldenData.GeoAutonavi=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype._initMap=function(e){var t;try{return this.mapObj=new AMap.Map(e,{lang:String.locale})}catch(n){return t=n,console.log(t)}finally{this.mapObj.plugin("AMap.ToolBar",function(e){return function(){var t;
return t=e.options.localizable&&e.options.mobile?{offset:new AMap.Pixel(2,65)}:{direction:!1,offset:new AMap.Pixel(-10,5)},e.mapObj.addControl(new AMap.ToolBar(t))}}(this))}},n.prototype.initMapEvent=function(){return AMap.event.addListener(this.mapObj,"click",function(e){return function(t){return e.updateMap(t.lnglat)}}(this))},n.prototype._geoArray=function(){var e,t;return e=function(e){return function(t){var n,r;return r=function(n){return e.onGetLocationSuccess(n.position,t)},n=function(n){n==null&&(n=null);if(e._useNextGeoMethod(t))return;if(n)switch(n.info){case"PERMISSION_DENIED":alert(l("%warn_geo_permission_denied"));break;case"POSITION_UNAVAILBLE":alert(l("%warn_geo_position_unavailable"));break;case"TIMEOUT":alert(l("%warn_geo_timeout"));break;default:alert(l("%warn_geo_unknown_error"))}return GoldenData.resetGeoFieldChooser(e.$el)},e.mapObj.plugin("AMap.Geolocation",function(){var t;return t=new AMap.Geolocation({timeout:5e3,showButton:!1,showCircle:!1,zoomToAccuracy:!0}),e.mapObj.addControl(t),AMap.event.addListener(t,"complete",r),AMap.event.addListener(t,"error",n),t.getCurrentPosition()})}}(this),t=function(e){return function(t){var n;return n=function(){if(e._useNextGeoMethod(t))return;return e.onGetLocationFail()},e.mapObj.plugin("AMap.CitySearch",function(){var r;return r=new AMap.CitySearch,AMap.event.addListener(r,"complete",function(r){var i;if(!(r&&r.city&&r.bounds))return n();i=r.city,e.$el.find(".geo-map-address").text(i),e.$el.find(".geo-map-coord").empty(),e.$el.find("input[name$='[address]']").val(i),e.mapObj.setBounds(r.bounds);if(t.onComplete)return t.onComplete()}),AMap.event.addListener(r,"error",n),r.getLocalCity()})}}(this),[e,t]},n.prototype.setMarker=function(e,t){var n,r;return t==null&&(t=null),this.mapObj.clearMap(),r={map:this.mapObj,icon:"https://webapi.amap.com/images/marker_sprite.png",position:e},this.options.staticMap||this.options.mobile&&!this.options.localizable?new AMap.Marker(r):(n=new AMap.Marker($.extend(r,{draggable:!0,animation:"AMAP_ANIMATION_DROP",cursor:"move",raiseOnDrag:!0})),AMap.event.addListener(n,"dragend",function(e){return function(t){return e.updateMap(t.lnglat)}}(this))),this.mapObj.setZoomAndCenter(t!=null?t:16,e)},n.prototype._showAddressFromLocation=function(e,t){return this.mapObj.plugin("AMap.Geocoder",function(n){return function(){var r;return r=new AMap.Geocoder({radius:1e3,extensions:"all"}),AMap.event.addListener(r,"complete",function(e){var r;return r=e.regeocode.formattedAddress,n._showAddress(r,t)}),r.getAddress(e)}}(this))},n.prototype.searchLocation=function(e){return this.mapObj.plugin("AMap.Geocoder",function(t){return function(){var n;return n=new AMap.Geocoder,AMap.event.addListener(n,"complete",function(e){var n,r,i;n=e.geocodes[0];if(n)return r=n.level,i=function(){switch(r){case"省":return 5;case"市":return 10;case"区县":return 12;default:return 16}}(),t.updateMap(n.location,n.formattedAddress,{zoom:i})}),n.getLocation(e)}}(this))},n}(GoldenData.Geo)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;GoldenData.GeoGoogle=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype._initMap=function(e){var t;return t={zoom:4,mapTypeId:google.maps.MapTypeId.ROADMAP,streetViewControl:!1,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_TOP}},this.mapObj=new google.maps.Map(e,t),this.marker=new google.maps.Marker({position:this.mapObj.getCenter(),map:this.mapObj,animation:google.maps.Animation.Drop,draggable:!this.options.staticMap})},n.prototype.initMapEvent=function(){return google.maps.event.addListener(this.mapObj,"click",function(e){return function(t){return e.updateMap(e._latLngFromGoogleLatLng(t.latLng))}}(this)),google.maps.event.addListener(this.marker,"dragend",function(e){return function(t){return e.updateMap(e._latLngFromGoogleLatLng(t.latLng))}}(this))},n.prototype._geoArray=function(){var e;return e=function(e){return function(t){var n,r;return r=function(n){var r;return r={lat:n.coords.latitude,lng:n.coords.longitude},e.onGetLocationSuccess(r,t)},n=function(n){n==null&&(n=null);if(e._useNextGeoMethod(t))return;if(n)switch(n.code){case n.PERMISSION_DENIED:alert(l("%warn_geo_permission_denied"));break;case n.POSITION_UNAVAILABLE:alert(l("%warn_geo_position_unavailable"));break;case n.TIMEOUT:alert(l("%warn_geo_timeout"));break;default:alert(l("%warn_geo_unknown_error"))}return GoldenData.resetGeoFieldChooser(e.$el)},navigator.geolocation?navigator.geolocation.getCurrentPosition(r,n,{timeout:5e3,maximumAge:0}):n()}}(this),[e]},n.prototype._googleLatLng=function(e){return new google.maps.LatLng(e.lat,e.lng)},n.prototype._latLngFromGoogleLatLng=function(e){return{lat:e.lat(),lng:e.lng()}},n.prototype.setMarker=function(e,t){var n;return t==null&&(t=null),n=this._googleLatLng(e),this.mapObj.setZoom(t!=null?t:16),this.mapObj.setCenter(n),this.marker.setPosition(n)},n.prototype._showAddressFromLocation=function(e,t){var n;return n=this._googleLatLng(e),(new google.maps.Geocoder).geocode({latLng:n},function(n){return function(r,i){var s;i===google.maps.GeocoderStatus.OK&&r[0]&&(s=$.trim(r[0].formatted_address.replace(/邮政编码.*/,""))),s?(n.$el.find(".geo-map-address").text(l("%geo_address",{address:s})),n.$el.find("input[name$='[address]']").val(s)):n.$el.find(".geo-map-address").text(l("%geo_no_address")+l("%geo_coord",{"long":e.lng,lat:e.lat}));if(t.onComplete)return t.onComplete()}}(this))},n.prototype.searchLocation=function(e){return(new google.maps.Geocoder).geocode({address:e},function(e){return function(t,n){if(n===google.maps.GeocoderStatus.OK)return e.updateMap(e._latLngFromGoogleLatLng(t[0].geometry.location))}}(this))},n}(GoldenData.Geo)}.call(this),function(){$(function(){var e;return e=function(){function e(e,t,n){this.$container=e,this.useGoogle=t!=null?t:!1,this.staticMap=n!=null?n:!1,this.mobile=this.$container.hasClass("mobile"),this.localizable=this.$container.hasClass("localizable"),this.initialMap(),this.staticMap||this.initialEvents(),this.$container.data("geo-initialized",!0)}return e.prototype.initialMap=function(){return this.staticMap||GoldenData.resetGeoFieldChooser(this.$container),this.initialExistedPosition()},e.prototype.ensureGeo=function(){if(this.geo===void 0)return this.useGoogle?this.geo=new GoldenData.GeoGoogle(this.$container,{mobile:this.mobile,staticMap:this.staticMap}):this.geo=new GoldenData.GeoAutonavi(this.$container,{mobile:this.mobile,staticMap:this.staticMap,localizable:this.localizable})},e.prototype.initialExistedPosition=function(){var e,t,n,r;return this.staticMap?(e=this.$container.find(".map-container"),n=e.data("latitude"),r=e.data("longitude"),t=e.data("address")):(n=this.$container.find("input[name$='[latitude]']").val(),r=this.$container.find("input[name$='[longitude]']").val(),t=this.$container.find("input[name$='[address]']").val()),this.setLocation(n,r,t)},e.prototype.setLocation=function(e,t,n){var r;if(e&&t)return this.ensureGeo(),r=this.useGoogle?{lat:parseFloat(e),lng:parseFloat(t)}:new AMap.LngLat(parseFloat(t),parseFloat(e)),this.geo.updateMap(r,n);if(n)return this.ensureGeo(),this.geo.searchLocation(n)},e.prototype.initialEvents=function(){return this.$container.find(".geo-field-chooser").click(function(e){return function(){return e.mobile&&!e.localizable&&(e.$container.find(".geo-field-chooser").addClass("disabled"),e.$container.find(".geo-field-chooser").val(l("%geo_locating"))),e.ensureGeo(),e.mobile&&!e.localizable?e.geo.currentLocation({onComplete:function(){return e.$container.find(".geo-map-container").show(),e.$container.find(".geo-field-chooser").removeClass("disabled").val(l("%geo_locate")).hide(),GoldenData.recalcFormHeight()}}):(e.geo.currentLocation(),e.$container.find(".geo-map-container").show(),e.$container.find(".geo-field-chooser").hide(),GoldenData.recalcFormHeight())}}(this)),this.$container.find(".clear-location-btn").click(function(e){return function(){return e.$container.find(".geo-field-chooser").show(),e.$container.find(".geo-map-container").hide(),e.$container.find("input[name$='[latitude]']").val(""),e.$container.find("input[name$='[longitude]']").val(""),e.$container.find("input[name$='[address]']").val(""),GoldenData.recalcFormHeight()}}(this)),this.$container.find(".modify-location-btn").click(function(e){return function(){return e.$container.find(".clear-location-btn").click(),e.$container.find(".geo-field-chooser").click()}}(this)),this.$container.find(".map-search-btn").click(function(e){return function(){var t;t=e.$container.find(".map-search").val();if(t)return e.geo.searchLocation(t)}}(this)),this.$container.find(".current-location-btn").click(function(e){return function(){return e.ensureGeo(),e.geo.currentLocation()}}(this))},e}(),GoldenData.initGeoView=function(t){var n,r,i,s,o;t==null&&(t=!1),s=$("[data-role=geo]"),o=[];for(r=0,i=s.length;r<i;r++)n=s[r],$(n).data("geo-initialized")?o.push(void 0):o.push(new e($(n),t));return o},GoldenData.initStaticGeoView=function(t){var n,r,i,s,o;t==null&&(t=!1),s=$("[data-role=static-geomap]"),o=[];for(r=0,i=s.length;r<i;r++)n=s[r],o.push(new e($(n),t,!0));return o},$(".map-search").on("keypress",function(e){if(e.keyCode===13)return $(this).parent(".geo-map-action").find(".map-search-btn").click()})})}.call(this),function(){window.GoldenData||(window.GoldenData={}),$(function(){var e;return e=function(e,t){var n,r,i,s,o,u,a,f,c;c=e.find("option:selected"),t.html("<option value=''>"+l("%select_prompt")+"</option>"),a=(u=c.data("choices"))!=null?u:[];for(s=0,o=a.length;s<o;s++)n=a[s],typeof n=="object"?(r=n.name,i=(f=n.value)!=null?f:r):(r=n,i=n),t.append("<option value='"+i+"'>"+r+"</option>");t.val(t.data("value"));if($.mobile)return t.selectmenu("refresh",!0)},GoldenData.initCascadeSelector=function(t){var n,r,i,s,o,u;o=$(t).find("[data-role=cascade]"),u=[];for(r=0,i=o.length;r<i;r++)n=o[r],s=$(n).find("[data-role=level_1]"),e(s,$(n).find("[data-role=level_2]")),u.push(s.on("change",function(){var t;return t=$(this).parents("[data-role=cascade]").find("[data-role=level_2]"),t.data("value",null),e($(this),t)}));return u},$(document).on("ready page:load ajax:complete",function(){if(!($(".dashboard").length>0))return GoldenData.initCascadeSelector(document)})})}.call(this),function(){window.GoldenData||(window.GoldenData={}),$(function(){return GoldenData.FormPagination=function(){function e(e){this.options=e!=null?e:{},this.container=this.options.container,this.fieldsContainer=$(this.container.find(".form-fields-container")),this.currentPage=1,this.pageCount=1,this._init()}return e.prototype.onFormContentShowHide=function(){return this._updatePageDisplayedIndex(),this._render()},e.prototype._render=function(){var e,t,n;this.fieldsContainer.find(".form-page").hide(),t=this.container.find(".pagination-action.previous-page"),e=this.container.find(".pagination-action.next-page"),n=this.container.find(".field.submit-field"),this.container.find(".form-description").toggleClass("hide",this._hasPreviousPage()),t.toggleClass("hide",!this._hasPreviousPage()),e.toggleClass("hide",!this._hasNextPage()),n.find(".page-number").html(l("%page_number",{currentPage:this.currentPage,totalPage:this.pageCount})).toggleClass("hide",this._hasOnlyOnePage()),this.container.find(".field.submit-field .submit, #shopping_cart, .captcha-container").toggleClass("hide",this._hasNextPage()),n.toggleClass("has-pagination-action",!this._hasOnlyOnePage()),this.fieldsContainer.find(".form-page[data-page-index="+this.currentPage+"]").show();if(GoldenData.isMobile)return $(window).resize()},e.prototype._goToPreviousPage=function(){if(!this._hasPreviousPage())return;return this.currentPage--,this._render(),$(window).scrollTop(0)},e.prototype._goToNextPage=function(){var e;if(!this._hasNextPage())return;return e=this.fieldsContainer.closest("form").data("validate-url"),e?this._validateCurrentPage(e,function(e){return function(){return e._doGoToNextPage()}}(this),function(e){return function(){return $(window).scrollTop(0)}}(this)):this._doGoToNextPage()},e.prototype._doGoToNextPage=function(){return this.currentPage++,this._render(),$(window).scrollTop(0)},e.prototype._hasPreviousPage=function(){return this.currentPage>1},e.prototype._hasNextPage=function(){return this.currentPage<this.pageCount},e.prototype._hasOnlyOnePage=function(){return this.pageCount<=1},e.prototype._validateCurrentPage=function(e,t,n){var r,i;return i=this._getFieldsDataToValidate(),r=$("meta[name=csrf-token]").attr("content"),$.ajax(e,{type:"post",data:$.param(i),beforeSend:function(e){return e.setRequestHeader("X-CSRF-Token",r)},success:function(e){return function(n,r,i){return e._clearFieldsErrorMessages(),t()}}(this),error:function(e){return function(t){var r;if(t.status===400)return r=$.parseJSON(t.responseText),e._showErrorMessages(r.errors),n()}}(this)})},e.prototype._getFieldsDataToValidate=function(){var e,t,n,r,i;return t=$(this.fieldsContainer.find(".form-page[data-page-index="+this.currentPage+"]")).find("input, textarea, select"),i=_.reject(this.fieldsContainer.find(".logic-trigger"),function(e){return function(t){var n;return n=$(t).closest(".form-page").data("page-index"),!n||n>=e.currentPage}}(this)),r=t.add(typeof (e=$(i)).find=="function"?e.find("input, textarea, select"):void 0),n=r.serializeArray(),n=this._appendUncheckedInputsData(n,r),n},e.prototype._appendUncheckedInputsData=function(e,t){return _.each(t,function(t){return function(t){var n,r,i;r=_.pluck(e,"name"),i=$(t).attr("name");if(($(t).is("input:radio")||$(t).is("input:checkbox"))&&!_.contains(r,i)){n=i.replace(/\[\]$/,"");if(!_.contains(r,n))return e.push({name:n,value:""})}}}(this)),e},e.prototype._showErrorMessages=function(e){var t,n,r;return t=$("#form_page_error_messages_modal"),r=5,n="",this._clearFieldsErrorMessages(),_.each(e,function(e){return function(t,i){var s,o;s=t[0],o=t[1],e._addErrorMessageToField(s,o);if(i<r)return n+="<li>"+o+"</li>"}}(this)),e.length>r&&(n+='<li class="others">...</li>'),t.find(".error-explanation ul").html(n),t.modal("show")},e.prototype._clearFieldsErrorMessages=function(){var e;return e=this.fieldsContainer.find(".form-page[data-page-index="+this.currentPage+"] .field.has-error"),e.removeClass("has-error"),e.find(".inline-error").remove(),e.find(".field_with_errors").children().unwrap()},e.prototype._addErrorMessageToField=function(e,t){var n;return n=this.fieldsContainer.find("[data-api-code="+e+"]"),n.addClass("has-error"),n.find(".controls").wrapInner('<div class="field_with_errors"></div>'),n.append($("<div class='help-block inline-error'><i class='fa fa-times-circle'></i> "+t+"</div>"))},e.prototype._wrapFieldsInPage=function(){return _.each(this.fieldsContainer.find(".page-break"),function(e){return function(e,t,n){var r,i,s;return i=t+1===n.length,r=i?$(e).nextAll().addBack():$(e).nextUntil(".page-break",".field:not(.page-break)").addBack(),s=$("<div class='form-page'></div>"),r.wrapAll(s)}}(this)),this.container.find(".field.submit-field").addClass("has-form-pagination")},e.prototype._updatePageDisplayedIndex=function(){var e;return e=0,_.each(this.fieldsContainer.find(".form-page"),function(t){return function(t){return $(t).find(".field:not(.logic-hidden):not(.page-break)").length>0?(e++,$(t).attr("data-page-index",e)):$(t).removeAttr("data-page-index")}}(this)),this.pageCount=e},e.prototype._goToFirstErrorPage=function(){var e;e=this.fieldsContainer.find(".field.has-error");if(e.length>0)return this.currentPage=$(e[0]).closest(".form-page").attr("data-page-index")||1},e.prototype._init=function(){return this._wrapFieldsInPage(),this._updatePageDisplayedIndex(),this._goToFirstErrorPage(),this._bindEvents(),this._render()},e.prototype._bindEvents=function(){return this.container.find(".pagination-action.previous-page").click(function(e){return function(){return e._goToPreviousPage()}}(this)),this.container.find(".pagination-action.next-page").click(function(e){return function(){return e._goToNextPage()}}(this))},e}(),GoldenData.initFormPagination=function(e){e==null&&(e=null),e||(e=$("body"));if(!($(e).find(".form-fields-container .page-break").length>0))return GoldenData.formPagination=null;if($(e).find(".form-page").length===0)return GoldenData.formPagination=new GoldenData.FormPagination({container:e})},$(window).on("formContentShowHide",function(){if(GoldenData.formPagination)return GoldenData.formPagination.onFormContentShowHide()})})}.call(this),function(){}.call(this),function(){function xt(){var e,t=arguments,n,r={},i=function(e,t){var n,r;typeof e!="object"&&(e={});for(r in t)t.hasOwnProperty(r)&&(n=t[r],n&&typeof n=="object"&&Object.prototype.toString.call(n)!=="[object Array]"&&r!=="renderTo"&&typeof n.nodeType!="number"?e[r]=i(e[r]||{},n):e[r]=t[r]);return e};t[0]===!0&&(r=t[1],t=Array.prototype.slice.call(t,2)),n=t.length;for(e=0;e<n;e++)r=i(r,t[e]);return r}function Tt(e,t){return parseInt(e,t||10)}function Nt(e){return typeof e=="string"}function Ct(e){return e&&typeof e=="object"}function kt(e){return Object.prototype.toString.call(e)==="[object Array]"}function Lt(e){return typeof e=="number"}function At(e){return r.log(e)/r.LN10}function Ot(e){return r.pow(10,e)}function Mt(e,t){var n=e.length;while(n--)if(e[n]===t){e.splice(n,1);break}}function _t(t){return t!==e&&t!==null}function Dt(e,t,n){var r,i;if(Nt(t))_t(n)?e.setAttribute(t,n):e&&e.getAttribute&&(i=e.getAttribute(t));else if(_t(t)&&Ct(t))for(r in t)e.setAttribute(r,t[r]);return i}function Pt(e){return kt(e)?e:[e]}function Bt(t,n){m&&!S&&n&&n.opacity!==e&&(n.filter="alpha(opacity="+n.opacity*100+")"),St(t.style,n)}function jt(e,n,r,i,s){var o=t.createElement(e);return n&&St(o,n),s&&Bt(o,{padding:0,border:$,margin:0}),r&&Bt(o,r),i&&i.appendChild(o),o}function Ft(t,n){var r=function(){return e};return r.prototype=new t,St(r.prototype,n),r}function It(e,t){return(new Array((t||2)+1-String(e).length)).join(0)+e}function Rt(e){return(ot&&ot(e)||st||0)*6e4}function Ut(e,t){var n=/f$/,r=/\.([0-9])/,i=O.lang,s;return n.test(e)?(s=e.match(r),s=s?s[1]:-1,t!==null&&(t=Et.numberFormat(t,s,i.decimalPoint,e.indexOf(",")>-1?i.thousandsSep:""))):t=M(e,t),t}function zt(e,t){var n="{",r=!1,i,s,o,u,a,f=[],l,c;while((c=e.indexOf(n))!==-1){i=e.slice(0,c);if(r){s=i.split(":"),o=s.shift().split("."),a=o.length,l=t;for(u=0;u<a;u++)l=l[o[u]];s.length&&(l=Ut(s.join(":"),l)),f.push(l)}else f.push(i);e=e.slice(c+1),r=!r,n=r?"}":"{"}return f.push(e),f.join("")}function Wt(e){return r.pow(10,s(r.log(e)/r.LN10))}function Xt(e,t,n,r,i){var s,o,u=e;n=Ht(n,1),s=e/n,t||(t=[1,2,2.5,5,10],r===!1&&(n===1?t=[1,2,5,10]:n<=.1&&(t=[1/n])));for(o=0;o<t.length;o++){u=t[o];if(i&&u*n>=e||!i&&s<=(t[o]+(t[o+1]||t[o]))/2)break}return u*=n,u}function Vt(e,t){var n=e.length,r,i;for(i=0;i<n;i++)e[i].ss_i=i;e.sort(function(e,n){return r=t(e,n),r===0?e.ss_i-n.ss_i:r});for(i=0;i<n;i++)delete e[i].ss_i}function $t(e){var t=e.length,n=e[0];while(t--)e[t]<n&&(n=e[t]);return n}function Jt(e){var t=e.length,n=e[0];while(t--)e[t]>n&&(n=e[t]);return n}function Kt(e,t){var n;for(n in e)e[n]&&e[n]!==t&&e[n].destroy&&e[n].destroy(),delete e[n]}function Qt(e){A||(A=jt(q)),e&&A.appendChild(e),A.innerHTML=""}function Gt(e,t){var r="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t)throw r;n.console&&console.log(r)}function Yt(e){return parseFloat(e.toPrecision(14))}function Zt(e,t){_=Ht(e,t.animation)}function yn(){var e=O.global,t=e.useUTC,n=t?"getUTC":"get",r=t?"setUTC":"set";rt=e.Date||window.Date,st=t&&e.timezoneOffset,ot=t&&e.getTimezoneOffset,it=function(e,n,r,i,s,o){var u;return t?(u=rt.UTC.apply(0,arguments),u+=Rt(u)):u=(new rt(e,n,Ht(r,1),Ht(i,0),Ht(s,0),Ht(o,0))).getTime(),u},ut=n+"Minutes",at=n+"Hours",ft=n+"Day",lt=n+"Date",ct=n+"Month",ht=n+"FullYear",pt=r+"Milliseconds",dt=r+"Seconds",vt=r+"Minutes",mt=r+"Hours",gt=r+"Date",yt=r+"Month",bt=r+"FullYear"}function bn(e){return O=xt(!0,O,e),yn(),O}function wn(){return O}function Nn(){}function _n(e,t,n,r){this.axis=e,this.pos=t,this.type=n||"",this.isNew=!0,!n&&!r&&this.addLabel()}function $n(e,t,n,r,i){var s=e.chart.inverted;this.axis=e,this.isNegative=n,this.options=t,this.x=r,this.total=null,this.points={},this.stack=i,this.alignOptions={align:t.align||(s?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(s?"middle":n?"bottom":"top"),y:Ht(t.y,s?4:n?14:-6),x:Ht(t.x,s?n?-6:6:0)},this.textAlign=t.textAlign||(s?n?"right":"left":"center")}var e,t=document,n=window,r=Math,i=r.round,s=r.floor,o=r.ceil,u=r.max,a=r.min,f=r.abs,l=r.cos,c=r.sin,h=r.PI,p=h*2/360,d=navigator.userAgent,v=n.opera,m=/(msie|trident)/i.test(d)&&!v,g=t.documentMode===8,y=/AppleWebKit/.test(d),b=/Firefox/.test(d),w=/(Mobile|Android|Windows Phone)/.test(d),E="http://www.w3.org/2000/svg",S=!!t.createElementNS&&!!t.createElementNS(E,"svg").createSVGRect,x=b&&parseInt(d.split("Firefox/")[1],10)<4,T=!S&&!m&&!!t.createElement("canvas").getContext,N,C,k={},L=0,A,O,M,_,D,P,H=function(){return e},B=[],j=0,F="Highcharts",I="4.1.5",q="div",R="absolute",U="relative",z="hidden",W="highcharts-",X="visible",V="px",$="none",J="M",K="L",Q=/^[0-9]+$/,G="",Y="hover",Z="select",et=["plotTop","marginRight","marginBottom","plotLeft"],tt,nt="stroke-width",rt,it,st,ot,ut,at,ft,lt,ct,ht,pt,dt,vt,mt,gt,yt,bt,wt={},Et;Et=n.Highcharts=n.Highcharts?Gt(16,!0):{},Et.seriesTypes=wt;var St=Et.extend=function(e,t){var n;e||(e={});for(n in t)e[n]=t[n];return e},Ht=Et.pick=function(){var t=arguments,n,r,i=t.length;for(n=0;n<i;n++){r=t[n];if(r!==e&&r!==null)return r}},qt=Et.wrap=function(e,t,n){var r=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(r),n.apply(this,e)}};M=function(e,t,n){if(!_t(t)||isNaN(t))return"Invalid date";e=Ht(e,"%Y-%m-%d %H:%M:%S");var r=new rt(t-Rt(t)),s,o=r[at](),u=r[ft](),a=r[lt](),f=r[ct](),l=r[ht](),c=O.lang,h=c.weekdays,p=St({a:h[u].substr(0,3),A:h[u],d:It(a),e:a,w:u,b:c.shortMonths[f],B:c.months[f],m:It(f+1),y:l.toString().substr(2,2),Y:l,H:It(o),I:It(o%12||12),l:o%12||12,M:It(r[ut]()),p:o<12?"AM":"PM",P:o<12?"am":"pm",S:It(r.getSeconds()),L:It(i(t%1e3),3)},Et.dateFormats);for(s in p)while(e.indexOf("%"+s)!==-1)e=e.replace("%"+s,typeof p[s]=="function"?p[s](t):p[s]);return n?e.substr(0,1).toUpperCase()+e.substr(1):e},P={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},Et.numberFormat=function(e,t,n,r){var i=O.lang,s=+e||0,o=t===-1?a((s.toString().split(".")[1]||"").length,20):isNaN(t=f(t))?2:t,u=n===undefined?i.decimalPoint:n,l=r===undefined?i.thousandsSep:r,c=s<0?"-":"",h=String(Tt(s=f(s).toFixed(o))),p=h.length>3?h.length%3:0;return c+(p?h.substr(0,p)+l:"")+h.substr(p).replace(/(\d{3})(?=\d)/g,"$1"+l)+(o?u+f(s-h).toFixed(o).slice(2):"")},D={init:function(e,t,n){t=t||"";var r=e.shift,i=t.indexOf("C")>-1,s=i?7:3,o,u,a,f=t.split(" "),l=[].concat(n),c,h,p=function(e){a=e.length;while(a--)e[a]===J&&e.splice(a+1,0,e[a+1],e[a+2],e[a+1],e[a+2])};i&&(p(f),p(l)),e.isArea&&(c=f.splice(f.length-6,6),h=l.splice(l.length-6,6));if(r<=l.length/s&&f.length===l.length)while(r--)l=[].concat(l).splice(0,s).concat(l);e.shift=0;if(f.length){o=l.length;while(f.length<o)u=[].concat(f).splice(f.length-s,s),i&&(u[s-6]=u[s-2],u[s-5]=u[s-1]),f=f.concat(u)}return c&&(f=f.concat(c),l=l.concat(h)),[f,l]},step:function(e,t,n,r){var i=[],s=e.length,o;if(n===1)i=r;else if(s===t.length&&n<1)while(s--)o=parseFloat(e[s]),i[s]=isNaN(o)?e[s]:n*parseFloat(t[s]-o)+o;else i=t;return i}},function(r){n.HighchartsAdapter=n.HighchartsAdapter||r&&{init:function(t){var n=r.fx;r.extend(r.easing,{easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n}}),r.each(["cur","_default","width","height","opacity"],function(t,i){var s=n.step,o;i==="cur"?s=n.prototype:i==="_default"&&r.Tween&&(s=r.Tween.propHooks[i],i="set"),o=s[i],o&&(s[i]=function(n){var r;n=t?n:this;if(n.prop==="align")return;return r=n.elem,r.attr?r.attr(n.prop,i==="cur"?e:n.now):o.apply(this,arguments)})}),qt(r.cssHooks.opacity,"get",function(e,t,n){return t.attr?t.opacity||0:e.call(this,t,n)}),this.addAnimSetter("d",function(e){var n=e.elem,r;e.started||(r=t.init(n,n.d,n.toD),e.start=r[0],e.end=r[1],e.started=!0),n.attr("d",t.step(e.start,e.end,e.pos,n.toD))}),this.each=Array.prototype.forEach?function(e,t){return Array.prototype.forEach.call(e,t)}:function(e,t){var n,r=e.length;for(n=0;n<r;n++)if(t.call(e[n],e[n],n,e)===!1)return n},r.fn.highcharts=function(){var t="Chart",n=arguments,r,i,s;return this[0]&&(Nt(n[0])&&(t=n[0],n=Array.prototype.slice.call(n,1)),r=n[0],r!==e&&(r.chart=r.chart||{},r.chart.renderTo=this[0],s=new Et[t](r,n[1]),i=this),r===e&&(i=B[Dt(this[0],"data-highcharts-chart")])),i}},addAnimSetter:function(e,t){r.Tween?r.Tween.propHooks[e]={set:t}:r.fx.step[e]=t},getScript:r.getScript,inArray:r.inArray,adapterRun:function(e,t){return r(e)[t]()},grep:r.grep,map:function(e,t){var n=[],r=0,i=e.length;for(;r<i;r++)n[r]=t.call(e[r],e[r],r,e);return n},offset:function(e){return r(e).offset()},addEvent:function(e,t,n){r(e).bind(t,n)},removeEvent:function(e,n,i){var s=t.removeEventListener?"removeEventListener":"detachEvent";t[s]&&e&&!e[s]&&(e[s]=function(){}),r(e).unbind(n,i)},fireEvent:function(e,t,n,i){var s=r.Event(t),o="detached"+t,u;!m&&n&&(delete n.layerX,delete n.layerY,delete n.returnValue),St(s,n),e[t]&&(e[o]=e[t],e[t]=null),r.each(["preventDefault","stopPropagation"],function(e,t){var n=s[t];s[t]=function(){try{n.call(s)}catch(e){t==="preventDefault"&&(u=!0)}}}),r(e).trigger(s),e[o]&&(e[t]=e[o],e[o]=null),i&&!s.isDefaultPrevented()&&!u&&i(s)},washMouseEvent:function(t){var n=t.originalEvent||t;return n.pageX===e&&(n.pageX=t.pageX,n.pageY=t.pageY),n},animate:function(t,n,i){var s=r(t);t.style||(t.style={}),n.d&&(t.toD=n.d,n.d=1),s.stop(),n.opacity!==e&&t.attr&&(n.opacity+="px"),t.hasAnim=1,s.animate(n,i)},stop:function(e){e.hasAnim&&r(e).stop()}}}(n.jQuery);var en=n.HighchartsAdapter,tn=en||{};en&&en.init.call(en,D);var nn=tn.adapterRun,rn=tn.getScript,sn=tn.inArray,on=Et.each=tn.each,un=tn.grep,an=tn.offset,fn=tn.map,ln=tn.addEvent,cn=tn.removeEvent,hn=tn.fireEvent,pn=tn.washMouseEvent,dn=tn.animate,vn=tn.stop;O={colors:["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/4.1.5/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.1.5/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return this.y===null?"":Et.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:R,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:R,width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:U,top:"45%"},style:{position:R,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:S,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:w?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var mn=O.plotOptions,gn=mn.line;yn();var En=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,Sn=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,xn=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,Tn=function(e){function i(e){e&&e.stops?r=fn(e.stops,function(e){return Tn(e[1])}):(n=En.exec(e),n?t=[Tt(n[1]),Tt(n[2]),Tt(n[3]),parseFloat(n[4],10)]:(n=Sn.exec(e),n?t=[Tt(n[1],16),Tt(n[2],16),Tt(n[3],16),1]:(n=xn.exec(e),n&&(t=[Tt(n[1]),Tt(n[2]),Tt(n[3]),1]))))}function s(n){var i;return r?(i=xt(e),i.stops=[].concat(i.stops),on(r,function(e,t){i.stops[t]=[i.stops[t][0],e.get(n)]})):t&&!isNaN(t[0])?n==="rgb"?i="rgb("+t[0]+","+t[1]+","+t[2]+")":n==="a"?i=t[3]:i="rgba("+t.join(",")+")":i=e,i}function o(e){if(r)on(r,function(t){t.brighten(e)});else if(Lt(e)&&e!==0){var n;for(n=0;n<3;n++)t[n]+=Tt(e*255),t[n]<0&&(t[n]=0),t[n]>255&&(t[n]=255)}return this}function u(e){return t[3]=e,this}var t=[],n,r;return i(e),{get:s,brighten:o,rgba:t,setOpacity:u,raw:e}};Nn.prototype={opacity:1,textProps:["fontSize","fontWeight","fontFamily","fontStyle","color","lineHeight","width","textDecoration","textShadow"],init:function(e,n){var r=this;r.element=n==="span"?jt(n):t.createElementNS(E,n),r.renderer=e},animate:function(e,t,n){var r=Ht(t,_,!0);return vn(this),r?(r=xt(r,{}),n&&(r.complete=n),dn(this,e,r)):(this.attr(e),n&&n()),this},colorGradient:function(e,t,n){var r=this.renderer,i,s,o,u,a,f,l,c,h,p,d,v=[];e.linearGradient?s="linearGradient":e.radialGradient&&(s="radialGradient");if(s){o=e[s],u=r.gradients,f=e.stops,h=n.radialReference,kt(o)&&(e[s]=o={x1:o[0],y1:o[1],x2:o[2],y2:o[3],gradientUnits:"userSpaceOnUse"}),s==="radialGradient"&&h&&!_t(o.gradientUnits)&&(o=xt(o,{cx:h[0]-h[2]/2+o.cx*h[2],cy:h[1]-h[2]/2+o.cy*h[2],r:o.r*h[2],gradientUnits:"userSpaceOnUse"}));for(p in o)p!=="id"&&v.push(p,o[p]);for(p in f)v.push(f[p]);v=v.join(","),u[v]?d=u[v].attr("id"):(o.id=d=W+L++,u[v]=a=r.createElement(s).attr(o).add(r.defs),a.stops=[],on(f,function(e){var t;e[1].indexOf("rgba")===0?(i=Tn(e[1]),l=i.get("rgb"),c=i.get("a")):(l=e[1],c=1),t=r.createElement("stop").attr({offset:e[0],"stop-color":l,"stop-opacity":c}).add(a),a.stops.push(t)})),n.setAttribute(t,"url("+r.url+"#"+d+")")}},applyTextShadow:function(t){var n=this.element,r,i=t.indexOf("contrast")!==-1,s=this.renderer.forExport||n.style.textShadow!==e&&!m;i&&(t=t.replace(/contrast/g,this.renderer.getContrast(n.style.fill))),s?i&&Bt(n,{textShadow:t}):(this.fakeTS=!0,this.ySetter=this.xSetter,r=[].slice.call(n.getElementsByTagName("tspan")),on(t.split(/\s?,\s?/g),function(e){var t=n.firstChild,i,s;e=e.split(" "),i=e[e.length-1],s=e[e.length-2],s&&on(r,function(e,r){var o;r===0&&(e.setAttribute("x",n.getAttribute("x")),r=n.getAttribute("y"),e.setAttribute("y",r||0),r===null&&n.setAttribute("y",0)),o=e.cloneNode(1),Dt(o,{"class":W+"text-shadow",fill:i,stroke:i,"stroke-opacity":1/u(Tt(s),3),"stroke-width":s,"stroke-linejoin":"round"}),n.insertBefore(o,t)})}))},attr:function(t,n){var r,i,s=this.element,o,u=this,a;typeof t=="string"&&n!==e&&(r=t,t={},t[r]=n);if(typeof t=="string")u=(this[t+"Getter"]||this._defaultGetter).call(this,t,s);else{for(r in t)i=t[r],a=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/
.test(r)&&(o||(this.symbolAttr(t),o=!0),a=!0),this.rotation&&(r==="x"||r==="y")&&(this.doTransform=!0),a||(this[r+"Setter"]||this._defaultSetter).call(this,i,r,s),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(r)&&this.updateShadows(r,i);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return u},updateShadows:function(e,t){var n=this.shadows,r=n.length;while(r--)n[r].setAttribute(e,e==="height"?u(t-(n[r].cutHeight||0),0):e==="d"?this.d:t)},addClass:function(e){var t=this.element,n=Dt(t,"class")||"";return n.indexOf(e)===-1&&Dt(t,"class",n+" "+e),this},symbolAttr:function(e){var t=this;on(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(n){t[n]=Ht(e[n],t[n])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":$)},crisp:function(e){var t=this,n,r={},o,u=e.strokeWidth||t.strokeWidth||0;o=i(u)%2/2,e.x=s(e.x||t.x||0)+o,e.y=s(e.y||t.y||0)+o,e.width=s((e.width||t.width||0)-2*o),e.height=s((e.height||t.height||0)-2*o),e.strokeWidth=u;for(n in e)t[n]!==e[n]&&(t[n]=r[n]=e[n]);return r},css:function(e){var t=this,n=t.styles,r={},i=t.element,s,o,u="",a,f=!n;e&&e.color&&(e.fill=e.color);if(n)for(o in e)e[o]!==n[o]&&(r[o]=e[o],f=!0);if(f){s=t.textWidth=e&&e.width&&i.nodeName.toLowerCase()==="text"&&Tt(e.width)||t.textWidth,n&&(e=St(n,r)),t.styles=e,s&&(T||!S&&t.renderer.forExport)&&delete e.width;if(m&&!S)Bt(t.element,e);else{a=function(e,t){return"-"+t.toLowerCase()};for(o in e)u+=o.replace(/([A-Z])/g,a)+":"+e[o]+";";Dt(i,"style",u)}s&&t.added&&t.renderer.buildText(t)}return t},on:function(e,t){var n=this,r=n.element;return C&&e==="click"?(r.ontouchstart=function(e){n.touchEventFired=rt.now(),e.preventDefault(),t.call(r,e)},r.onclick=function(e){(d.indexOf("Android")===-1||rt.now()-(n.touchEventFired||0)>1100)&&t.call(r,e)}):r["on"+e]=t,this},setRadialReference:function(e){return this.element.radialReference=e,this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){var e=this;return e.inverted=!0,e.updateTransform(),e},updateTransform:function(){var e=this,t=e.translateX||0,n=e.translateY||0,r=e.scaleX,i=e.scaleY,s=e.inverted,o=e.rotation,u=e.element,a;s&&(t+=e.attr("width"),n+=e.attr("height")),a=["translate("+t+","+n+")"],s?a.push("rotate(90) scale(-1,1)"):o&&a.push("rotate("+o+" "+(u.getAttribute("x")||0)+" "+(u.getAttribute("y")||0)+")"),(_t(r)||_t(i))&&a.push("scale("+Ht(r,1)+" "+Ht(i,1)+")"),a.length&&u.setAttribute("transform",a.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,n){var r,s,o,u,a={},f,l=this.renderer,c=l.alignedObjects;if(e){this.alignOptions=e,this.alignByTranslate=t;if(!n||Nt(n))this.alignTo=f=n||"renderer",Mt(c,this),c.push(this),n=null}else e=this.alignOptions,t=this.alignByTranslate,f=this.alignTo;n=Ht(n,l[f],l),r=e.align,s=e.verticalAlign,o=(n.x||0)+(e.x||0),u=(n.y||0)+(e.y||0);if(r==="right"||r==="center")o+=(n.width-(e.width||0))/{right:1,center:2}[r];a[t?"translateX":"x"]=i(o);if(s==="bottom"||s==="middle")u+=(n.height-(e.height||0))/({bottom:1,middle:2}[s]||1);return a[t?"translateY":"y"]=i(u),this[this.placed?"animate":"attr"](a),this.placed=!0,this.alignAttr=a,this},getBBox:function(t){var n=this,r,i=n.renderer,s,o,u=n.rotation,a=n.element,h=n.styles,d=u*p,v=n.textStr,g,y=a.style,w,S;v!==e&&(S=["",u||0,h&&h.fontSize,a.style.width].join(","),v===""||Q.test(v)?S="num:"+v.toString().length+S:S=v+S),S&&!t&&(r=i.cache[S]);if(!r){if(a.namespaceURI===E||i.forExport){try{w=this.fakeTS&&function(e){on(a.querySelectorAll("."+W+"text-shadow"),function(t){t.style.display=e})},b&&y.textShadow?(g=y.textShadow,y.textShadow=""):w&&w($),r=a.getBBox?St({},a.getBBox()):{width:a.offsetWidth,height:a.offsetHeight},g?y.textShadow=g:w&&w("")}catch(x){}if(!r||r.width<0)r={width:0,height:0}}else r=n.htmlGetBBox();i.isSVG&&(s=r.width,o=r.height,m&&h&&h.fontSize==="11px"&&o.toPrecision(3)==="16.9"&&(r.height=o=14),u&&(r.width=f(o*c(d))+f(s*l(d)),r.height=f(o*l(d))+f(s*c(d)))),i.cache[S]=r}return r},show:function(e){return e&&this.element.namespaceURI===E?this.element.removeAttribute("visibility"):this.attr({visibility:e?"inherit":X}),this},hide:function(){return this.attr({visibility:z})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.attr({y:-9999})}})},add:function(e){var t=this.renderer,n=this.element,r;e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,this.textStr!==undefined&&t.buildText(this),this.added=!0;if(!e||e.handleZ||this.zIndex)r=this.zIndexSetter();return r||(e?e.element:t.box).appendChild(n),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e=this,t=e.element||{},n=e.shadows,r=e.renderer.isSVG&&t.nodeName==="SPAN"&&e.parentGroup,i,s,o;t.onclick=t.onmouseout=t.onmouseover=t.onmousemove=t.point=null,vn(e),e.clipPath&&(e.clipPath=e.clipPath.destroy());if(e.stops){for(o=0;o<e.stops.length;o++)e.stops[o]=e.stops[o].destroy();e.stops=null}e.safeRemoveChild(t),n&&on(n,function(t){e.safeRemoveChild(t)});while(r&&r.div&&r.div.childNodes.length===0)i=r.parentGroup,e.safeRemoveChild(r.div),delete r.div,r=i;e.alignTo&&Mt(e.renderer.alignedObjects,e);for(s in e)delete e[s];return null},shadow:function(e,t,n){var r=[],i,s,o=this.element,a,f,l,c;if(e){f=Ht(e.width,3),l=(e.opacity||.15)/f,c=this.parentInverted?"(-1,-1)":"("+Ht(e.offsetX,1)+", "+Ht(e.offsetY,1)+")";for(i=1;i<=f;i++)s=o.cloneNode(0),a=f*2+1-2*i,Dt(s,{isShadow:"true",stroke:e.color||"black","stroke-opacity":l*i,"stroke-width":a,transform:"translate"+c,fill:$}),n&&(Dt(s,"height",u(Dt(s,"height")-a,0)),s.cutHeight=a),t?t.element.appendChild(s):o.parentNode.insertBefore(s,o),r.push(s);this.shadows=r}return this},xGetter:function(e){return this.element.nodeName==="circle"&&(e={x:"cx",y:"cy"}[e]||e),this._defaultGetter(e)},_defaultGetter:function(e){var t=Ht(this[e],this.element?this.element.getAttribute(e):null,0);return/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(e,t,n){e&&e.join&&(e=e.join(" ")),/(NaN| {2}|^$)/.test(e)&&(e="M 0 0"),n.setAttribute(t,e),this[t]=e},dashstyleSetter:function(e){var t;e=e&&e.toLowerCase();if(e){e=e.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),t=e.length;while(t--)e[t]=Tt(e[t])*this["stroke-width"];e=e.join(",").replace("NaN","none"),this.element.setAttribute("stroke-dasharray",e)}},alignSetter:function(e){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[e])},opacitySetter:function(e,t,n){this[t]=e,n.setAttribute(t,e)},titleSetter:function(e){var n=this.element.getElementsByTagName("title")[0];n||(n=t.createElementNS(E,"title"),this.element.appendChild(n)),n.textContent=String(Ht(e),"").replace(/<[^>]*>/g,"")},textSetter:function(e){e!==this.textStr&&(delete this.bBox,this.textStr=e,this.added&&this.renderer.buildText(this))},fillSetter:function(e,t,n){typeof e=="string"?n.setAttribute(t,e):e&&this.colorGradient(e,t,n)},zIndexSetter:function(e,t){var n=this.renderer,r=this.parentGroup,i=r||n,s=i.element||n.box,o,u,a,f=this.element,l,c=this.added,h;_t(e)&&(f.setAttribute(t,e),e=+e,this[t]===e&&(c=!1),this[t]=e);if(c){e=this.zIndex,e&&r&&(r.handleZ=!0),o=s.childNodes;for(h=0;h<o.length&&!l;h++)u=o[h],a=Dt(u,"zIndex"),u!==f&&(Tt(a)>e||!_t(e)&&_t(a))&&(s.insertBefore(f,u),l=!0);l||s.appendChild(f)}return l},_defaultSetter:function(e,t,n){n.setAttribute(t,e)}},Nn.prototype.yGetter=Nn.prototype.xGetter,Nn.prototype.translateXSetter=Nn.prototype.translateYSetter=Nn.prototype.rotationSetter=Nn.prototype.verticalAlignSetter=Nn.prototype.scaleXSetter=Nn.prototype.scaleYSetter=function(e,t){this[t]=e,this.doTransform=!0},Nn.prototype["stroke-widthSetter"]=Nn.prototype.strokeSetter=function(e,t,n){this[t]=e,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],Nn.prototype.fillSetter.call(this,this.stroke,"stroke",n),n.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):t==="stroke-width"&&e===0&&this.hasStroke&&(n.removeAttribute("stroke"),this.hasStroke=!1)};var Cn=function(){this.init.apply(this,arguments)};Cn.prototype={Element:Nn,init:function(e,r,i,s,u){var a=this,f=location,l,c,h;l=a.createElement("svg").attr({version:"1.1"}).css(this.getStyle(s)),c=l.element,e.appendChild(c),e.innerHTML.indexOf("xmlns")===-1&&Dt(c,"xmlns",E),a.isSVG=!0,a.box=c,a.boxWrapper=l,a.alignedObjects=[],a.url=(b||y)&&t.getElementsByTagName("base").length?f.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",h=this.createElement("desc").add(),h.element.appendChild(t.createTextNode("Created with "+F+" "+I)),a.defs=this.createElement("defs").add(),a.forExport=u,a.gradients={},a.cache={},a.setSize(r,i,!1);var p,d;b&&e.getBoundingClientRect&&(a.subPixelFix=p=function(){Bt(e,{left:0,top:0}),d=e.getBoundingClientRect(),Bt(e,{left:o(d.left)-d.left+V,top:o(d.top)-d.top+V})},p(),ln(n,"resize",p))},getStyle:function(e){return this.style=St({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},e)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this,t=e.defs;return e.box=null,e.boxWrapper=e.boxWrapper.destroy(),Kt(e.gradients||{}),e.gradients=null,t&&(e.defs=t.destroy()),e.subPixelFix&&cn(n,"resize",e.subPixelFix),e.alignedObjects=null,null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:function(){},buildText:function(e){var n=e.element,r=this,i=r.forExport,s=Ht(e.textStr,"").toString(),u=s.indexOf("<")!==-1,a,f=n.childNodes,l,c,h=Dt(n,"x"),p=e.styles,d=e.textWidth,v=p&&p.lineHeight,m=p&&p.textShadow,g=p&&p.textOverflow==="ellipsis",y=f.length,b=d&&!e.added&&this.box,w=function(e){return v?Tt(v):r.fontMetrics(/(px|em)$/.test(e&&e.style.fontSize)?e.style.fontSize:p&&p.fontSize||r.style.fontSize||12,e).h},x=function(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">")};while(y--)n.removeChild(f[y]);if(!u&&!m&&!g&&s.indexOf(" ")===-1){n.appendChild(t.createTextNode(x(s)));return}l=/<.*style="([^"]+)".*>/,c=/<.*href="(http[^"]+)".*>/,b&&b.appendChild(n),u?a=s.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):a=[s],a[a.length-1]===""&&a.pop(),on(a,function(s,u){var a,f=0;s=s.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),a=s.split("|||"),on(a,function(s){if(s!==""||a.length===1){var v={},m=t.createElementNS(E,"tspan"),y;l.test(s)&&(y=s.match(l)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),Dt(m,"style",y)),c.test(s)&&!i&&(Dt(m,"onclick",'location.href="'+s.match(c)[1]+'"'),Bt(m,{cursor:"pointer"})),s=x(s.replace(/<(.|\n)*?>/g,"")||" ");if(s!==" "){m.appendChild(t.createTextNode(s)),f?v.dx=0:u&&h!==null&&(v.x=h),Dt(m,v),n.appendChild(m),!f&&u&&(!S&&i&&Bt(m,{display:"block"}),Dt(m,"dy",w(m)));if(d){var b=s.replace(/([^\^])-/g,"$1- ").split(" "),T=a.length>1||u||b.length>1&&p.whiteSpace!=="nowrap",N,C,k,L=[],A=w(m),O=1,M=e.rotation,_=s,D=_.length,P;while((T||g)&&(b.length||L.length))e.rotation=0,P=e.getBBox(!0),k=P.width,!S&&r.forExport&&(k=r.measureSpanWidth(m.firstChild.data,e.styles)),N=k>d,C===undefined&&(C=N),g&&C?(D/=2,_===""||!N&&D<.5?b=[]:(N&&(C=!0),_=s.substring(0,_.length+(N?-1:1)*o(D)),b=[_+"…"],m.removeChild(m.firstChild))):!N||b.length===1?(b=L,L=[],b.length&&(O++,m=t.createElementNS(E,"tspan"),Dt(m,{dy:A,x:h}),y&&Dt(m,"style",y),n.appendChild(m)),k>d&&(d=k)):(m.removeChild(m.firstChild),L.unshift(b.pop())),b.length&&m.appendChild(t.createTextNode(b.join(" ").replace(/- /g,"-")));C&&e.attr("title",e.textStr),e.rotation=M}f++}}})}),b&&b.removeChild(n),m&&e.applyTextShadow&&e.applyTextShadow(m)},getContrast:function(e){return e=Tn(e).rgba,e[0]+e[1]+e[2]>384?"#000":"#FFF"},button:function(e,t,n,r,i,s,o,u,a){var f=this.label(e,t,n,a,null,null,null,null,"button"),l=0,c,h,p,d,v,g,y={x1:0,y1:0,x2:0,y2:1};return i=xt({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:y,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},i),p=i.style,delete i.style,s=xt(i,{stroke:"#68A",fill:{linearGradient:y,stops:[[0,"#FFF"],[1,"#ACF"]]}},s),d=s.style,delete s.style,o=xt(i,{stroke:"#68A",fill:{linearGradient:y,stops:[[0,"#9BD"],[1,"#CDF"]]}},o),v=o.style,delete o.style,u=xt(i,{style:{color:"#CCC"}},u),g=u.style,delete u.style,ln(f.element,m?"mouseover":"mouseenter",function(){l!==3&&f.attr(s).css(d)}),ln(f.element,m?"mouseout":"mouseleave",function(){l!==3&&(c=[i,s,o][l],h=[p,d,v][l],f.attr(c).css(h))}),f.setState=function(e){f.state=l=e,e?e===2?f.attr(o).css(v):e===3&&f.attr(u).css(g):f.attr(i).css(p)},f.on("click",function(){l!==3&&r.call(f)}).attr(i).css(St({cursor:"default"},p))},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=i(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=i(e[2])+t%2/2),e},path:function(e){var t={fill:$};return kt(e)?t.d=e:Ct(e)&&St(t,e),this.createElement("path").attr(t)},circle:function(e,t,n){var r=Ct(e)?e:{x:e,y:t,r:n},i=this.createElement("circle");return i.xSetter=function(e){this.element.setAttribute("cx",e)},i.ySetter=function(e){this.element.setAttribute("cy",e)},i.attr(r)},arc:function(e,t,n,r,i,s){var o;return Ct(e)&&(t=e.y,n=e.r,r=e.innerR,i=e.start,s=e.end,e=e.x),o=this.symbol("arc",e||0,t||0,n||0,n||0,{innerR:r||0,start:i||0,end:s||0}),o.r=n,o},rect:function(t,n,r,i,s,o){s=Ct(t)?t.r:s;var a=this.createElement("rect"),f=Ct(t)?t:t===e?{}:{x:t,y:n,width:u(r,0),height:u(i,0)};return o!==e&&(f.strokeWidth=o,f=a.crisp(f)),s&&(f.r=s),a.rSetter=function(e){Dt(this.element,{rx:e,ry:e})},a.attr(f)},setSize:function(e,t,n){var r=this,i=r.alignedObjects,s=i.length;r.width=e,r.height=t,r.boxWrapper[Ht(n,!0)?"animate":"attr"]({width:e,height:t});while(s--)i[s].align()},g:function(e){var t=this.createElement("g");return _t(e)?t.attr({"class":W+e}):t},image:function(e,t,n,r,i){var s={preserveAspectRatio:$},o;return arguments.length>1&&St(s,{x:t,y:n,width:r,height:i}),o=this.createElement("image").attr(s),o.element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):o.element.setAttribute("hc-svg-href",e),o},symbol:function(e,t,n,r,s,o){var u,a=this.symbols[e],f=a&&a(i(t),i(n),r,s,o),l,c=/^url\((.*?)\)$/,h,p,d;return f?(u=this.path(f),St(u,{symbolName:e,x:t,y:n,width:r,height:s}),o&&St(u,o)):c.test(e)&&(d=function(e,t){e.element&&(e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(i((r-t[0])/2),i((s-t[1])/2)))},h=e.match(c)[1],p=k[h]||o&&o.width&&o.height&&[o.width,o.height],u=this.image(h).attr({x:t,y:n}),u.isImg=!0,p?d(u,p):(u.attr({width:0,height:0}),l=jt("img",{onload:function(){d(u,k[h]=[this.width,this.height])},src:h}))),u},symbols:{circle:function(e,t,n,r){var i=.166*n;return[J,e+n/2,t,"C",e+n+i,t,e+n+i,t+r,e+n/2,t+r,"C",e-i,t+r,e-i,t,e+n/2,t,"Z"]},square:function(e,t,n,r){return[J,e,t,K,e+n,t,e+n,t+r,e,t+r,"Z"]},triangle:function(e,t,n,r){return[J,e+n/2,t,K,e+n,t+r,e,t+r,"Z"]},"triangle-down":function(e,t,n,r){return[J,e,t,K,e+n,t,e+n/2,t+r,"Z"]},diamond:function(e,t,n,r){return[J,e+n/2,t,K,e+n,t+r/2,e+n/2,t+r,e,t+r/2,"Z"]},arc:function(e,t,n,r,i){var s=i.start,o=i.r||n||r,u=i.end-.001,a=i.innerR,f=i.open,p=l(s),d=c(s),v=l(u),m=c(u),g=i.end-s<h?0:1;return[J,e+o*p,t+o*d,"A",o,o,0,g,1,e+o*v,t+o*m,f?J:K,e+a*v,t+a*m,"A",a,a,0,g,0,e+a*p,t+a*d,f?"":"Z"]},callout:function(e,t,n,r,s){var o=6,u=6,f=a(s&&s.r||0,n,r),l=f+u,c=s&&s.anchorX,h=s&&s.anchorY,p,d=i(s.strokeWidth||0)%2/2;return e+=d,t+=d,p=["M",e+f,t,"L",e+n-f,t,"C",e+n,t,e+n,t,e+n,t+f,"L",e+n,t+r-f,"C",e+n,t+r,e+n,t+r,e+n-f,t+r,"L",e+f,t+r,"C",e,t+r,e,t+r,e,t+r-f,"L",e,t+f,"C",e,t,e,t,e+f,t],c&&c>n&&h>t+l&&h<t+r-l?p.splice(13,3,"L",e+n,h-u,e+n+o,h,e+n,h+u,e+n,t+r-f):c&&c<0&&h>t+l&&h<t+r-l?p.splice(33,3,"L",e,h+u,e-o,h,e,h-u,e,t+f):h&&h>r&&c>e+l&&c<e+n-l?p.splice(23,3,"L",c+u,t+r,c,t+r+o,c-u,t+r,e+f,t+r):h&&h<0&&c>e+l&&c<e+n-l&&p.splice(3,3,"L",c-u,t,c,t-o,c+u,t,n-f,t),p}},clipRect:function(e,t,n,r){var i,s=W+L++,o=this.createElement("clipPath").attr({id:s}).add(this.defs);return i=this.rect(e,t,n,r,0).add(o),i.id=s,i.clipPath=o,i.count=0,i},text:function(e,t,n,r){var i=this,s=T||!S&&i.forExport,o,u={};if(r&&!i.forExport)return i.html(e,t,n);u.x=Math.round(t||0),n&&(u.y=Math.round(n));if(e||e===0)u.text=e;return o=i.createElement("text").attr(u),s&&o.css({position:R}),r||(o.xSetter=function(e,t,n){var r=n.getElementsByTagName("tspan"),i,s=n.getAttribute(t),o;for(o=0;o<r.length;o++)i=r[o],i.getAttribute(t)===s&&i.setAttribute(t,e);n.setAttribute(t,e)}),o},fontMetrics:function(e,t){e=e||this.style.fontSize,t&&n.getComputedStyle&&(t=t.element||t,e=n.getComputedStyle(t,"").fontSize),e=/px/.test(e)?Tt(e):/em/.test(e)?parseFloat(e)*12:12;var r=e<24?e+3:i(e*1.2),s=i(r*.8);return{h:r,b:s,f:e}},rotCorr:function(e,t,n){var r=e;return t&&n&&(r=u(r*l(t*p),4)),{x:-e/3*c(t*p),y:r}},label:function(t,n,r,s,o,u,a,f,l){function k(){var e,t,n=p.element.style;v=(b===undefined||w===undefined||h.styles.textAlign)&&_t(p.textStr)&&p.getBBox(),h.width=(b||v.width||0)+2*g+y,h.height=(w||v.height||0)+2*g,N=g+c.fontMetrics(n&&n.fontSize,p).b,C&&(d||(e=i(-m*g),t=f?-N:0,h.box=d=s?c.symbol(s,e,t,h.width,h.height,T):c.rect(e,t,h.width,h.height,0,T[nt]),d.attr("fill",$).add(h)),d.isImg||d.attr(St({width:i(h.width),height:i(h.height)},T)),T=null)}function L(){var t=h.styles,n=t&&t.textAlign,r=y+g*(1-m),i;i=f?0:N,_t(b)&&v&&(n==="center"||n==="right")&&(r+={center:.5,right:1}[n]*(b-v.width));if(r!==p.x||i!==p.y)p.attr("x",r),i!==e&&p.attr(p.element.nodeName==="SPAN"?"y":"translateY",i);p.x=r,p.y=i}function A(e,t){d?d.attr(e,t):T[e]=t}var c=this,h=c.g(l),p=c.text("",0,0,a).attr({zIndex:1}),d,v,m=0,g=3,y=0,b,w,E,S,x=0,T={},N,C;h.onAdd=function(){p.add(h),h.attr({text:t||t===0?t:"",x:n,y:r}),d&&_t(o)&&h.attr({anchorX:o,anchorY:u})},h.widthSetter=function(e){b=e},h.heightSetter=function(e){w=e},h.paddingSetter=function(e){_t(e)&&e!==g&&(g=h.padding=e,L())},h.paddingLeftSetter=function(e){_t(e)&&e!==y&&(y=e,L())},h.alignSetter=function(e){m={left:0,center:.5,right:1}[e]},h.textSetter=function(t){t!==e&&p.textSetter(t),k(),L()},h["stroke-widthSetter"]=function(e,t){e&&(C=!0),x=e%2/2,A(t,e)},h.strokeSetter=h.fillSetter=h.rSetter=function(e,t){t==="fill"&&e&&(C=!0),A(t,e)},h.anchorXSetter=function(e,t){o=e,A(t,e+x-E)},h.anchorYSetter=function(e,t){u=e,A(t,e-S)},h.xSetter=function(e){h.x=e,m&&(e-=m*((b||v.width)+g)),E=i(e),h.attr("translateX",E)},h.ySetter=function(e){S=h.y=i(e),h.attr("translateY",S)};var O=h.css;return St(h,{css:function(t){if(t){var n={};t=xt(t),on(h.textProps,function(r){t[r]!==e&&(n[r]=t[r],delete t[r])}),p.css(n)}return O.call(h,t)},getBBox:function(){return{width:v.width+2*g,height:v.height+2*g,x:v.x-g,y:v.y-g}},shadow:function(e){return d&&d.shadow(e),h},destroy:function(){cn(h.element,"mouseenter"),cn(h.element,"mouseleave"),p&&(p=p.destroy()),d&&(d=d.destroy()),Nn.prototype.destroy.call(h),h=c=k=L=A=null}})}},N=Cn,St(Nn.prototype,{htmlCss:function(e){var t=this,n=t.element,r=e&&n.tagName==="SPAN"&&e.width;return r&&(delete e.width,t.textWidth=r,t.updateTransform()),e&&e.textOverflow==="ellipsis"&&(e.whiteSpace="nowrap",e.overflow="hidden"),t.styles=St(t.styles,e),Bt(t.element,e),t},htmlGetBBox:function(){var e=this,t=e.element;return t.nodeName==="text"&&(t.style.position=R),{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(!this.added){this.alignOnAdd=!0;return}var e=this,t=e.renderer,n=e.element,r=e.translateX||0,i=e.translateY||0,s=e.x||0,o=e.y||0,u=e.textAlign||"left",a={left:0,center:.5,right:1}[u],f=e.shadows,l=e.styles;Bt(n,{marginLeft:r,marginTop:i}),f&&on(f,function(e){Bt(e,{marginLeft:r+1,marginTop:i+1})}),e.inverted&&on(n.childNodes,function(e){t.invertChild(e,n)});if(n.tagName==="SPAN"){var c,h=e.rotation,p,d=Tt(e.textWidth),v=[h,u,n.innerHTML,e.textWidth].join(",");v!==e.cTT&&(p=t.fontMetrics(n.style.fontSize).b,_t(h)&&e.setSpanRotation(h,a,p),c=Ht(e.elemWidth,n.offsetWidth),c>d&&/[ \-]/.test(n.textContent||n.innerText)&&(Bt(n,{width:d+V,display:"block",whiteSpace:l&&l.whiteSpace||"normal"}),c=d),e.getSpanCorrection(c,p,a,h,u)),Bt(n,{left:s+(e.xCorr||0)+V,top:o+(e.yCorr||0)+V}),y&&(p=n.offsetHeight),e.cTT=v}},setSpanRotation:function(e,t,n){var r={},i=m?"-ms-transform":y?"-webkit-transform":b?"MozTransform":v?"-o-transform":"";r[i]=r.transform="rotate("+e+"deg)",r[i+(b?"Origin":"-origin")]=r.transformOrigin=t*100+"% "+n+"px",Bt(this.element,r)},getSpanCorrection:function(e,t,n){this.xCorr=-e*n,this.yCorr=-t}}),St(Cn.prototype,{html:function(e,t,n){var r=this.createElement("span"),s=r.element,o=r.renderer;return r.textSetter=function(e){e!==s.innerHTML&&delete this.bBox,s.innerHTML=this.textStr=e},r.xSetter=r.ySetter=r.alignSetter=r.rotationSetter=function(e,t){t==="align"&&(t="textAlign"),r[t]=e,r.htmlUpdateTransform()},r.attr({text:e,x:i(t),y:i(n)}).css({position:R,fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),s.style.whiteSpace="nowrap",r.css=r.htmlCss,o.isSVG&&(r.add=function(e){var t,n=o.box.parentNode,i,u=[];this.parentGroup=e;if(e){t=e.div;if(!t){i=e;while(i)u.push(i),i=i.parentGroup;on(u.reverse(),function(e){var r;t=e.div=e.div||jt(q,{className:Dt(e.element,"class")},{position:R,left:(e.translateX||0)+V,top:(e.translateY||0)+V},t||n),r=t.style,St(e,{translateXSetter:function(t,n){r.left=t+V,e[n]=t,e.doTransform=!0},translateYSetter:function(t,n){r.top=t+V,e[n]=t,e.doTransform=!0},visibilitySetter:function(e,t){r[t]=e}})})}}else t=n;return t.appendChild(s),r.added=!0,r.alignOnAdd&&r.htmlUpdateTransform(),r}),r}});var kn,Ln;if(!S&&!T){Ln={init:function(e,t){var n=this,r=["<",t,' filled="f" stroked="f"'],i=["position: ",R,";"],s=t===q;(t==="shape"||s)&&i.push("left:0;top:0;width:1px;height:1px;"),i.push("visibility: ",s?z:X),r.push(' style="',i.join(""),'"/>'),t&&(r=s||t==="span"||t==="img"?r.join(""):e.prepVML(r),n.element=jt(r)),n.renderer=e},add:function(e){var t=this,n=t.renderer,r=t.element,i=n.box,s=e&&e.inverted,o=e?e.element||e:i;return s&&n.invertChild(r,o),o.appendChild(r),t.added=!0,t.alignOnAdd&&!t.deferUpdateTransform&&t.updateTransform(),t.onAdd&&t.onAdd(),t},updateTransform:Nn.prototype.htmlUpdateTransform,setSpanRotation:function(){var e=this.rotation,t=l(e*p),n=c(e*p);Bt(this.element,{filter:e?["progid:DXImageTransform.Microsoft.Matrix(M11=",t,", M12=",-n,", M21=",n,", M22=",t,", sizingMethod='auto expand')"].join(""):$})},getSpanCorrection:function(e,t,n,r,i){var s=r?l(r*p):1,o=r?c(r*p):0,u=Ht(this.elemHeight,this.element.offsetHeight),a,f=i&&i!=="left";this.xCorr=s<0&&-e,this.yCorr=o<0&&-u,a=s*o<0,this.xCorr+=o*t*(a?1-n:n),this.yCorr-=s*t*(r?a?n:1-n:1),f&&(this.xCorr-=e*n*(s<0?-1:1),r&&(this.yCorr-=u*n*(o<0?-1:1)),Bt(this.element,{textAlign:i}))},pathToVML:function(e){var t=e.length,n=[];while(t--)Lt(e[t])?n[t]=i(e[t]*10)-5:e[t]==="Z"?n[t]="x":(n[t]=e[t],e.isArc&&(e[t]==="wa"||e[t]==="at")&&(n[t+5]===n[t+7]&&(n[t+7]+=e[t+7]>e[t+5]?1:-1),n[t+6]===n[t+8]&&(n[t+8]+=e[t+8]>e[t+6]?1:-1)));return n.join(" ")||"x"},clip:function(e){var t=this,n,r;return e?(n=e.members,Mt(n,t),n.push(t),t.destroyClip=function(){Mt(n,t)},r=e.getCSS(t)):(t.destroyClip&&t.destroyClip(),r={clip:g?"inherit":"rect(auto)"}),t.css(r)},css:Nn.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&Qt(e)},destroy:function(){return this.destroyClip&&this.destroyClip(),Nn.prototype.destroy.apply(this)},on:function(e,t){return this.element["on"+e]=function(){var e=n.event;e.target=e.srcElement,t(e)},this},cutOffPath:function(e,t){var n;e=e.split(/[ ,]/),n=e.length;if(n===9||n===11)e[n-4]=e[n-2]=Tt(e[n-2])-10*t;return e.join(" ")},shadow:function(e,t,n){var r=[],i,s=this.element,o=this.renderer,u,a=s.style,f,l=s.path,c,h,p,d;l&&typeof l.value!="string"&&(l="x"),h=l;if(e){p=Ht(e.width,3),d=(e.opacity||.15)/p;for(i=1;i<=3;i++)c=p*2+1-2*i,n&&(h=this.cutOffPath(l.value,c+.5)),f=['<shape isShadow="true" strokeweight="',c,'" filled="false" path="',h,'" coordsize="10 10" style="',s.style.cssText,'" />'],u=jt(o.prepVML(f),null,{left:Tt(a.left)+Ht(e.offsetX,1),top:Tt(a.top)+Ht(e.offsetY,1)}),n&&(u.cutOff=c+1),f=['<stroke color="',e.color||"black",'" opacity="',d*i,'"/>'],jt(o.prepVML(f),null,null,u),t?t.element.appendChild(u):s.parentNode.insertBefore(u,s),r.push(u);this.shadows=r}return this},updateShadows:H,setAttr:function(e,t){g?this.element[e]=t:this.element.setAttribute(e,t)},classSetter:function(e){this.element.className=e},dashstyleSetter:function(e,t,n){var r=n.getElementsByTagName("stroke")[0]||jt(this.renderer.prepVML(["<stroke/>"]),null,null,n);r[t]=e||"solid",this[t]=e},dSetter:function(e,t,n){var r,i=this.shadows;e=e||[],this.d=e.join&&e.join(" "),n.path=e=this.pathToVML(e);if(i){r=i.length;while(r--)i[r].path=i[r].cutOff?this.cutOffPath(e,i[r].cutOff):e}this.setAttr(t,e)},fillSetter:function(e,t,n){var r=n.nodeName;r==="SPAN"?n.style.color=e:r!=="IMG"&&(n.filled=e!==$,this.setAttr("fillcolor",this.renderer.color(e,n,t,this)))},opacitySetter:H,rotationSetter:function(e,t,n){var r=n.style;this[t]=r[t]=e,r.left=-i(c(e*p)+1)+V,r.top=i(l(e*p))+V},strokeSetter:function(e,t,n){this.setAttr("strokecolor",this.renderer.color(e,n,t))},"stroke-widthSetter":function(e,t,n){n.stroked=!!e,this[t]=e,Lt(e)&&(e+=V),this.setAttr("strokeweight",e)},titleSetter:function(e,t){this.setAttr(t,e)},visibilitySetter:function(e,t,n){e==="inherit"&&(e=X),this.shadows&&on(this.shadows,function(n){n.style[t]=e}),n.nodeName==="DIV"&&(e=e===z?"-999em":0,g||(n.style[t]=e?X:z),t="top"),n.style[t]=e},xSetter:function(e,t,n){this[t]=e,t==="x"?t="left":t==="y"&&(t="top"),this.updateClipping?(this[t]=e,this.updateClipping()):n.style[t]=e},zIndexSetter:function(e,t,n){n.style[t]=e}},Et.VMLElement=Ln=Ft(Nn,Ln),Ln.prototype.ySetter=Ln.prototype.widthSetter=Ln.prototype.heightSetter=Ln.prototype.xSetter;var An={Element:Ln,isIE8:d.indexOf("MSIE 8.0")>-1,init:function(e,n,r,i){var s=this,o,u,a;s.alignedObjects=[],o=s.createElement(q).css(St(this.getStyle(i),{position:U})),u=o.element,e.appendChild(o.element),s.isVML=!0,s.box=u,s.boxWrapper=o,s.cache={},s.setSize(n,r,!1);if(!t.namespaces.hcv){t.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),a="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ";try{t.createStyleSheet().cssText=a}catch(f){t.styleSheets[0].cssText+=a}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,t,n,r){var s=this.createElement(),o=Ct(e);return St(s,{members:[],count:0,left:(o?e.x:e)+1,top:(o?e.y:t)+1,width:(o?e.width:n)-1,height:(o?e.height:r)-1,getCSS:function(e){var t=e.element,n=t.nodeName,r=n==="shape",s=e.inverted,o=this,u=o.top-(r?t.offsetTop:0),a=o.left,f=a+o.width,l=u+o.height,c={clip:"rect("+i(s?a:u)+"px,"+i(s?l:f)+"px,"+i(s?f:l)+"px,"+i(s?u:a)+"px)"};return!s&&g&&n==="DIV"&&St(c,{width:f+V,height:l+V}),c},updateClipping:function(){on(s.members,function(e){e.element&&e.css(s.getCSS(e))})}})},color:function(e,t,n,i){var s=this,o,u=/^rgba/,a,f,l=$;e&&e.linearGradient?f="gradient":e&&e.radialGradient&&(f="pattern");if(f){var c,p,d=e.linearGradient||e.radialGradient,v,m,g,y,b,w,E,S,x="",T=e.stops,N,C,k=[],L=function(){a=['<fill colors="'+k.join(",")+'" opacity="',w,'" o:opacity2="',b,'" type="',f,'" ',x,'focus="100%" method="any" />'],jt(s.prepVML(a),null,null,t)};N=T[0],C=T[T.length-1],N[0]>0&&T.unshift([0,N[1]]),C[0]<1&&T.push([1,C[1]]),on(T,function(e,t){u.test(e[1])?(o=Tn(e[1]),c=o.get("rgb"),p=o.get("a")):(c=e[1],p=1),k.push(e[0]*100+"% "+c),t?(w=p,E=c):(b=p,S=c)});if(n==="fill")if(f==="gradient")v=d.x1||d[0]||0,m=d.y1||d[1]||0,g=d.x2||d[2]||0,y=d.y2||d[3]||0,x='angle="'+(90-r.atan((y-m)/(g-v))*180/h)+'"',L();else{var A=d.r,M=A*2,_=A*2,D=d.cx,P=d.cy,H=t.radialReference,B,j=function(){H&&(B=i.getBBox(),D+=(H[0]-B.x)/B.width-.5,P+=(H[1]-B.y)/B.height-.5,M*=H[2]/B.width,_*=H[2]/B.height),x='src="'+O.global.VMLRadialGradientURL+'" '+'size="'+M+","+_+'" '+'origin="0.5,0.5" '+'position="'+D+","+P+'" '+'color2="'+S+'" ',L()};i.added?j():i.onAdd=j,l=E}else l=c}else if(u.test(e)&&t.tagName!=="IMG")o=Tn(e),a=["<",n,' opacity="',o.get("a"),'"/>'],jt(this.prepVML(a),null,null,t),l=o.get("rgb");else{var F=t.getElementsByTagName(n);F.length&&(F[0].opacity=1,F[0].type="solid"),l=e}return l},prepVML:function(e){var t="display:inline-block;behavior:url(#default#VML);",n=this.isIE8;return e=e.join(""),n?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e.indexOf('style="')===-1?e=e.replace("/>",' style="'+t+'" />'):e=e.replace('style="','style="'+t)):e=e.replace("<","<hcv:"),e},text:Cn.prototype.html,path:function(e){var t={coordsize:"10 10"};return kt(e)?t.d=e:Ct(e)&&St(t,e),this.createElement("shape").attr(t)},circle:function(e,t,n){var r=this.symbol("circle");return Ct(e)&&(n=e.r,t=e.y,e=e.x),r.isCircle=!0,r.r=n,r.attr({x:e,y:t})},g:function(e){var t,n;return e&&(n={className:W+e,"class":W+e}),t=this.createElement(q).attr(n),t},image:function(e,t,n,r,i){var s=this.createElement("img").attr({src:e});return arguments.length>1&&s.attr({x:t,y:n,width:r,height:i}),s},createElement:function(e){return e==="rect"?this.symbol(e):Cn.prototype.createElement.call(this,e)},invertChild:function(e,t){var n=this,r=t.style,i=e.tagName==="IMG"&&e.style;Bt(e,{flip:"x",left:Tt(r.width)-(i?Tt(i.top):1),top:Tt(r.height)-(i?Tt(i.left):1),rotation:-90}),on(e.childNodes,function(t){n.invertChild(t,e)})},symbols:{arc:function(e,t,n,r,i){var s=i.start,o=i.end,u=i.r||n||r,a=i.innerR,f=l(s),h=c(s),p=l(o),d=c(o),v;return o-s===0?["x"]:(v=["wa",e-u,t-u,e+u,t+u,e+u*f,t+u*h,e+u*p,t+u*d],i.open&&!a&&v.push("e",J,e,t),v.push("at",e-a,t-a,e+a,t+a,e+a*p,t+a*d,e+a*f,t+a*h,"x","e"),v.isArc=!0,v)},circle:function(e,t,n,r,i){return i&&(n=r=2*i.r),i&&i.isCircle&&(e-=n/2,t-=r/2),["wa",e,t,e+n,t+r,e+n,t+r/2,e+n,t+r/2,"e"]},rect:function(e,t,n,r,i){return Cn.prototype.symbols[!_t(i)||!i.r?"square":"callout"].call(0,e,t,n,r,i)}}};Et.VMLRenderer=kn=function(){this.init.apply(this,arguments)},kn.prototype=xt(Cn.prototype,An),N=kn}Cn.prototype.measureSpanWidth=function(e,n){var r=t.createElement("span"),i,s=t.createTextNode(e);return r.appendChild(s),Bt(r,n),this.box.appendChild(r),i=r.offsetWidth,Qt(r),i};var On,Mn;T&&(Et.CanVGRenderer=On=function(){E="http://www.w3.org/1999/xhtml"},On.prototype.symbols={},Mn=function(){function t(){var t=e.length,n;for(n=0;n<t;n++)e[n]();e=[]}var e=[];return{push:function(n,r){e.length===0&&rn(r,t),e.push(n)}}}(),N=On),_n.prototype={addLabel:function(){var e=this,t=e.axis,n=t.options,r=t.chart,i=t.categories,s=t.names,o=e.pos,u=n.labels,a,f=t.tickPositions,l=o===f[0],c=o===f[f.length-1],h=i?Ht(i[o],s[o],o):o,p=e.label,d=f.info,v;t.isDatetimeAxis&&d&&(v=n.dateTimeLabelFormats[d.higherRanks[o]||d.unitName]),e.isFirst=l,e.isLast=c,a=t.labelFormatter.call({axis:t,chart:r,isFirst:l,isLast:c,dateTimeLabelFormat:v,value:t.isLog?Yt(Ot(h)):h}),_t(p)?p&&p.attr({text:a}):(e.label=p=_t(a)&&u.enabled?r.renderer.text(a,0,0,u.useHTML).css(xt(u.style)).add(t.labelGroup):null,e.labelLength=p&&p.getBBox().width,e.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(e){var t=this.axis,n=e.x,r=t.chart.chartWidth,s=t.chart.spacing,o=Ht(t.labelLeft,s[3]),u=Ht(t.labelRight,r-s[1]),a=this.label,f=this.rotation,c={left:0,center:.5,right:1}[t.labelAlign],h=a.getBBox().width,d=t.slotWidth,v,m,g;if(!f){v=n-c*h,m=n+c*h,v<o?(d-=o-v,e.x=o,a.attr({align:"left"})):m>u&&(d-=m-u,e.x=u,a.attr({align:"right"}));if(h>d||t.autoRotation&&a.styles.width)g=d}else f<0&&n-c*h<o?g=i(n/l(f*p)-o):f>0&&n+c*h>u&&(g=i((r-n)/l(f*p)));g&&a.css({width:g,textOverflow:"ellipsis"})},getPosition:function(e,t,n,r){var i=this.axis,s=i.chart,o=r&&s.oldChartHeight||s.chartHeight;return{x:e?i.translate(t+n,null,null,r)+i.transB:i.left+i.offset+(i.opposite?(r&&s.oldChartWidth||s.chartWidth)-i.right-i.left:0),y:e?o-i.bottom+i.offset-(i.opposite?i.height:0):o-i.translate(t+n,null,null,r)-i.transB}},getLabelPosition:function(e,t,n,r,s,o,u,a){var f=this.axis,l=f.transA,c=f.reversed,h=f.staggerLines,p=f.tickRotCorr||{x:0,y:0},d=Ht(s.y,p.y+(f.side===2?8:-(n.getBBox().height/2))),v;return e=e+s.x+p.x-(o&&r?o*l*(c?-1:1):0),t=t+d-(o&&!r?o*l*(c?1:-1):0),h&&(v=u/(a||1)%h,t+=v*(f.labelOffset/h)),{x:e,y:i(t)}},getMarkPath:function(e,t,n,r,i,s){return s.crispLine([J,e,t,K,e+(i?0:-n),t+(i?n:0)],r)},render:function(t,n,r){var i=this,s=i.axis,o=s.options,u=s.chart,a=u.renderer,f=s.horiz,l=i.type,c=i.label,h=i.pos,p=o.labels,d=i.gridLine,v=l?l+"Grid":"grid",m=l?l+"Tick":"tick",g=
o[v+"LineWidth"],y=o[v+"LineColor"],b=o[v+"LineDashStyle"],w=o[m+"Length"],E=o[m+"Width"]||0,S=o[m+"Color"],x=o[m+"Position"],T,N=i.mark,C,k=p.step,L,A=!0,O=s.tickmarkOffset,M=i.getPosition(f,h,O,n),_=M.x,D=M.y,P=f&&_===s.pos+s.len||!f&&D===s.pos?-1:1;r=Ht(r,1),this.isActive=!0,g&&(T=s.getPlotLinePath(h+O,g*P,n,!0),d===e&&(L={stroke:y,"stroke-width":g},b&&(L.dashstyle=b),l||(L.zIndex=1),n&&(L.opacity=0),i.gridLine=d=g?a.path(T).attr(L).add(s.gridGroup):null),!n&&d&&T&&d[i.isNew?"attr":"animate"]({d:T,opacity:r})),E&&w&&(x==="inside"&&(w=-w),s.opposite&&(w=-w),C=i.getMarkPath(_,D,w,E*P,f,a),N?N.animate({d:C,opacity:r}):i.mark=a.path(C).attr({stroke:S,"stroke-width":E,opacity:r}).add(s.axisGroup)),c&&!isNaN(_)&&(c.xy=M=i.getLabelPosition(_,D,c,f,p,O,t,k),i.isFirst&&!i.isLast&&!Ht(o.showFirstLabel,1)||i.isLast&&!i.isFirst&&!Ht(o.showLastLabel,1)?A=!1:f&&!s.isRadial&&!p.step&&!p.rotation&&!n&&r!==0&&i.handleOverflow(M),k&&t%k&&(A=!1),A&&!isNaN(M.y)?(M.opacity=r,c[i.isNew?"attr":"animate"](M),i.isNew=!1):c.attr("y",-9999))},destroy:function(){Kt(this,this.axis)}},Et.PlotLineOrBand=function(e,t){this.axis=e,t&&(this.options=t,this.id=t.id)},Et.PlotLineOrBand.prototype={render:function(){var e=this,t=e.axis,n=t.horiz,r=e.options,i=r.label,s=e.label,o=r.width,u=r.to,a=r.from,f=_t(a)&&_t(u),l=r.value,c=r.dashStyle,h=e.svgElem,p=[],d,v,m,g,y,b,w=r.color,E=r.zIndex,S=r.events,x={},T=t.chart.renderer;t.isLog&&(a=At(a),u=At(u),l=At(l));if(o)p=t.getPlotLinePath(l,o),x={stroke:w,"stroke-width":o},c&&(x.dashstyle=c);else{if(!f)return;p=t.getPlotBandPath(a,u,r),w&&(x.fill=w),r.borderWidth&&(x.stroke=r.borderColor,x["stroke-width"]=r.borderWidth)}_t(E)&&(x.zIndex=E);if(h)p?h.animate({d:p},null,h.onGetPath):(h.hide(),h.onGetPath=function(){h.show()},s&&(e.label=s=s.destroy()));else if(p&&p.length){e.svgElem=h=T.path(p).attr(x).add();if(S){d=function(t){h.on(t,function(n){S[t].apply(e,[n])})};for(v in S)d(v)}}return i&&_t(i.text)&&p&&p.length&&t.width>0&&t.height>0?(i=xt({align:n&&f&&"center",x:n?!f&&4:10,verticalAlign:!n&&f&&"middle",y:n?f?16:10:f?6:-4,rotation:n&&!f&&90},i),s||(x={align:i.textAlign||i.align,rotation:i.rotation},_t(E)&&(x.zIndex=E),e.label=s=T.text(i.text,0,0,i.useHTML).attr(x).css(i.style).add()),m=[p[1],p[4],f?p[6]:p[1]],g=[p[2],p[5],f?p[7]:p[2]],y=$t(m),b=$t(g),s.align(i,!1,{x:y,y:b,width:Jt(m)-y,height:Jt(g)-b}),s.show()):s&&s.hide(),e},destroy:function(){Mt(this.axis.plotLinesAndBands,this),delete this.axis,Kt(this)}},tt={getPlotBandPath:function(e,t){var n=this.getPlotLinePath(t,null,null,!0),r=this.getPlotLinePath(e,null,null,!0);return r&&n&&r.toString()!==n.toString()?r.push(n[4],n[5],n[1],n[2]):r=null,r},addPlotBand:function(e){return this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){return this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(e,t){var n=(new Et.PlotLineOrBand(this,e)).render(),r=this.userOptions;return n&&(t&&(r[t]=r[t]||[],r[t].push(e)),this.plotLinesAndBands.push(n)),n},removePlotBandOrLine:function(e){var t=this.plotLinesAndBands,n=this.options,r=this.userOptions,i=t.length;while(i--)t[i].id===e&&t[i].destroy();on([n.plotLines||[],r.plotLines||[],n.plotBands||[],r.plotBands||[]],function(t){i=t.length;while(i--)t[i].id===e&&Mt(t,t[i])})}};var Dn=Et.Axis=function(){this.init.apply(this,arguments)};Dn.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0,y:15},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return Et.numberFormat(this.total,-1)},style:xt(mn.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0,y:-15},title:{rotation:0}},init:function(t,n){var r=n.isX,i=this;i.horiz=t.inverted?!r:r,i.isXAxis=r,i.coll=r?"xAxis":"yAxis",i.opposite=n.opposite,i.side=n.side||(i.horiz?i.opposite?0:2:i.opposite?1:3),i.setOptions(n);var s=this.options,o=s.type,u=o==="datetime";i.labelFormatter=s.labels.formatter||i.defaultLabelFormatter,i.userOptions=n,i.minPixelPadding=0,i.chart=t,i.reversed=s.reversed,i.zoomEnabled=s.zoomEnabled!==!1,i.categories=s.categories||o==="category",i.names=i.names||[],i.isLog=o==="logarithmic",i.isDatetimeAxis=u,i.isLinked=_t(s.linkedTo),i.ticks={},i.labelEdge=[],i.minorTicks={},i.plotLinesAndBands=[],i.alternateBands={},i.len=0,i.minRange=i.userMinRange=s.minRange||s.maxZoom,i.range=s.range,i.offset=s.offset||0,i.stacks={},i.oldStacks={},i.max=null,i.min=null,i.crosshair=Ht(s.crosshair,Pt(t.options.tooltip.crosshairs)[r?0:1],!1);var a,f=i.options.events;sn(i,t.axes)===-1&&(r&&!this.isColorAxis?t.axes.splice(t.xAxis.length,0,i):t.axes.push(i),t[i.coll].push(i)),i.series=i.series||[],t.inverted&&r&&i.reversed===e&&(i.reversed=!0),i.removePlotBand=i.removePlotBandOrLine,i.removePlotLine=i.removePlotBandOrLine;for(a in f)ln(i,a,f[a]);i.isLog&&(i.val2lin=At,i.lin2val=Ot)},setOptions:function(e){this.options=xt(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],xt(O[this.coll],e))},defaultLabelFormatter:function(){var t=this.axis,n=this.value,r=t.categories,i=this.dateTimeLabelFormat,s=O.lang.numericSymbols,o=s&&s.length,u,a,l=t.options.labels.format,c=t.isLog?n:t.tickInterval;if(l)a=zt(l,this);else if(r)a=n;else if(i)a=M(i,n);else if(o&&c>=1e3)while(o--&&a===e)u=Math.pow(1e3,o+1),c>=u&&s[o]!==null&&(a=Et.numberFormat(n/u,-1)+s[o]);return a===e&&(f(n)>=1e4?a=Et.numberFormat(n,0):a=Et.numberFormat(n,-1,e,"")),a},getSeriesExtremes:function(){var e=this,t=e.chart;e.hasVisibleSeries=!1,e.dataMin=e.dataMax=e.ignoreMinPadding=e.ignoreMaxPadding=null,e.buildStacks&&e.buildStacks(),on(e.series,function(n){if(n.visible||!t.options.chart.ignoreHiddenSeries){var r=n.options,i,s=r.threshold,o,f;e.hasVisibleSeries=!0,e.isLog&&s<=0&&(s=null),e.isXAxis?(i=n.xData,i.length&&(e.dataMin=a(Ht(e.dataMin,i[0]),$t(i)),e.dataMax=u(Ht(e.dataMax,i[0]),Jt(i)))):(n.getExtremes(),f=n.dataMax,o=n.dataMin,_t(o)&&_t(f)&&(e.dataMin=a(Ht(e.dataMin,o),o),e.dataMax=u(Ht(e.dataMax,f),f)),_t(s)&&(e.dataMin>=s?(e.dataMin=s,e.ignoreMinPadding=!0):e.dataMax<s&&(e.dataMax=s,e.ignoreMaxPadding=!0)))}})},translate:function(e,t,n,r,i,s){var o=this,u=1,a=0,f=r?o.oldTransA:o.transA,l=r?o.oldMin:o.min,c,h=o.minPixelPadding,p=(o.doPostTranslate||o.isLog&&i)&&o.lin2val;return f||(f=o.transA),n&&(u*=-1,a=o.len),o.reversed&&(u*=-1,a-=u*(o.sector||o.len)),t?(e=e*u+a,e-=h,c=e/f+l,p&&(c=o.lin2val(c))):(p&&(e=o.val2lin(e)),s==="between"&&(s=.5),c=u*(e-l)*f+a+u*h+(Lt(s)?f*s*o.pointRange:0)),c},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(e,t,n,r,s){var o=this,f=o.chart,l=o.left,c=o.top,h,p,d,v,m=n&&f.oldChartHeight||f.chartHeight,g=n&&f.oldChartWidth||f.chartWidth,y,b=o.transB,w=function(e,t,n){if(e<t||e>n)r?e=a(u(t,e),n):y=!0;return e};return s=Ht(s,o.translate(e,null,null,n)),h=d=i(s+b),p=v=i(m-s-b),isNaN(s)?y=!0:o.horiz?(p=c,v=m-o.bottom,h=d=w(h,l,l+o.width)):(h=l,d=g-o.right,p=v=w(p,c,c+o.height)),y&&!r?null:f.renderer.crispLine([J,h,p,K,d,v],t||1)},getLinearTickPositions:function(e,t,n){var r,i,u=Yt(s(t/e)*e),a=Yt(o(n/e)*e),f=[];if(t===n&&Lt(t))return[t];r=u;while(r<=a){f.push(r),r=Yt(r+e);if(r===i)break;i=r}return f},getMinorTickPositions:function(){var e=this,t=e.options,n=e.tickPositions,r=e.minorTickInterval,i=[],s,o,u=e.min,a=e.max,f=a-u,l;if(f&&f/r<e.len/3)if(e.isLog){l=n.length;for(o=1;o<l;o++)i=i.concat(e.getLogTickPositions(r,n[o-1],n[o],!0))}else if(e.isDatetimeAxis&&t.minorTickInterval==="auto")i=i.concat(e.getTimeTicks(e.normalizeTimeTickInterval(r),u,a,t.startOfWeek));else for(s=u+(n[0]-u)%r;s<=a;s+=r)i.push(s);return e.trimTicks(i),i},adjustForMinRange:function(){var t=this,n=t.options,r=t.min,i=t.max,s,o=t.dataMax-t.dataMin>=t.minRange,u,f,l,c,h,p,d;t.isXAxis&&t.minRange===e&&!t.isLog&&(_t(n.min)||_t(n.max)?t.minRange=null:(on(t.series,function(t){c=t.xData,h=t.xIncrement?1:c.length-1;for(f=h;f>0;f--){l=c[f]-c[f-1];if(u===e||l<u)u=l}}),t.minRange=a(u*5,t.dataMax-t.dataMin)));if(i-r<t.minRange){var v=t.minRange;s=(v-i+r)/2,p=[r-s,Ht(n.min,r-s)],o&&(p[2]=t.dataMin),r=Jt(p),d=[r+v,Ht(n.max,r+v)],o&&(d[2]=t.dataMax),i=$t(d),i-r<v&&(p[0]=i-v,p[1]=Ht(n.min,i-v),r=Jt(p))}t.min=r,t.max=i},setAxisTranslation:function(e){var t=this,n=t.max-t.min,r=t.axisPointRange||0,i,s=0,o=0,f=t.linkedParent,l,c=!!t.categories,h=t.transA,p=t.isXAxis;if(p||c||r)f?(s=f.minPointOffset,o=f.pointRangePadding):on(t.series,function(e){var f=c?1:p?e.pointRange:t.axisPointRange||0,l=e.options.pointPlacement,h=e.closestPointRange;f>n&&(f=0),r=u(r,f),t.single||(s=u(s,Nt(l)?0:f/2),o=u(o,l==="on"?0:f)),!e.noSharedTooltip&&_t(h)&&(i=_t(i)?a(i,h):h)}),l=t.ordinalSlope&&i?t.ordinalSlope/i:1,t.minPointOffset=s*=l,t.pointRangePadding=o*=l,t.pointRange=a(r,n),p&&(t.closestPointRange=i);e&&(t.oldTransA=h),t.translationSlope=t.transA=h=t.len/(n+o||1),t.transB=t.horiz?t.left:t.bottom,t.minPixelPadding=h*s},setTickInterval:function(e){var t=this,n=t.chart,r=t.options,i=t.isLog,s=t.isDatetimeAxis,o=t.isXAxis,f=t.isLinked,l=r.maxPadding,c=r.minPadding,h,p,d=r.tickInterval,v,m=r.tickPixelInterval,g=t.categories;!s&&!g&&!f&&this.getTickAmount(),f?(t.linkedParent=n[t.coll][r.linkedTo],p=t.linkedParent.getExtremes(),t.min=Ht(p.min,p.dataMin),t.max=Ht(p.max,p.dataMax),r.type!==t.linkedParent.options.type&&Gt(11,1)):(t.min=Ht(t.userMin,r.min,t.dataMin),t.max=Ht(t.userMax,r.max,t.dataMax)),i&&(!e&&a(t.min,Ht(t.dataMin,t.min))<=0&&Gt(10,1),t.min=Yt(At(t.min)),t.max=Yt(At(t.max))),t.range&&_t(t.max)&&(t.userMin=t.min=u(t.min,t.max-t.range),t.userMax=t.max,t.range=null),t.beforePadding&&t.beforePadding(),t.adjustForMinRange(),!g&&!t.axisPointRange&&!t.usePercentage&&!f&&_t(t.min)&&_t(t.max)&&(h=t.max-t.min,h&&(!_t(r.min)&&!_t(t.userMin)&&c&&(t.dataMin<0||!t.ignoreMinPadding)&&(t.min-=h*c),!_t(r.max)&&!_t(t.userMax)&&l&&(t.dataMax>0||!t.ignoreMaxPadding)&&(t.max+=h*l))),Lt(r.floor)&&(t.min=u(t.min,r.floor)),Lt(r.ceiling)&&(t.max=a(t.max,r.ceiling)),t.min===t.max||t.min===undefined||t.max===undefined?t.tickInterval=1:f&&!d&&m===t.linkedParent.options.tickPixelInterval?t.tickInterval=t.linkedParent.tickInterval:t.tickInterval=Ht(d,this.tickAmount?(t.max-t.min)/u(this.tickAmount-1,1):undefined,g?1:(t.max-t.min)*m/u(t.len,m)),o&&!e&&on(t.series,function(e){e.processData(t.min!==t.oldMin||t.max!==t.oldMax)}),t.setAxisTranslation(!0),t.beforeSetTickPositions&&t.beforeSetTickPositions(),t.postProcessTickInterval&&(t.tickInterval=t.postProcessTickInterval(t.tickInterval)),t.pointRange&&(t.tickInterval=u(t.pointRange,t.tickInterval)),v=Ht(r.minTickInterval,t.isDatetimeAxis&&t.closestPointRange),!d&&t.tickInterval<v&&(t.tickInterval=v),!s&&!i&&(d||(t.tickInterval=Xt(t.tickInterval,null,Wt(t.tickInterval),Ht(r.allowDecimals,!(t.tickInterval>.5&&t.tickInterval<5&&t.max>1e3&&t.max<9999)),!!this.tickAmount))),!this.tickAmount&&this.len&&(t.tickInterval=t.unsquish()),this.setTickPositions()},setTickPositions:function(){var e=this.options,t,n=e.tickPositions,r=e.tickPositioner,i=e.startOnTick,s=e.endOnTick,o;this.tickmarkOffset=this.categories&&e.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.minorTickInterval=e.minorTickInterval==="auto"&&this.tickInterval?this.tickInterval/5:e.minorTickInterval,this.tickPositions=t=e.tickPositions&&e.tickPositions.slice(),t||(this.isDatetimeAxis?t=this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,e.units),this.min,this.max,e.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?t=this.getLogTickPositions(this.tickInterval,this.min,this.max):t=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickPositions=t,r&&(r=r.apply(this,[this.min,this.max]),r&&(this.tickPositions=t=r))),this.isLinked||(this.trimTicks(t,i,s),this.min===this.max&&_t(this.min)&&!this.tickAmount&&(o=!0,this.min-=.5,this.max+=.5),this.single=o,!n&&!r&&this.adjustTickAmount())},trimTicks:function(e,t,n){var r=e[0],i=e[e.length-1],s=this.minPointOffset||0;t?this.min=r:this.min-s>r&&e.shift(),n?this.max=i:this.max+s<i&&e.pop(),e.length===0&&_t(r)&&e.push((i+r)/2)},getTickAmount:function(){var e={},t,n=this.options,r=n.tickAmount,i=n.tickPixelInterval;!_t(n.tickInterval)&&this.len<i&&!this.isRadial&&!this.isLog&&n.startOnTick&&n.endOnTick&&(r=2),!r&&this.chart.options.chart.alignTicks!==!1&&n.alignTicks!==!1&&(on(this.chart[this.coll],function(n){var r=n.options,i=n.horiz,s=[i?r.left:r.top,i?r.width:r.height,r.pane].join(",");e[s]?t=!0:e[s]=1}),t&&(r=o(this.len/i)+1)),r<4&&(this.finalTickAmt=r,r=5),this.tickAmount=r},adjustTickAmount:function(){var t=this.tickInterval,n=this.tickPositions,r=this.tickAmount,i=this.finalTickAmt,s=n&&n.length,o,u;if(s<r){while(n.length<r)n.push(Yt(n[n.length-1]+t));this.transA*=(s-1)/(r-1),this.max=n[n.length-1]}else s>r&&(this.tickInterval*=2,this.setTickPositions());if(_t(i)){o=u=n.length;while(o--)(i===3&&o%2===1||i<=2&&o>0&&o<u-1)&&n.splice(o,1);this.finalTickAmt=e}},setScale:function(){var e=this,t=e.stacks,n,r,i,s;e.oldMin=e.min,e.oldMax=e.max,e.oldAxisLength=e.len,e.setAxisSize(),s=e.len!==e.oldAxisLength,on(e.series,function(e){if(e.isDirtyData||e.isDirty||e.xAxis.isDirty)i=!0});if(s||i||e.isLinked||e.forceRedraw||e.userMin!==e.oldUserMin||e.userMax!==e.oldUserMax){if(!e.isXAxis)for(n in t)for(r in t[n])t[n][r].total=null,t[n][r].cum=0;e.forceRedraw=!1,e.getSeriesExtremes(),e.setTickInterval(),e.oldUserMin=e.userMin,e.oldUserMax=e.userMax,e.isDirty||(e.isDirty=s||e.min!==e.oldMin||e.max!==e.oldMax)}else if(!e.isXAxis){e.oldStacks&&(t=e.stacks=e.oldStacks);for(n in t)for(r in t[n])t[n][r].cum=t[n][r].total}},setExtremes:function(e,t,n,r,i){var s=this,o=s.chart;n=Ht(n,!0),on(s.series,function(e){delete e.kdTree}),i=St(i,{min:e,max:t}),hn(s,"setExtremes",i,function(){s.userMin=e,s.userMax=t,s.eventArgs=i,s.isDirtyExtremes=!0,n&&o.redraw(r)})},zoom:function(t,n){var r=this.dataMin,i=this.dataMax,s=this.options;return this.allowZoomOutside||(_t(r)&&t<=a(r,Ht(s.min,r))&&(t=e),_t(i)&&n>=u(i,Ht(s.max,i))&&(n=e)),this.displayBtn=t!==e||n!==e,this.setExtremes(t,n,!1,e,{trigger:"zoom"}),!0},setAxisSize:function(){var e=this.chart,t=this.options,n=t.offsetLeft||0,r=t.offsetRight||0,i=this.horiz,s=Ht(t.width,e.plotWidth-n+r),o=Ht(t.height,e.plotHeight),a=Ht(t.top,e.plotTop),f=Ht(t.left,e.plotLeft+n),l=/%$/;l.test(o)&&(o=parseFloat(o)/100*e.plotHeight),l.test(a)&&(a=parseFloat(a)/100*e.plotHeight+e.plotTop),this.left=f,this.top=a,this.width=s,this.height=o,this.bottom=e.chartHeight-o-a,this.right=e.chartWidth-s-f,this.len=u(i?s:o,0),this.pos=i?f:a},getExtremes:function(){var e=this,t=e.isLog;return{min:t?Yt(Ot(e.min)):e.min,max:t?Yt(Ot(e.max)):e.max,dataMin:e.dataMin,dataMax:e.dataMax,userMin:e.userMin,userMax:e.userMax}},getThreshold:function(e){var t=this,n=t.isLog,r=n?Ot(t.min):t.min,i=n?Ot(t.max):t.max;return r>e||e===null?e=r:i<e&&(e=i),t.translate(e,0,1,0,1)},autoLabelAlign:function(e){var t,n=(Ht(e,0)-this.side*90+720)%360;return n>15&&n<165?t="right":n>195&&n<345?t="left":t="center",t},unsquish:function(){var e=this.chart,t=this.ticks,n=this.options.labels,r=this.horiz,i=this.tickInterval,s=i,u=this.len/(((this.categories?1:0)+this.max-this.min)/i),a,l=n.rotation,h=e.renderer.fontMetrics(n.style.fontSize,t[0]&&t[0].label),d,v=Number.MAX_VALUE,m,g=function(e){var t=e/(u||1);return t=t>1?o(t):1,t*i};return r?(m=_t(l)?[l]:u<Ht(n.autoRotationLimit,80)&&!n.staggerLines&&!n.step&&n.autoRotation,m&&on(m,function(e){var t;if(e===l||e&&e>=-90&&e<=90)d=g(f(h.h/c(p*e))),t=d+f(e/360),t<v&&(v=t,a=e,s=d)})):s=g(h.h),this.autoRotation=m,this.labelRotation=a,s},renderUnsquish:function(){var e=this.chart,t=e.renderer,n=this.tickPositions,r=this.ticks,s=this.options.labels,o=this.horiz,a=e.margin,f=this.slotWidth=o&&!s.step&&!s.rotation&&(this.staggerLines||1)*e.plotWidth/n.length||!o&&(a[3]&&a[3]-e.spacing[3]||e.chartWidth*.33),l=u(1,i(f-2*(s.padding||5))),c={},h=t.fontMetrics(s.style.fontSize,r[0]&&r[0].label),p,d=0,v,m,g;Nt(s.rotation)||(c.rotation=s.rotation);if(this.autoRotation)on(n,function(e){e=r[e],e&&e.labelLength>d&&(d=e.labelLength)}),d>l&&d>h.h?c.rotation=this.labelRotation:this.labelRotation=0;else if(f){p={width:l+V,textOverflow:"clip"},m=n.length;while(!o&&m--)g=n[m],v=r[g].label,v&&(v.styles.textOverflow==="ellipsis"&&v.css({textOverflow:"clip"}),v.getBBox().height>this.len/n.length-(h.h-h.f)&&(v.specCss={textOverflow:"ellipsis"}))}c.rotation&&(p={width:(d>e.chartHeight*.5?e.chartHeight*.33:e.chartHeight)+V,textOverflow:"ellipsis"}),this.labelAlign=c.align=s.align||this.autoLabelAlign(this.labelRotation),on(n,function(e){var t=r[e],n=t&&t.label;n&&(p&&n.css(xt(p,n.specCss)),delete n.specCss,n.attr(c),t.rotation=c.rotation)}),this.tickRotCorr=t.rotCorr(h.b,this.labelRotation||0,this.side===2)},getOffset:function(){var e=this,t=e.chart,n=t.renderer,r=e.options,i=e.tickPositions,o=e.ticks,a=e.horiz,f=e.side,l=t.inverted?[1,0,3,2][f]:f,c,h,p=0,d,v=0,m=r.title,g=r.labels,y=0,b,w=t.axisOffset,E=t.clipOffset,S=[-1,1,1,-1][f],x,T;e.hasData=c=e.hasVisibleSeries||_t(e.min)&&_t(e.max)&&!!i,e.showAxis=h=c||Ht(r.showEmpty,!0),e.staggerLines=e.horiz&&g.staggerLines,e.axisGroup||(e.gridGroup=n.g("grid").attr({zIndex:r.gridZIndex||1}).add(),e.axisGroup=n.g("axis").attr({zIndex:r.zIndex||2}).add(),e.labelGroup=n.g("axis-labels").attr({zIndex:g.zIndex||7}).addClass(W+e.coll.toLowerCase()+"-labels").add());if(c||e.isLinked)on(i,function(t){o[t]?o[t].addLabel():o[t]=new _n(e,t)}),e.renderUnsquish(),on(i,function(t){if(f===0||f===2||{1:"left",3:"right"}[f]===e.labelAlign)y=u(o[t].getLabelSize(),y)}),e.staggerLines&&(y*=e.staggerLines,e.labelOffset=y);else for(x in o)o[x].destroy(),delete o[x];m&&m.text&&m.enabled!==!1&&(e.axisTitle||(e.axisTitle=n.text(m.text,0,0,m.useHTML).attr({zIndex:7,rotation:m.rotation||0,align:m.textAlign||{low:"left",middle:"center",high:"right"}[m.align]}).addClass(W+this.coll.toLowerCase()+"-title").css(m.style).add(e.axisGroup),e.axisTitle.isNew=!0),h&&(p=e.axisTitle.getBBox()[a?"height":"width"],d=m.offset,v=_t(d)?0:Ht(m.margin,a?5:10)),e.axisTitle[h?"show":"hide"]()),e.offset=S*Ht(r.offset,w[f]),e.tickRotCorr=e.tickRotCorr||{x:0,y:0},T=f===2?e.tickRotCorr.y:0,b=y+v+(y&&S*(a?Ht(g.y,e.tickRotCorr.y+8):g.x)-T),e.axisTitleMargin=Ht(d,b),w[f]=u(w[f],e.axisTitleMargin+p+S*e.offset,b),E[l]=u(E[l],s(r.lineWidth/2)*2)},getLinePath:function(e){var t=this.chart,n=this.opposite,r=this.offset,i=this.horiz,s=this.left+(n?this.width:0)+r,o=t.chartHeight-this.bottom-(n?this.height:0)+r;return n&&(e*=-1),t.renderer.crispLine([J,i?this.left:s,i?o:this.top,K,i?t.chartWidth-this.right:s,i?o:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,t=this.left,n=this.top,r=this.len,i=this.options.title,s=e?t:n,o=this.opposite,u=this.offset,a=Tt(i.style.fontSize||12),f={low:s+(e?0:r),middle:s+r/2,high:s+(e?r:0)}[i.align],l=(e?n+this.height:t)+(e?1:-1)*(o?-1:1)*this.axisTitleMargin+(this.side===2?a:0);return{x:e?f:l+(o?this.width:0)+u+(i.x||0),y:e?l-(o?this.height:0)+u:f+(i.y||0)}},render:function(){var t=this,n=t.chart,r=n.renderer,i=t.options,s=t.isLog,o=t.isLinked,u=t.tickPositions,a=t.axisTitle,f=t.ticks,l=t.minorTicks,c=t.alternateBands,h=i.stackLabels,p=i.alternateGridColor,d=t.tickmarkOffset,v=i.lineWidth,m,g=n.hasRendered,y=g&&_t(t.oldMin)&&!isNaN(t.oldMin),b=t.hasData,w=t.showAxis,E,S;t.labelEdge.length=0,t.overlap=!1,on([f,l,c],function(e){var t;for(t in e)e[t].isActive=!1});if(b||o)t.minorTickInterval&&!t.categories&&on(t.getMinorTickPositions(),function(e){l[e]||(l[e]=new _n(t,e,"minor")),y&&l[e].isNew&&l[e].render(null,!0),l[e].render(null,!1,1)}),u.length&&(on(u,function(e,n){if(!o||e>=t.min&&e<=t.max)f[e]||(f[e]=new _n(t,e)),y&&f[e].isNew&&f[e].render(n,!0,.1),f[e].render(n)}),d&&(t.min===0||t.single)&&(f[-1]||(f[-1]=new _n(t,-1,null,!0)),f[-1].render(-1))),p&&on(u,function(n,r){r%2===0&&n<t.max&&(c[n]||(c[n]=new Et.PlotLineOrBand(t)),E=n+d,S=u[r+1]!==e?u[r+1]+d:t.max,c[n].options={from:s?Ot(E):E,to:s?Ot(S):S,color:p},c[n].render(),c[n].isActive=!0)}),t._addedPlotLB||(on((i.plotLines||[]).concat(i.plotBands||[]),function(e){t.addPlotBandOrLine(e)}),t._addedPlotLB=!0);on([f,l,c],function(e){var t,r,i=[],s=_?_.duration||500:0,o=function(){r=i.length;while(r--)e[i[r]]&&!e[i[r]].isActive&&(e[i[r]].destroy(),delete e[i[r]])};for(t in e)e[t].isActive||(e[t].render(t,!1,0),e[t].isActive=!1,i.push(t));e===c||!n.hasRendered||!s?o():s&&setTimeout(o,s)}),v&&(m=t.getLinePath(v),t.axisLine?t.axisLine.animate({d:m}):t.axisLine=r.path(m).attr({stroke:i.lineColor,"stroke-width":v,zIndex:7}).add(t.axisGroup),t.axisLine[w?"show":"hide"]()),a&&w&&(a[a.isNew?"attr":"animate"](t.getTitlePosition()),a.isNew=!1),h&&h.enabled&&t.renderStackTotals(),t.isDirty=!1},redraw:function(){this.render(),on(this.plotLinesAndBands,function(e){e.render()}),on(this.series,function(e){e.isDirty=!0})},destroy:function(e){var t=this,n=t.stacks,r,i=t.plotLinesAndBands,s;e||cn(t);for(r in n)Kt(n[r]),n[r]=null;on([t.ticks,t.minorTicks,t.alternateBands],function(e){Kt(e)}),s=i.length;while(s--)i[s].destroy();on(["stackTotalGroup","axisLine","axisTitle","axisGroup","cross","gridGroup","labelGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(e,t){var n,r=this.crosshair,i=r.animation,s,o,u;if(!this.crosshair||(_t(t)||!Ht(this.crosshair.snap,!0))===!1)this.hideCrosshair();else{Ht(r.snap,!0)?_t(t)&&(s=this.isXAxis?t.plotX:this.len-t.plotY):s=this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos,this.isRadial?n=this.getPlotLinePath(this.isXAxis?t.x:Ht(t.stackY,t.y))||null:n=this.getPlotLinePath(null,null,null,null,s)||null;if(n===null){this.hideCrosshair();return}this.cross?this.cross.attr({visibility:X})[i?"animate":"attr"]({d:n},i):(u=this.categories&&!this.isRadial,o={"stroke-width":r.width||(u?this.transA:1),stroke:r.color||(u?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:r.zIndex||2},r.dashStyle&&(o.dashstyle=r.dashStyle),this.cross=this.chart.renderer.path(n).attr(o).add())}},hideCrosshair:function(){this.cross&&this.cross.hide()}},St(Dn.prototype,tt),Dn.prototype.getTimeTicks=function(e,t,n,r){var i=[],o,u={},a=O.global.useUTC,f,l=new rt(t-Rt(t)),c=e.unitRange,h=e.count;if(_t(t)){l[pt](c>=P.second?0:h*s(l.getMilliseconds()/h)),c>=P.second&&l[dt](c>=P.minute?0:h*s(l.getSeconds()/h)),c>=P.minute&&l[vt](c>=P.hour?0:h*s(l[ut]()/h)),c>=P.hour&&l[mt](c>=P.day?0:h*s(l[at]()/h)),c>=P.day&&l[gt](c>=P.month?1:h*s(l[lt]()/h)),c>=P.month&&(l[yt](c>=P.year?0:h*s(l[ct]()/h)),f=l[ht]()),c>=P.year&&(f-=f%h,l[bt](f)),c===P.week&&l[gt](l[lt]()-l[ft]()+Ht(r,1)),o=1;if(st||ot)l=l.getTime(),l=new rt(l+Rt(l));f=l[ht]();var p=l.getTime(),d=l[ct](),v=l[lt](),m=(P.day+(a?Rt(l):l.getTimezoneOffset()*60*1e3))%P.day;while(p<n)i.push(p),c===P.year?p=it(f+o*h,0):c===P.month?p=it(f,d+o*h):!!a||c!==P.day&&c!==P.week?p+=c*h:p=it(f,d,v+o*h*(c===P.day?1:7)),o++;i.push(p),on(un(i,function(e){return c<=P.hour&&e%P.day===m}),function(e){u[e]="day"})}return i.info=St(e,{higherRanks:u,totalRange:c*h}),i},Dn.prototype.normalizeTimeTickInterval=function(e,t){var n=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],r=n[n.length-1],i=P[r[0]],s=r[1],o,a;for(a=0;a<n.length;a++){r=n[a],i=P[r[0]],s=r[1];if(n[a+1]){var f=(i*s[s.length-1]+P[n[a+1][0]])/2;if(e<=f)break}}return i===P.year&&e<5*i&&(s=[1,2,5]),o=Xt(e/i,s,r[0]==="year"?u(Wt(e/i),1):1),{unitRange:i,count:o,unitName:r[0]}},Dn.prototype.getLogTickPositions=function(t,n,r,o){var u=this,a=u.options,f=u.len,l=[];o||(u._minorAutoInterval=null);if(t>=.5)t=i(t),l=u.getLinearTickPositions(t,n,r);else if(t>=.08){var c=s(n),h,p,d,v,m,g,y;t>.3?h=[1,2,4]:t>.15?h=[1,2,4,6,8]:h=[1,2,3,4,5,6,7,8,9];for(p=c;p<r+1&&!y;p++){v=h.length;for(d=0;d<v&&!y;d++)m=At(Ot(p)*h[d]),m>n&&(!o||g<=r)&&g!==e&&l.push(g),g>r&&(y=!0),g=m}}else{var b=Ot(n),w=Ot(r),E=a[o?"minorTickInterval":"tickInterval"],S=E==="auto"?null:E,x=a.tickPixelInterval/(o?5:1),T=o?f/u.tickPositions.length:f;t=Ht(S,u._minorAutoInterval,(w-b)*x/(T||1)),t=Xt(t,null,Wt(t)),l=fn(u.getLinearTickPositions(t,b,w),At),o||(u._minorAutoInterval=t/5)}return o||(u.tickInterval=t),l};var Pn=Et.Tooltip=function(){this.init.apply(this,arguments)};Pn.prototype={init:function(e,t){var n=t.borderWidth,r=t.style,i=Tt(r.padding);this.chart=e,this.options=t,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=e.renderer.label("",0,0,t.shape||"callout",null,null,t.useHTML,null,"tooltip").attr({padding:i,fill:t.backgroundColor,"stroke-width":n,r:t.borderRadius,zIndex:8}).css(r).css({padding:0}).add().attr({y:-9999}),T||this.label.shadow(t.shadow),this.shared=t.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,n,r,i){var s=this,o=s.now,u=s.options.animation!==!1&&!s.isHidden&&(f(t-o.x)>1||f(n-o.y)>1),a=s.followPointer||s.len>1;St(o,{x:u?(2*o.x+t)/3:t,y:u?(o.y+n)/2:n,anchorX:a?e:u?(2*o.anchorX+r)/3:r,anchorY:a?e:u?(o.anchorY+i)/2:i}),s.label.attr(o),u&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){s&&s.move(t,n,r,i)},32))},hide:function(e){var t=this,n;clearTimeout(this.hideTimer),this.isHidden||(n=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){t.label.fadeOut(),t.isHidden=!0},Ht(e,this.options.hideDelay,500)),n&&on(n,function(e){e.setState()}),this.chart.hoverPoints=null,this.chart.hoverSeries=null)},getAnchor:function(t,n){var r,s=this.chart,o=s.inverted,u=s.plotTop,a=s.plotLeft,f=0,l=0,c,h;return t=Pt(t),r=t[0].tooltipPos,this.followPointer&&n&&(n.chartX===e&&(n=s.pointer.normalize(n)),r=[n.chartX-s.plotLeft,n.chartY-u]),r||(on(t,function(e){c=e.series.yAxis,h=e.series.xAxis,f+=e.plotX+(!o&&h?h.left-a:0),l+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!o&&c?c.top-u:0)}),f/=t.length,l/=t.length,r=[o?s.plotWidth-l:f,this.shared&&!o&&t.length>1&&n?n.chartY-u:o?s.plotHeight-f:l]),fn(r,i)},getPosition:function(e,t,n){var r=this.chart,i=this.distance,s={},o=n.h,u,a=["y",r.chartHeight,t,n.plotY+r.plotTop],f=["x",r.chartWidth,e,n.plotX+r.plotLeft],l=Ht(n.ttBelow,r.inverted&&!n.negative||!r.inverted&&n.negative),c=function(e,t,n,r){var u=n<r-i,a=r+i+n<t,f=r-i-n,c=r+i;if(l&&a)s[e]=c;else if(!l&&u)s[e]=f;else if(u)s[e]=f-o<0?f:f-o;else{if(!a)return!1;s[e]=c+o+n>t?c:c+o}},h=function(e,t,n,r){if(r<i||r>t-i)return!1;r<n/2?s[e]=1:r>t-n/2?s[e]=t-n-2:s[e]=r-n/2},p=function(e){var t=a;a=f,f=t,u=e},d=function(){c.apply(0,a)!==!1?h.apply(0,f)===!1&&!u&&(p(!0),d()):u?s.x=s.y=0:(p(!0),d())};return(r.inverted||this.len>1)&&p(),d(),s},defaultFormatter:function(e){var t=this.points||Pt(this),n;return n=[e.tooltipFooterHeaderFormatter(t[0])],n=n.concat(e.bodyFormatter(t)),n.push(e.tooltipFooterHeaderFormatter(t[0],!0)),n.join("")},refresh:function(e,t){var n=this,r=n.chart,i=n.label,s=n.options,o,u,a,f={},l,c=[],h=s.formatter||n.defaultFormatter,p=r.hoverPoints,d,v=n.shared,m;clearTimeout(this.hideTimer),n.followPointer=Pt(e)[0].series.tooltipOptions.followPointer,a=n.getAnchor(e,t),o=a[0],u=a[1],v&&(!e.series||!e.series.noSharedTooltip)?(r.hoverPoints=e,p&&on(p,function(e){e.setState()}),on(e,function(e){e.setState(Y),c.push(e.getLabelConfig())}),f={x:e[0].category,y:e[0].y},f.points=c,this.len=c.length,e=e[0]):f=e.getLabelConfig(),l=h.call(f,n),m=e.series,this.distance=Ht(m.tooltipOptions.distance,16),l===!1?this.hide():(n.isHidden&&(vn(i),i.attr("opacity",1).show()),i.attr({text:l}),d=s.borderColor||e.color||m.color||"#606060",i.attr({stroke:d}),n.updatePosition({plotX:o,plotY:u,negative:e.negative,ttBelow:e.ttBelow,h:e.shapeArgs&&e.shapeArgs.height||0}),this.isHidden=!1),hn(r,"tooltipRefresh",{text:l,x:o+r.plotLeft,y:u+r.plotTop,borderColor:d})},updatePosition:function(e){var t=this.chart,n=this.label,r=(this.options.positioner||this.getPosition).call(this,n.width,n.height,e);this.move(i(r.x),i(r.y),e.plotX+t.plotLeft,e.plotY+t.plotTop)},getXDateFormat:function(e,t,n){var r,i=t.dateTimeLabelFormats,s=n&&n.closestPointRange,o,u="01-01 00:00:00.000",a={millisecond:15,second:12,minute:9,hour:6,day:3},f,l;if(s){f=M("%m-%d %H:%M:%S.%L",e.x);for(o in P){if(s===P.week&&+M("%w",e.x)===n.options.startOfWeek&&f.substr(6)===u.substr(6)){o="week";break}if(P[o]>s){o=l;break}if(a[o]&&f.substr(a[o])!==u.substr(a[o]))break;o!=="week"&&(l=o)}o&&(r=i[o])}else r=i.day;return r||i.year},tooltipFooterHeaderFormatter:function(e,t){var n=t?"footer":"header",r=e.series,i=r.tooltipOptions,s=i.xDateFormat,o=r.xAxis,u=o&&o.options.type==="datetime"&&Lt(e.key),a=i[n+"Format"];return u&&!s&&(s=this.getXDateFormat(e,i,o)),u&&s&&(a=a.replace("{point.key}","{point.key:"+s+"}")),zt(a,{point:e,series:r})},bodyFormatter:function(e){return fn(e,function(e){var t=e.series.tooltipOptions;return(t.pointFormatter||e.point.tooltipFormatter).call(e.point,t.pointFormat)})}};var Hn;C=t.documentElement.ontouchstart!==e;var Bn=Et.Pointer=function(e,t){this.init(e,t)};Bn.prototype={init:function(e,t){var n=t.chart,r=n.events,i=T?"":n.zoomType,s=e.inverted,o,u;this.options=t,this.chart=e,this.zoomX=o=/x/.test(i),this.zoomY=u=/y/.test(i),this.zoomHor=o&&!s||u&&s,this.zoomVert=u&&!s||o&&s,this.hasZoom=o||u,this.runChartClick=r&&!!r.click,this.pinchDown=[],this.lastValidTouch={},Et.Tooltip&&t.tooltip.enabled&&(e.tooltip=new Pn(e,t.tooltip),this.followTouchMove=Ht(t.tooltip.followTouchMove,!0)),this.setDOMEvents()},normalize:function(t,n){var r,s,o;return t=t||window.event,t=pn(t),t.target||(t.target=t.srcElement),o=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,n||(this.chartPosition=n=an(this.chart.container)),o.pageX===e?(r=u(t.x,t.clientX-n.left),s=t.y):(r=o.pageX-n.left,s=o.pageY-n.top),St(t,{chartX:i(r),chartY:i(s)})},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};return on(this.chart.axes,function(n){t[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(e[n.horiz?"chartX":"chartY"])})}),t},runPointActions:function(e){var n=this,r=n.chart,i=r.series,s=r.tooltip,o=s?s.shared:!1,u,a=r.hoverPoint,f=r.hoverSeries,l,c=r.chartWidth,h=r.chartWidth,p,d,v=[],m,g;if(!o&&!f)for(l=0;l<i.length;l++)if(i[l].directTouch||!i[l].options.stickyTracking)i=[];!o&&f&&f.directTouch&&a?m=a:(on(i,function(t){d=t.noSharedTooltip&&o,t.visible&&!d&&Ht(t.options.enableMouseTracking,!0)&&(g=t.searchPoint(e),g&&v.push(g))}),on(v,function(e){e&&_t(e.plotX)&&_t(e.plotY)&&(e.dist.distX<c||(e.dist.distX===c||e.series.kdDimensions>1)&&e.dist.distR<h)&&(c=e.dist.distX,h=e.dist.distR,m=e)}));if(m&&(m!==a||s&&s.isHidden))if(o&&!m.series.noSharedTooltip){l=v.length;while(l--)(v[l].clientX!==m.clientX||v[l].series.noSharedTooltip)&&v.splice(l,1);v.length&&s&&s.refresh(v,e),on(v,function(t){t!==m&&t.onMouseOver(e)}),(f&&f.directTouch&&a||m).onMouseOver(e)}else s&&s.refresh(m,e),m.onMouseOver(e);else u=f&&f.tooltipOptions.followPointer,s&&u&&!s.isHidden&&(p=s.getAnchor([{}],e),s.updatePosition({plotX:p[0],plotY:p[1]}));s&&!n._onDocumentMouseMove&&(n._onDocumentMouseMove=function(e){B[Hn]&&B[Hn].pointer.onDocumentMouseMove(e)},ln(t,"mousemove",n._onDocumentMouseMove)),on(r.axes,function(t){t.drawCrosshair(e,Ht(m,a))})},reset:function(n,r){var i=this,s=i.chart,o=s.hoverSeries,u=s.hoverPoint,a=s.tooltip,f=a&&a.shared?s.hoverPoints:u;n=n&&a&&f,n&&Pt(f)[0].plotX===e&&(n=!1),n?(a.refresh(f),u&&(u.setState(u.state,!0),on(s.axes,function(e){Ht(e.options.crosshair&&e.options.crosshair.snap,!0)?e.drawCrosshair(null,n):e.hideCrosshair()}))):(u&&u.onMouseOut(),o&&o.onMouseOut(),a&&a.hide(r),i._onDocumentMouseMove&&(cn(t,"mousemove",i._onDocumentMouseMove),i._onDocumentMouseMove=null),on(s.axes,function(e){e.hideCrosshair()}),i.hoverX=null)},
scaleGroups:function(e,t){var n=this.chart,r;on(n.series,function(i){r=e||i.getPlotBox(),i.xAxis&&i.xAxis.zoomEnabled&&(i.group.attr(r),i.markerGroup&&(i.markerGroup.attr(r),i.markerGroup.clip(t?n.clipRect:null)),i.dataLabelsGroup&&i.dataLabelsGroup.attr(r))}),n.clipRect.attr(t||n.clipBox)},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=e.chartX,t.mouseDownY=this.mouseDownY=e.chartY},drag:function(e){var t=this.chart,n=t.options.chart,r=e.chartX,i=e.chartY,s=this.zoomHor,o=this.zoomVert,u=t.plotLeft,a=t.plotTop,l=t.plotWidth,c=t.plotHeight,h,p,d=this.mouseDownX,v=this.mouseDownY,m=n.panKey&&e[n.panKey+"Key"];r<u?r=u:r>u+l&&(r=u+l),i<a?i=a:i>a+c&&(i=a+c),this.hasDragged=Math.sqrt(Math.pow(d-r,2)+Math.pow(v-i,2)),this.hasDragged>10&&(h=t.isInsidePlot(d-u,v-a),t.hasCartesianSeries&&(this.zoomX||this.zoomY)&&h&&!m&&(this.selectionMarker||(this.selectionMarker=t.renderer.rect(u,a,s?1:l,o?1:c,0).attr({fill:n.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())),this.selectionMarker&&s&&(p=r-d,this.selectionMarker.attr({width:f(p),x:(p>0?0:p)+d})),this.selectionMarker&&o&&(p=i-v,this.selectionMarker.attr({height:f(p),y:(p>0?0:p)+v})),h&&!this.selectionMarker&&n.panning&&t.pan(e,n.panning))},drop:function(e){var t=this,n=this.chart,r=this.hasPinched;if(this.selectionMarker){var i={xAxis:[],yAxis:[],originalEvent:e.originalEvent||e},s=this.selectionMarker,o=s.attr?s.attr("x"):s.x,f=s.attr?s.attr("y"):s.y,l=s.attr?s.attr("width"):s.width,c=s.attr?s.attr("height"):s.height,h;if(this.hasDragged||r)on(n.axes,function(n){if(n.zoomEnabled&&_t(n.min)&&(r||t[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])){var s=n.horiz,p=e.type==="touchend"?n.minPixelPadding:0,d=n.toValue((s?o:f)+p),v=n.toValue((s?o+l:f+c)-p);i[n.coll].push({axis:n,min:a(d,v),max:u(d,v)}),h=!0}}),h&&hn(n,"selection",i,function(e){n.zoom(St(e,r?{animation:!1}:null))});this.selectionMarker=this.selectionMarker.destroy(),r&&this.scaleGroups()}n&&(Bt(n.container,{cursor:n._cursor}),n.cancelClick=this.hasDragged>10,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){e=this.normalize(e),e.preventDefault&&e.preventDefault(),this.dragStart(e)},onDocumentMouseUp:function(e){B[Hn]&&B[Hn].pointer.drop(e)},onDocumentMouseMove:function(e){var t=this.chart,n=this.chartPosition;e=this.normalize(e,n),n&&!this.inClass(e.target,"highcharts-tracker")&&!t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)&&this.reset()},onContainerMouseLeave:function(){var e=B[Hn];e&&(e.pointer.reset(),e.pointer.chartPosition=null)},onContainerMouseMove:function(e){var t=this.chart;Hn=t.index,e=this.normalize(e),e.returnValue=!1,t.mouseIsDown==="mousedown"&&this.drag(e),(this.inClass(e.target,"highcharts-tracker")||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop))&&!t.openMenu&&this.runPointActions(e)},inClass:function(e,t){var n;while(e){n=Dt(e,"class");if(n){if(n.indexOf(t)!==-1)return!0;if(n.indexOf(W+"container")!==-1)return!1}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries,n=e.relatedTarget||e.toElement,r=n&&n.point&&n.point.series;t&&!t.options.stickyTracking&&!this.inClass(n,W+"tooltip")&&r!==t&&t.onMouseOut()},onContainerClick:function(e){var t=this.chart,n=t.hoverPoint,r=t.plotLeft,i=t.plotTop;e=this.normalize(e),e.originalEvent=e,e.cancelBubble=!0,t.cancelClick||(n&&this.inClass(e.target,W+"tracker")?(hn(n.series,"click",St(e,{point:n})),t.hoverPoint&&n.firePointEvent("click",e)):(St(e,this.getCoordinates(e)),t.isInsidePlot(e.chartX-r,e.chartY-i)&&hn(t,"click",e)))},setDOMEvents:function(){var e=this,n=e.chart.container;n.onmousedown=function(t){e.onContainerMouseDown(t)},n.onmousemove=function(t){e.onContainerMouseMove(t)},n.onclick=function(t){e.onContainerClick(t)},ln(n,"mouseleave",e.onContainerMouseLeave),j===1&&ln(t,"mouseup",e.onDocumentMouseUp),C&&(n.ontouchstart=function(t){e.onContainerTouchStart(t)},n.ontouchmove=function(t){e.onContainerTouchMove(t)},j===1&&ln(t,"touchend",e.onDocumentTouchEnd))},destroy:function(){var e;cn(this.chart.container,"mouseleave",this.onContainerMouseLeave),j||(cn(t,"mouseup",this.onDocumentMouseUp),cn(t,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(e in this)this[e]=null}},St(Et.Pointer.prototype,{pinchTranslate:function(e,t,n,r,i,s){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,e,t,n,r,i,s),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,e,t,n,r,i,s)},pinchTranslateDirection:function(e,t,n,r,i,s,o,u){var a=this.chart,l=e?"x":"y",c=e?"X":"Y",h="chart"+c,p=e?"width":"height",d=a["plot"+(e?"Left":"Top")],v,m,g,y=u||1,b=a.inverted,w=a.bounds[e?"h":"v"],E=t.length===1,S=t[0][h],x=n[0][h],T=!E&&t[1][h],N=!E&&n[1][h],C,k,L,A=function(){!E&&f(S-T)>20&&(y=u||f(x-N)/f(S-T)),g=(d-x)/y+S,v=a["plot"+(e?"Width":"Height")]/y};A(),m=g,m<w.min?(m=w.min,C=!0):m+v>w.max&&(m=w.max-v,C=!0),C?(x-=.8*(x-o[l][0]),E||(N-=.8*(N-o[l][1])),A()):o[l]=[x,N],b||(s[l]=g-d,s[p]=v),L=b?e?"scaleY":"scaleX":"scale"+c,k=b?1/y:y,i[p]=v,i[l]=m,r[L]=y,r["translate"+c]=k*d+(x-k*S)},pinch:function(e){var t=this,n=t.chart,r=t.pinchDown,i=e.touches,s=i.length,o=t.lastValidTouch,f=t.hasZoom,l=t.selectionMarker,c={},h=s===1&&(t.inClass(e.target,W+"tracker")&&n.runTrackerClick||t.runChartClick),p={};f&&!h&&e.preventDefault(),fn(i,function(e){return t.normalize(e)}),e.type==="touchstart"?(on(i,function(e,t){r[t]={chartX:e.chartX,chartY:e.chartY}}),o.x=[r[0].chartX,r[1]&&r[1].chartX],o.y=[r[0].chartY,r[1]&&r[1].chartY],on(n.axes,function(e){if(e.zoomEnabled){var t=n.bounds[e.horiz?"h":"v"],r=e.minPixelPadding,i=e.toPixels(Ht(e.options.min,e.dataMin)),s=e.toPixels(Ht(e.options.max,e.dataMax)),o=a(i,s),f=u(i,s);t.min=a(e.pos,o-r),t.max=u(e.pos+e.len,f+r)}}),t.res=!0):r.length&&(l||(t.selectionMarker=l=St({destroy:H},n.plotBox)),t.pinchTranslate(r,i,c,l,p,o),t.hasPinched=f,t.scaleGroups(c,p),!f&&t.followTouchMove&&s===1?this.runPointActions(t.normalize(e)):t.res&&(t.res=!1,this.reset(!1,0)))},onContainerTouchStart:function(e){var t=this.chart;Hn=t.index,e.touches.length===1?(e=this.normalize(e),t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)&&!t.openMenu?(this.runPointActions(e),this.pinch(e)):this.reset()):e.touches.length===2&&this.pinch(e)},onContainerTouchMove:function(e){(e.touches.length===1||e.touches.length===2)&&this.pinch(e)},onDocumentTouchEnd:function(e){B[Hn]&&B[Hn].pointer.drop(e)}});if(n.PointerEvent||n.MSPointerEvent){var jn={},Fn=!!n.PointerEvent,In=function(){var e,t=[];t.item=function(e){return this[e]};for(e in jn)jn.hasOwnProperty(e)&&t.push({pageX:jn[e].pageX,pageY:jn[e].pageY,target:jn[e].target});return t},qn=function(e,t,n,r){var i;e=e.originalEvent||e,(e.pointerType==="touch"||e.pointerType===e.MSPOINTER_TYPE_TOUCH)&&B[Hn]&&(r(e),i=B[Hn].pointer,i[t]({type:n,target:e.currentTarget,preventDefault:H,touches:In()}))};St(Bn.prototype,{onContainerPointerDown:function(e){qn(e,"onContainerTouchStart","touchstart",function(e){jn[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}})},onContainerPointerMove:function(e){qn(e,"onContainerTouchMove","touchmove",function(e){jn[e.pointerId]={pageX:e.pageX,pageY:e.pageY},jn[e.pointerId].target||(jn[e.pointerId].target=e.currentTarget)})},onDocumentPointerUp:function(e){qn(e,"onDocumentTouchEnd","touchend",function(e){delete jn[e.pointerId]})},batchMSEvents:function(e){e(this.chart.container,Fn?"pointerdown":"MSPointerDown",this.onContainerPointerDown),e(this.chart.container,Fn?"pointermove":"MSPointerMove",this.onContainerPointerMove),e(t,Fn?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),qt(Bn.prototype,"init",function(e,t,n){e.call(this,t,n),this.hasZoom&&Bt(t.container,{"-ms-touch-action":$,"touch-action":$})}),qt(Bn.prototype,"setDOMEvents",function(e){e.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(ln)}),qt(Bn.prototype,"destroy",function(e){this.batchMSEvents(cn),e.call(this)})}var Rn=Et.Legend=function(e,t){this.init(e,t)};Rn.prototype={init:function(e,t){var n=this,r=t.itemStyle,i,s=t.itemMarginTop||0;this.options=t;if(!t.enabled)return;n.itemStyle=r,n.itemHiddenStyle=xt(r,t.itemHiddenStyle),n.itemMarginTop=s,n.padding=i=Ht(t.padding,8),n.initialItemX=i,n.initialItemY=i-5,n.maxItemWidth=0,n.chart=e,n.itemHeight=0,n.symbolWidth=Ht(t.symbolWidth,16),n.pages=[],n.render(),ln(n.chart,"endResize",function(){n.positionCheckboxes()})},colorizeItem:function(t,n){var r=this,i=r.options,s=t.legendItem,o=t.legendLine,u=t.legendSymbol,a=r.itemHiddenStyle.color,f=n?i.itemStyle.color:a,l=n?t.legendColor||t.color||"#CCC":a,c=t.options&&t.options.marker,h={fill:l},p,d;s&&s.css({fill:f,color:f}),o&&o.attr({stroke:l});if(u){if(c&&u.isMarker){h.stroke=l,c=t.convertAttribs(c);for(p in c)d=c[p],d!==e&&(h[p]=d)}u.attr(h)}},positionItem:function(e){var t=this,n=t.options,r=n.symbolPadding,i=!n.rtl,s=e._legendItemPos,o=s[0],u=s[1],a=e.checkbox;e.legendGroup&&e.legendGroup.translate(i?o:t.legendWidth-o-2*r-4,u),a&&(a.x=o,a.y=u)},destroyItem:function(e){var t=e.checkbox;on(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&(e[t]=e[t].destroy())}),t&&Qt(e.checkbox)},clearItems:function(){var e=this;on(e.getAllItems(),function(t){e.destroyItem(t)})},destroy:function(){var e=this,t=e.group,n=e.box;n&&(e.box=n.destroy()),t&&(e.group=t.destroy())},positionCheckboxes:function(e){var t=this.group.alignAttr,n,r=this.clipHeight||this.legendHeight;t&&(n=t.translateY,on(this.allItems,function(i){var s=i.checkbox,o;s&&(o=n+s.y+(e||0)+3,Bt(s,{left:t.translateX+i.checkboxOffset+s.x-20+V,top:o+V,display:o>n-6&&o<n+r-6?"":$}))}))},renderTitle:function(){var e=this.options,t=this.padding,n=e.title,r=0,i;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,t-3,t-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(n.style).add(this.group)),i=this.title.getBBox(),r=i.height,this.offsetWidth=i.width,this.contentGroup.attr({translateY:r})),this.titleHeight=r},renderItem:function(e){var t=this,n=t.chart,r=n.renderer,s=t.options,o=s.layout==="horizontal",a=t.symbolWidth,f=s.symbolPadding,l=t.itemStyle,c=t.itemHiddenStyle,h=t.padding,p=o?Ht(s.itemDistance,20):0,d=!s.rtl,v,m=s.width,g=s.itemMarginBottom||0,y=t.itemMarginTop,b=t.initialItemX,w,E,S=e.legendItem,x=e.series&&e.series.drawLegendSymbol?e.series:e,T=x.options,N=t.createCheckboxForItem&&T&&T.showCheckbox,C=s.useHTML;S||(e.legendGroup=r.g("legend-item").attr({zIndex:1}).add(t.scrollGroup),e.legendItem=S=r.text(s.labelFormat?zt(s.labelFormat,e):s.labelFormatter.call(e),d?a+f:-f,t.baseline||0,C).css(xt(e.visible?l:c)).attr({align:d?"left":"right",zIndex:2}).add(e.legendGroup),t.baseline||(t.fontMetrics=r.fontMetrics(l.fontSize,S),t.baseline=t.fontMetrics.f+3+y,S.attr("y",t.baseline)),x.drawLegendSymbol(t,e),t.setItemEvents&&t.setItemEvents(e,S,C,l,c),t.colorizeItem(e,e.visible),N&&t.createCheckboxForItem(e)),w=S.getBBox(),E=e.checkboxOffset=s.itemWidth||e.legendItemWidth||a+f+w.width+p+(N?20:0),t.itemHeight=v=i(e.legendItemHeight||w.height),o&&t.itemX-b+E>(m||n.chartWidth-2*h-b-s.x)&&(t.itemX=b,t.itemY+=y+t.lastLineHeight+g,t.lastLineHeight=0),t.maxItemWidth=u(t.maxItemWidth,E),t.lastItemY=y+t.itemY+g,t.lastLineHeight=u(v,t.lastLineHeight),e._legendItemPos=[t.itemX,t.itemY],o?t.itemX+=E:(t.itemY+=y+v+g,t.lastLineHeight=v),t.offsetWidth=m||u((o?t.itemX-b-p:E)+h,t.offsetWidth)},getAllItems:function(){var t=[];return on(this.chart.series,function(n){var r=n.options;if(!Ht(r.showInLegend,_t(r.linkedTo)?!1:e,!0))return;t=t.concat(n.legendItems||(r.legendType==="point"?n.data:n))}),t},adjustMargins:function(e,t){var n=this.chart,r=this.options,i=r.align[0]+r.verticalAlign[0]+r.layout[0];this.display&&!r.floating&&on([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(s,o){s.test(i)&&!_t(e[o])&&(n[et[o]]=u(n[et[o]],n.legend[(o+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][o]*r[o%2?"x":"y"]+Ht(r.margin,12)+t[o]))})},render:function(){var e=this,t=e.chart,n=t.renderer,r=e.group,i,s,o,u,a=e.box,f=e.options,l=e.padding,c=f.borderWidth,h=f.backgroundColor;e.itemX=e.initialItemX,e.itemY=e.initialItemY,e.offsetWidth=0,e.lastItemY=0,r||(e.group=r=n.g("legend").attr({zIndex:7}).add(),e.contentGroup=n.g().attr({zIndex:1}).add(r),e.scrollGroup=n.g().add(e.contentGroup)),e.renderTitle(),i=e.getAllItems(),Vt(i,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),f.reversed&&i.reverse(),e.allItems=i,e.display=s=!!i.length,e.lastLineHeight=0,on(i,function(t){e.renderItem(t)}),o=(f.width||e.offsetWidth)+l,u=e.lastItemY+e.lastLineHeight+e.titleHeight,u=e.handleOverflow(u),u+=l;if(c||h)a?o>0&&u>0&&(a[a.isNew?"attr":"animate"](a.crisp({width:o,height:u})),a.isNew=!1):(e.box=a=n.rect(0,0,o,u,f.borderRadius,c||0).attr({stroke:f.borderColor,"stroke-width":c||0,fill:h||$}).add(r).shadow(f.shadow),a.isNew=!0),a[s?"show":"hide"]();e.legendWidth=o,e.legendHeight=u,on(i,function(t){e.positionItem(t)}),s&&r.align(St({width:o,height:u},f),!0,"spacingBox"),t.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var t=this,n=this.chart,r=n.renderer,s=this.options,o=s.y,f=s.verticalAlign==="top",l=n.spacingBox.height+(f?-o:o)-this.padding,c=s.maxHeight,h,p=this.clipRect,d=s.navigation,v=Ht(d.animation,!0),m=d.arrowSize||12,g=this.nav,y=this.pages,b,w=this.allItems;return s.layout==="horizontal"&&(l/=2),c&&(l=a(l,c)),y.length=0,e>l&&!s.useHTML?(this.clipHeight=h=u(l-20-this.titleHeight-this.padding,0),this.currentPage=Ht(this.currentPage,1),this.fullHeight=e,on(w,function(e,t){var n=e._legendItemPos[1],r=i(e.legendItem.getBBox().height),s=y.length;if(!s||n-y[s-1]>h&&(b||n)!==y[s-1])y.push(b||n),s++;t===w.length-1&&n+r-y[s-1]>h&&y.push(n),n!==b&&(b=n)}),p||(p=t.clipRect=r.clipRect(0,this.padding,9999,0),t.contentGroup.clip(p)),p.attr({height:h}),g||(this.nav=g=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,m,m).on("click",function(){t.scroll(-1,v)}).add(g),this.pager=r.text("",15,10).css(d.style).add(g),this.down=r.symbol("triangle-down",0,0,m,m).on("click",function(){t.scroll(1,v)}).add(g)),t.scroll(0),e=l):g&&(p.attr({height:n.chartHeight}),g.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e},scroll:function(t,n){var r=this.pages,i=r.length,s=this.currentPage+t,o=this.clipHeight,u=this.options.navigation,a=u.activeColor,f=u.inactiveColor,l=this.pager,c=this.padding,h;s>i&&(s=i),s>0&&(n!==e&&Zt(n,this.chart),this.nav.attr({translateX:c,translateY:o+this.padding+7+this.titleHeight,visibility:X}),this.up.attr({fill:s===1?f:a}).css({cursor:s===1?"default":"pointer"}),l.attr({text:s+"/"+i}),this.down.attr({x:18+this.pager.getBBox().width,fill:s===i?f:a}).css({cursor:s===i?"default":"pointer"}),h=-r[s-1]+this.initialItemY,this.scrollGroup.animate({translateY:h}),this.currentPage=s,this.positionCheckboxes(h))}};var Un=Et.LegendSymbolMixin={drawRectangle:function(e,t){var n=e.options.symbolHeight||e.fontMetrics.f;t.legendSymbol=this.chart.renderer.rect(0,e.baseline-n+1,e.symbolWidth,n,e.options.symbolRadius||0).attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(e){var t=this.options,n=t.marker,r,s,o=e.symbolWidth,u=this.chart.renderer,a=this.legendGroup,f=e.baseline-i(e.fontMetrics.b*.3),l;t.lineWidth&&(l={"stroke-width":t.lineWidth},t.dashStyle&&(l.dashstyle=t.dashStyle),this.legendLine=u.path([J,0,f,K,o,f]).attr(l).add(a)),n&&n.enabled!==!1&&(r=n.radius,this.legendSymbol=s=u.symbol(this.symbol,o/2-r,f-r,2*r,2*r).add(a),s.isMarker=!0)}};(/Trident\/7\.0/.test(d)||b)&&qt(Rn.prototype,"positionItem",function(e,t){var n=this,r=function(){t._legendItemPos&&e.call(n,t)};r(),setTimeout(r)});var zn=Et.Chart=function(){this.init.apply(this,arguments)};zn.prototype={callbacks:[],init:function(e,t){var n,r=e.series;e.series=null,n=xt(O,e),n.series=e.series=r,this.userOptions=e;var i=n.chart;this.margin=this.splashArray("margin",i),this.spacing=this.splashArray("spacing",i);var s=i.events;this.bounds={h:{},v:{}},this.callback=t,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=i.showAxes;var o=this,u;o.index=B.length,B.push(o),j++,i.reflow!==!1&&ln(o,"load",function(){o.initReflow()});if(s)for(u in s)ln(o,u,s[u]);o.xAxis=[],o.yAxis=[],o.animation=T?!1:Ht(i.animation,!0),o.pointCount=o.colorCounter=o.symbolCounter=0,o.firstRender()},initSeries:function(e){var t=this,n=t.options.chart,r=e.type||n.type||n.defaultSeriesType,i,s=wt[r];return s||Gt(17,!0),i=new s,i.init(this,e),i},isInsidePlot:function(e,t,n){var r=n?t:e,i=n?e:t;return r>=0&&r<=this.plotWidth&&i>=0&&i<=this.plotHeight},redraw:function(e){var t=this,n=t.axes,r=t.series,i=t.pointer,s=t.legend,o=t.isDirtyLegend,u,a,f=t.hasCartesianSeries,l=t.isDirtyBox,c=r.length,h=c,p,d=t.renderer,v=d.isHidden(),m=[];Zt(e,t),v&&t.cloneRenderTo(),t.layOutTitles();while(h--){p=r[h];if(p.options.stacking){u=!0;if(p.isDirty){a=!0;break}}}if(a){h=c;while(h--)p=r[h],p.options.stacking&&(p.isDirty=!0)}on(r,function(e){e.isDirty&&e.options.legendType==="point"&&(o=!0)}),o&&s.options.enabled&&(s.render(),t.isDirtyLegend=!1),u&&t.getStacks(),f&&(t.isResizing||(t.maxTicks=null,on(n,function(e){e.setScale()}))),t.getMargins(),f&&(on(n,function(e){e.isDirty&&(l=!0)}),on(n,function(e){e.isDirtyExtremes&&(e.isDirtyExtremes=!1,m.push(function(){hn(e,"afterSetExtremes",St(e.eventArgs,e.getExtremes())),delete e.eventArgs})),(l||u)&&e.redraw()})),l&&t.drawChartBox(),on(r,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()}),i&&i.reset(!0),d.draw(),hn(t,"redraw"),v&&t.cloneRenderTo(!0),on(m,function(e){e.call()})},get:function(e){var t=this,n=t.axes,r=t.series,i,s,o;for(i=0;i<n.length;i++)if(n[i].options.id===e)return n[i];for(i=0;i<r.length;i++)if(r[i].options.id===e)return r[i];for(i=0;i<r.length;i++){o=r[i].points||[];for(s=0;s<o.length;s++)if(o[s].id===e)return o[s]}return null},getAxes:function(){var e=this,t=this.options,n=t.xAxis=Pt(t.xAxis||{}),r=t.yAxis=Pt(t.yAxis||{}),i,s;on(n,function(e,t){e.index=t,e.isX=!0}),on(r,function(e,t){e.index=t}),i=n.concat(r),on(i,function(t){s=new Dn(e,t)})},getSelectedPoints:function(){var e=[];return on(this.series,function(t){e=e.concat(un(t.points||[],function(e){return e.selected}))}),e},getSelectedSeries:function(){return un(this.series,function(e){return e.selected})},getStacks:function(){var e=this;on(e.yAxis,function(e){e.stacks&&e.hasVisibleSeries&&(e.oldStacks=e.stacks)}),on(e.series,function(t){t.options.stacking&&(t.visible===!0||e.options.chart.ignoreHiddenSeries===!1)&&(t.stackKey=t.type+Ht(t.options.stack,""))})},setTitle:function(e,t,n){var r=this,i=r.options,s,o;s=i.title=xt(i.title,e),o=i.subtitle=xt(i.subtitle,t),on([["title",e,s],["subtitle",t,o]],function(e){var t=e[0],n=r[t],i=e[1],s=e[2];n&&i&&(r[t]=n=n.destroy()),s&&s.text&&!n&&(r[t]=r.renderer.text(s.text,0,0,s.useHTML).attr({align:s.align,"class":W+t,zIndex:s.zIndex||4}).css(s.style).add())}),r.layOutTitles(n)},layOutTitles:function(e){var t=0,n=this.title,r=this.subtitle,i=this.options,s=i.title,u=i.subtitle,a,f=this.renderer,l=this.spacingBox.width-44;n&&(n.css({width:(s.width||l)+V}).align(St({y:f.fontMetrics(s.style.fontSize,n).b-3},s),!1,"spacingBox"),!s.floating&&!s.verticalAlign&&(t=n.getBBox().height)),r&&(r.css({width:(u.width||l)+V}).align(St({y:t+(s.margin-13)+f.fontMetrics(s.style.fontSize,r).b},u),!1,"spacingBox"),!u.floating&&!u.verticalAlign&&(t=o(t+r.getBBox().height))),a=this.titleOffset!==t,this.titleOffset=t,!this.isDirtyBox&&a&&(this.isDirtyBox=a,this.hasRendered&&Ht(e,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this,t=e.options.chart,n=t.width,r=t.height,i=e.renderToClone||e.renderTo;_t(n)||(e.containerWidth=nn(i,"width")),_t(r)||(e.containerHeight=nn(i,"height")),e.chartWidth=u(0,n||e.containerWidth||600),e.chartHeight=u(0,Ht(r,e.containerHeight>19?e.containerHeight:400))},cloneRenderTo:function(e){var n=this.renderToClone,r=this.container;e?n&&(this.renderTo.appendChild(r),Qt(n),delete this.renderToClone):(r&&r.parentNode===this.renderTo&&this.renderTo.removeChild(r),this.renderToClone=n=this.renderTo.cloneNode(0),Bt(n,{position:R,top:"-9999px",display:"block"}),n.style.setProperty&&n.style.setProperty("display","block","important"),t.body.appendChild(n),r&&n.appendChild(r))},getContainer:function(){var e=this,n,r=e.options.chart,i,s,o,u="data-highcharts-chart",a,f;e.renderTo=o=r.renderTo,f=W+L++,Nt(o)&&(e.renderTo=o=t.getElementById(o)),o||Gt(13,!0),a=Tt(Dt(o,u)),!isNaN(a)&&B[a]&&B[a].hasRendered&&B[a].destroy(),Dt(o,u,e.index),o.innerHTML="",!r.skipClone&&!o.offsetWidth&&e.cloneRenderTo(),e.getChartSize(),i=e.chartWidth,s=e.chartHeight,e.container=n=jt(q,{className:W+"container"+(r.className?" "+r.className:""),id:f},St({position:U,overflow:z,width:i+V,height:s+V,textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},r.style),e.renderToClone||o),e._cursor=n.style.cursor,e.renderer=r.forExport?new Cn(n,i,s,r.style,!0):new N(n,i,s,r.style),T&&e.renderer.create(e,n,i,s),e.renderer.chartIndex=e.index},getMargins:function(e){var t=this,n=t.spacing,r=t.margin,i=t.titleOffset;t.resetMargins(),i&&!_t(r[0])&&(t.plotTop=u(t.plotTop,i+t.options.title.margin+n[0])),t.legend.adjustMargins(r,n),t.extraBottomMargin&&(t.marginBottom+=t.extraBottomMargin),t.extraTopMargin&&(t.plotTop+=t.extraTopMargin),e||this.getAxisMargins()},getAxisMargins:function(){var e=this,t=e.axisOffset=[0,0,0,0],n=e.margin;e.hasCartesianSeries&&on(e.axes,function(e){e.getOffset()}),on(et,function(r,i){_t(n[i])||(e[r]+=t[i])}),e.setChartSize()},reflow:function(e){var r=this,i=r.options.chart,s=r.renderTo,o=i.width||nn(s,"width"),u=i.height||nn(s,"height"),a=e?e.target:n,f=function(){r.container&&(r.setSize(o,u,!1),r.hasUserSize=null)};if(!r.hasUserSize&&!r.isPrinting&&o&&u&&(a===n||a===t)){if(o!==r.containerWidth||u!==r.containerHeight)clearTimeout(r.reflowTimeout),e?r.reflowTimeout=setTimeout(f,100):f();r.containerWidth=o,r.containerHeight=u}},initReflow:function(){var e=this,t=function(t){e.reflow(t)};ln(n,"resize",t),ln(e,"destroy",function(){cn(n,"resize",t)})},setSize:function(e,t,n){var r=this,s,o,a;r.isResizing+=1,a=function(){r&&hn(r,"endResize",null,function(){r.isResizing-=1})},Zt(n,r),r.oldChartHeight=r.chartHeight,r.oldChartWidth=r.chartWidth,_t(e)&&(r.chartWidth=s=u(0,i(e)),r.hasUserSize=!!s),_t(t)&&(r.chartHeight=o=u(0,i(t))),(_?dn:Bt)(r.container,{width:s+V,height:o+V},_),r.setChartSize(!0),r.renderer.setSize(s,o,n),r.maxTicks=null,on(r.axes,function(e){e.isDirty=!0,e.setScale()}),on(r.series,function(e){e.isDirty=!0}),r.isDirtyLegend=!0,r.isDirtyBox=!0,r.layOutTitles(),r.getMargins(),r.redraw(n),r.oldChartHeight=null,hn(r,"resize"),_===!1?a():setTimeout(a,_&&_.duration||500)},setChartSize:function(e){var t=this,n=t.inverted,r=t.renderer,a=t.chartWidth,f=t.chartHeight,l=t.options.chart,c=t.spacing,h=t.clipOffset,p,d,v,m,g,y,b;t.plotLeft=v=i(t.plotLeft),t.plotTop=m=i(t.plotTop),t.plotWidth=g=u(0,i(a-v-t.marginRight)),t.plotHeight=y=u(0,i(f-m-t.marginBottom)),t.plotSizeX=n?y:g,t.plotSizeY=n?g:y,t.plotBorderWidth=l.plotBorderWidth||0,t.spacingBox=r.spacingBox={x:c[3],y:c[0],width:a-c[3]-c[1],height:f-c[0]-c[2]},t.plotBox=r.plotBox={x:v,y:m,width:g,height:y},b=2*s(t.plotBorderWidth/2),p=o(u(b,h[3])/2),d=o(u(b,h[0])/2),t.clipBox={x:p,y:d,width:s(t.plotSizeX-u(b,h[1])/2-p),height:u(0,s(t.plotSizeY-u(b,h[2])/2-d))},e||on(t.axes,function(e){e.setAxisSize(),e.setAxisTranslation()})},resetMargins:function(){var e=this;on(et,function(t,n){e[t]=Ht(e.margin[n],e.spacing[n])}),e.axisOffset=[0,0,0,0],e.clipOffset=[0,0,0,0]},drawChartBox:function(){var e=this,t=e.options.chart,n=e.renderer,r=e.chartWidth,i=e.chartHeight,s=e.chartBackground,o=e.plotBackground,u=e.plotBorder,a=e.plotBGImage,f=t.borderWidth||0,l=t.backgroundColor,c=t.plotBackgroundColor,h=t.plotBackgroundImage,p=t.plotBorderWidth||0,d,v,m=e.plotLeft,g=e.plotTop,y=e.plotWidth,b=e.plotHeight,w=e.plotBox,E=e.clipRect,S=e.clipBox;d=f+(t.shadow?8:0);if(f||l)s?s.animate(s.crisp({width:r-d,height:i-d})):(v={fill:l||$},f&&(v.stroke=t.borderColor,v["stroke-width"]=f),e.chartBackground=n.rect(d/2,d/2,r-d,i-d,t.borderRadius,f).attr(v).addClass(W+"background").add().shadow(t.shadow));c&&(o?o.animate(w):e.plotBackground=n.rect(m,g,y,b,0).attr({fill:c}).add().shadow(t.plotShadow)),h&&(a?a.animate(w):e.plotBGImage=n.image(h,m,g,y,b).add()),E?E.animate({width:S.width,height:S.height}):e.clipRect=n.clipRect(S),p&&(u?u.animate(u.crisp({x:m,y:g,width:y,height:b,strokeWidth:-p})):e.plotBorder=n.rect(m,g,y,b,0,-p).attr({stroke:t.plotBorderColor,"stroke-width":p,fill:$,zIndex:1}).add()),e.isDirtyBox=!1},propFromSeries:function(){var e=this,t=e.options.chart,n,r=e.options.series,i,s;on(["inverted","angular","polar"],function(o){n=wt[t.type||t.defaultSeriesType],s=e[o]||t[o]||n&&n.prototype[o],i=r&&r.length;while(!s&&i--)n=wt[r[i].type],n&&n.prototype[o]&&(s=!0);e[o]=s})},linkSeries:function(){var e=this,t=e.series;on(t,function(e){e.linkedSeries.length=0}),on(t,function(t){var n=t.options.linkedTo;Nt(n)&&(n===":previous"?n=e.series[t.index-1]:n=e.get(n),n&&(n.linkedSeries.push(t),t.linkedParent=n))})},renderSeries:function(){on(this.series,function(e){e.translate(),e.render()})},renderLabels:function(){var e=this,t=e.options.labels;t.items&&on(t.items,function(n){var r=St(t.style,n.style),i=Tt(r.left)+e.plotLeft,s=Tt(r.top)+e.plotTop+12;delete r.left,delete r.top,e.renderer.text(n.html,i,s).attr({zIndex:2}).css(r).add()})},render:function(){var e=this,t=e.axes,n=e.renderer,r=e.options,i,s,o,u;e.setTitle(),e.legend=new Rn(e,r.legend),e.getStacks(),e.getMargins(!0),e.setChartSize(),i=e.plotWidth,s=e.plotHeight=e.plotHeight-13,on(t,function(e){e.setScale()}),e.getAxisMargins(),o=i/e.plotWidth>1.1,u=s/e.plotHeight>1.1;if(o||u)e.maxTicks=null,on(t,function(e){(e.horiz&&o||!e.horiz&&u)&&e.setTickInterval(!0)}),e.getMargins();e.drawChartBox(),e.hasCartesianSeries&&on(t,function(e){e.render()}),e.seriesGroup||(e.seriesGroup=n.g("series-group").attr({zIndex:3}).add()),e.renderSeries(),e.renderLabels(),e.showCredits(r.credits),e.hasRendered=!0},showCredits:function(e){e.enabled&&!this.credits&&(this.credits=this.renderer.text(e.text,0,0).on("click",function(){e.href&&(location.href=e.href)}).attr({align:e.position.align,zIndex:8}).css(e.style).add().align(e.position))},destroy:function(){var t=this,n=t.axes,r=t.series,i=t.container,s,o=i&&i.parentNode;hn(t,"destroy"),B[t.index]=e,j--,t.renderTo.removeAttribute("data-highcharts-chart"),cn(t),s=n.length;while(s--)n[s]=n[s].destroy();s=r.length;while(s--)r[s]=r[s].destroy();on(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(e){var n=t[e];n&&n.destroy&&(t[e]=n.destroy())}),i&&(i.innerHTML="",cn(i),o&&Qt(i));for(s in t)delete t[s]},isReadyToRender:function(){var e=this;return!S&&n==n.top&&t.readyState!=="complete"||T&&!n.canvg?(T?Mn.push(function(){e.firstRender()},e.options.global.canvasToolsURL):t.attachEvent("onreadystatechange",function(){t.detachEvent("onreadystatechange",e.firstRender),t.readyState==="complete"&&e.firstRender()}),!1):!0},firstRender:function(){var t=this,n=t.options,r=t.callback;if(!t.isReadyToRender())return;t.getContainer(),hn(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),on(n.series||[],function(e){t.initSeries(e)}),t.linkSeries(),hn(t,"beforeRender"),Et.Pointer&&(t.pointer=new Bn(t,n)),t.render(),t.renderer.draw(),r&&r.apply(t,[t]),on(t.callbacks,function(n){t.index!==e&&n.apply(t,[t])}),hn(t,"load"),t.cloneRenderTo(!0)},splashArray:function(e,t){var n=t[e],r=Ct(n)?n:[n,n,n,n];return[Ht(t[e+"Top"],r[0]),Ht(t[e+"Right"],r[1]),Ht(t[e+"Bottom"],r[2]),Ht(t[e+"Left"],r[3])]}};var Wn=Et.CenteredSeriesMixin={getCenter:function(){var e=this.options,t=this.chart,n=2*(e.slicedOffset||0),r,i=t.plotWidth-2*n,s=t.plotHeight-2*n,o=e.center,u=[Ht(o[0],"50%"),Ht(o[1],"50%"),e.size||"100%",e.innerSize||0],f=a(i,s),l,c,h;for(c=0;c<4;++c)h=u[c],l=/%$/.test(h),r=c<2||c===2&&l,u[c]=(l?[i,s,f,u[2]][c]*Tt(h)/100:Tt(h))+(r?n:0);return u}},Xn=function(){};Xn.prototype={init:function(e,t,n){var r=this,i;return r.series=e,r.color=e.color,r.applyOptions(t,n),r.pointAttr={},e.options.colorByPoint&&(i=e.options.colors||e.chart.options.colors,r.color=r.color||i[e.colorCounter++],e.colorCounter===i.length&&(e.colorCounter=0)),e.chart.pointCount++,r},applyOptions:function(t,n){var r=this,i=r.series,s=i.options.pointValKey||i.pointValKey;return t=Xn.prototype.optionsToObject.call(this,t),St(r,t),r.options=r.options?St(r.options,t):t,s&&(r.y=r[s]),r.x===e&&i&&(r.x=n===e?i.autoIncrement():n),r},optionsToObject:function(e){var t={},n=this.series,r=n.options.keys,i=r||n.pointArrayMap||["y"],s=i.length,o,u=0,a=0;if(typeof e=="number"||e===null)t[i[0]]=e;else if(kt(e)){!r&&e.length>s&&(o=typeof e[0],o==="string"?t.name=e[0]:o==="number"&&(t.x=e[0]),u++);while(a<s)t[i[a++]]=e[u++]}else typeof e=="object"&&(t=e,e.dataLabels&&(n._hasPointLabels=!0),e.marker&&(n._hasPointMarkers=!0));return t},destroy:function(){var e=this,t=e.series,n=t.chart,r=n.hoverPoints,i;n.pointCount--,r&&(e.setState(),Mt(r,e),r.length||(n.hoverPoints=null)),e===n.hoverPoint&&e.onMouseOut();if(e.graphic||e.dataLabel)cn(e),e.destroyElements();e.legendItem&&n.legend.destroyItem(e);for(i in e)e[i]=null},destroyElements:function(){var e=this,t=["graphic","dataLabel","dataLabelUpper","group","connector","shadowGroup"],n,r=6;while(r--)n=t[r],e[n]&&(e[n]=e[n].destroy())},getLabelConfig:function(){var e=this;return{x:e.category,y:e.y,key:e.name||e.category,series:e.series,point:e,percentage:e.percentage,total:e.total||e.stackTotal}},tooltipFormatter:function(e){var t=this.series,n=t.tooltipOptions,r=Ht(n.valueDecimals,""),i=n.valuePrefix||"",s=n.valueSuffix||"";return on(t.pointArrayMap||["y"],function(t){t="{point."+t;if(i||s)e=e.replace(t+"}",i+t+"}"+s);e=e.replace(t+"}",t+":,."+r+"f}")}),zt(e,{point:this,series:this.series})},firePointEvent:function(e,t,n){var r=this,i=this.series,s=i.options;(s.point.events[e]||r.options&&r.options.events&&r.options.events[e])&&this.importEvents(),e==="click"&&s.allowPointSelect&&(n=function(e){r.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),hn(this,e,t,n)}};var Vn=Et.Series=function(){};Vn.prototype={isCartesian:!0,type:"line",pointClass:Xn,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(e,t){var n=this,r,i,s=e.series,o=function(e,t){return Ht(e.options.index,e._i)-Ht(t.options.index,t._i)};n.chart=e,n.options=t=n.setOptions(t),n.linkedSeries=[],n.bindAxes(),St(n,{name:t.name,state:G,pointAttr:{},visible:t.visible!==!1,selected:t.selected===!0}),T&&(t.animation=!1),i=t.events;for(r in i)ln(n,r,i[r]);if(i&&i.click||t.point&&t.point.events&&t.point.events.click||t.allowPointSelect)e.runTrackerClick=!0;n.getColor(),n.getSymbol(),on(n.parallelArrays,function(e){n[e+"Data"]=[]}),n.setData(t.data,!1),n.isCartesian&&(e.hasCartesianSeries=!0),s.push(n),n._i=s.length-1,Vt(s,o),this.yAxis&&Vt(this.yAxis.series,o),on(s,function(e,t){e.index=t,e.name=e.name||"Series "+(t+1)})},bindAxes:function(){var t=this,n=t.options,r=t.chart,i;on(t.axisTypes||[],function(s){on(r[s],function(r){i=r.options;if(n[s]===i.index||n[s]!==e&&n[s]===i.id||n[s]===e&&i.index===0)r.series.push(t),t[s]=r,r.isDirty=!0}),!t[s]&&t.optionalAxis!==s&&Gt(18,!0)})},updateParallelArrays:function(e,t){var n=e.series,r=arguments,i=typeof t=="number"?function(r){var i=r==="y"&&n.toYData?n.toYData(e):e[r];n[r+"Data"][t]=i}:function(e){Array.prototype[t].apply(n[e+"Data"],Array.prototype.slice.call(r,2))};on(n.parallelArrays,i)},autoIncrement:function(){var e=this.options,t=this.xIncrement,n,r,i=e.pointIntervalUnit;t=Ht(t,e.pointStart,0),this.pointInterval=r=Ht(this.pointInterval,e.pointInterval,1);if(i==="month"||i==="year")n=new rt(t),n=i==="month"?+n[yt](n[ct]()+r):+n[bt](n[ht]()+r),r=n-t;return this.xIncrement=t+r,t},getSegments:function(){var e=this,t=-1,n=[],r,i=e.points,s=i.length;if(s)if(e.options.connectNulls){r=s;while(r--)i[r].y===null&&i.splice(r,1);i.length&&(n=[i])}else on(i,function(e,r){e.y===null?(r>t+1&&n.push(i.slice(t+1,r)),t=r):r===s-1&&n.push(i.slice(t+1,r+1))});e.segments=n},setOptions:function(e){var t=this.chart,n=t.options,r=n.plotOptions,i=t.userOptions||{},s=i.plotOptions||{},o=r[this.type],u,a;return this.userOptions=e,u=xt(o,r.series,e),this.tooltipOptions=xt(O.tooltip,O.plotOptions[this.type].tooltip,i.tooltip,s.series&&s.series.tooltip,s[this.type]&&s[this.type].tooltip,e.tooltip),o.marker===null&&delete u.marker,this.zoneAxis=u.zoneAxis,a=this.
zones=(u.zones||[]).slice(),(u.negativeColor||u.negativeFillColor)&&!u.zones&&a.push({value:u[this.zoneAxis+"Threshold"]||u.threshold||0,color:u.negativeColor,fillColor:u.negativeFillColor}),a.length&&_t(a[a.length-1].value)&&a.push({color:this.color,fillColor:this.fillColor}),u},getCyclic:function(e,t,n){var r,i=this.userOptions,s="_"+e+"Index",o=e+"Counter";t||(_t(i[s])?r=i[s]:(i[s]=r=this.chart[o]%n.length,this.chart[o]+=1),t=n[r]),this[e]=t},getColor:function(){this.options.colorByPoint||this.getCyclic("color",this.options.color||mn[this.type].color,this.chart.options.colors)},getSymbol:function(){var e=this.options.marker;this.getCyclic("symbol",e.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(e.radius=0)},drawLegendSymbol:Un.drawLineMarker,setData:function(t,n,r,i){var s=this,o=s.points,u=o&&o.length||0,a,f=s.options,l=s.chart,c=null,h=s.xAxis,p=h&&!!h.categories,d,v=f.turboThreshold,m,g=this.xData,y=this.yData,b=s.pointArrayMap,w=b&&b.length;t=t||[],a=t.length,n=Ht(n,!0);if(i!==!1&&a&&u===a&&!s.cropped&&!s.hasGroupedData&&s.visible)on(t,function(e,t){o[t].update(e,!1,null,!1)});else{s.xIncrement=null,s.pointRange=p?1:f.pointRange,s.colorCounter=0,on(this.parallelArrays,function(e){s[e+"Data"].length=0});if(v&&a>v){d=0;while(c===null&&d<a)c=t[d],d++;if(Lt(c)){var E=Ht(f.pointStart,0),S=Ht(f.pointInterval,1);for(d=0;d<a;d++)g[d]=E,y[d]=t[d],E+=S;s.xIncrement=E}else if(kt(c))if(w)for(d=0;d<a;d++)m=t[d],g[d]=m[0],y[d]=m.slice(1,w+1);else for(d=0;d<a;d++)m=t[d],g[d]=m[0],y[d]=m[1];else Gt(12)}else for(d=0;d<a;d++)t[d]!==e&&(m={series:s},s.pointClass.prototype.applyOptions.apply(m,[t[d]]),s.updateParallelArrays(m,d),p&&m.name&&(h.names[m.x]=m.name));Nt(y[0])&&Gt(14,!0),s.data=[],s.options.data=t,d=u;while(d--)o[d]&&o[d].destroy&&o[d].destroy();h&&(h.minRange=h.userMinRange),s.isDirty=s.isDirtyData=l.isDirtyBox=!0,r=!1}n&&l.redraw(r)},processData:function(t){var n=this,r=n.xData,i=n.yData,s=r.length,o,u=0,a,f,l,c=n.xAxis,h,p=n.options,d=p.cropThreshold,v=n.isCartesian,m,g,y;if(v&&!n.isDirty&&!c.isDirty&&!n.yAxis.isDirty&&!t)return!1;c&&(m=c.getExtremes(),g=m.min,y=m.max);if(v&&n.sorted&&(!d||s>d||n.forceCrop))if(r[s-1]<g||r[0]>y)r=[],i=[];else if(r[0]<g||r[s-1]>y)o=this.cropData(n.xData,n.yData,g,y),r=o.xData,i=o.yData,u=o.start,a=!0;for(h=r.length-1;h>=0;h--)f=r[h]-r[h-1],f>0&&(l===e||f<l)?l=f:f<0&&n.requireSorting&&Gt(15);n.cropped=a,n.cropStart=u,n.processedXData=r,n.processedYData=i,p.pointRange===null&&(n.pointRange=l||1),n.closestPointRange=l},cropData:function(e,t,n,r){var i=e.length,s=0,o=i,a=Ht(this.cropShoulder,1),f;for(f=0;f<i;f++)if(e[f]>=n){s=u(0,f-a);break}for(;f<i;f++)if(e[f]>r){o=f+a;break}return{xData:e.slice(s,o),yData:t.slice(s,o),start:s,end:o}},generatePoints:function(){var t=this,n=t.options,r=n.data,i=t.data,s,o=t.processedXData,u=t.processedYData,a=t.pointClass,f=o.length,l=t.cropStart||0,c,h=t.hasGroupedData,p,d=[],v;if(!i&&!h){var m=[];m.length=r.length,i=t.data=m}for(v=0;v<f;v++)c=l+v,h?d[v]=(new a).init(t,[o[v]].concat(Pt(u[v]))):(i[c]?p=i[c]:r[c]!==e&&(i[c]=p=(new a).init(t,r[c],o[v])),d[v]=p),d[v].index=c;if(i&&(f!==(s=i.length)||h))for(v=0;v<s;v++)v===l&&!h&&(v+=f),i[v]&&(i[v].destroyElements(),i[v].plotX=e);t.data=i,t.points=d},getExtremes:function(t){var n=this.xAxis,r=this.yAxis,i=this.processedXData,s,o=[],u=0,a=n.getExtremes(),f=a.min,l=a.max,c,h,p,d,v,m;t=t||this.stackedYData||this.processedYData,s=t.length;for(v=0;v<s;v++){p=i[v],d=t[v],c=d!==null&&d!==e&&(!r.isLog||d.length||d>0),h=this.getExtremesFromAll||this.cropped||(i[v+1]||p)>=f&&(i[v-1]||p)<=l;if(c&&h){m=d.length;if(m)while(m--)d[m]!==null&&(o[u++]=d[m]);else o[u++]=d}}this.dataMin=$t(o),this.dataMax=Jt(o)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t=this,n=t.options,r=n.stacking,i=t.xAxis,s=i.categories,o=t.yAxis,l=t.points,c=l.length,h=!!t.modifyValue,p,d=n.pointPlacement,v=d==="between"||Lt(d),m=n.threshold,g,y,b,w=Number.MAX_VALUE;for(p=0;p<c;p++){var E=l[p],S=E.x,x=E.y,T=E.low,N=r&&o.stacks[(t.negStacks&&x<m?"-":"")+t.stackKey],C,k;o.isLog&&x!==null&&x<=0&&(E.y=x=null,Gt(10)),E.plotX=g=i.translate(S,0,0,0,1,d,this.type==="flags"),r&&t.visible&&N&&N[S]&&(C=N[S],k=C.points[t.index+","+p],T=k[0],x=k[1],T===0&&(T=Ht(m,o.min)),o.isLog&&T<=0&&(T=null),E.total=E.stackTotal=C.total,E.percentage=C.total&&E.y/C.total*100,E.stackY=x,C.setOffset(t.pointXOffset||0,t.barW||0)),E.yBottom=_t(T)?o.translate(T,0,1,0,1):null,h&&(x=t.modifyValue(x,E)),E.plotY=y=typeof x=="number"&&x!==Infinity?a(u(-1e5,o.translate(x,0,1,0,1)),1e5):e,E.isInside=y!==e&&y>=0&&y<=o.len&&g>=0&&g<=i.len,E.clientX=v?i.translate(S,0,0,0,1):g,E.negative=E.y<(m||0),E.category=s&&s[E.x]!==e?s[E.x]:E.x,p&&(w=a(w,f(g-b))),b=g}t.closestPointRangePx=w,t.getSegments()},setClip:function(e){var t=this.chart,n=t.renderer,r=t.inverted,i=this.clipBox,s=i||t.clipBox,o=this.sharedClipKey||["_sharedClip",e&&e.duration,e&&e.easing,s.height].join(","),u=t[o],a=t[o+"m"];u||(e&&(s.width=0,t[o+"m"]=a=n.clipRect(-99,r?-t.plotLeft:-t.plotTop,99,r?t.chartWidth:t.chartHeight)),t[o]=u=n.clipRect(s)),e&&(u.count+=1),this.options.clip!==!1&&(this.group.clip(e||i?u:t.clipRect),this.markerGroup.clip(a),this.sharedClipKey=o),e||(u.count-=1,u.count<=0&&o&&t[o]&&(i||(t[o]=t[o].destroy()),t[o+"m"]&&(t[o+"m"]=t[o+"m"].destroy())))},animate:function(e){var t=this,n=t.chart,r,i=t.options.animation,s;i&&!Ct(i)&&(i=mn[t.type].animation),e?t.setClip(i):(s=this.sharedClipKey,r=n[s],r&&r.animate({width:n.plotSizeX},i),n[s+"m"]&&n[s+"m"].animate({width:n.plotSizeX+99},i),t.animate=null)},afterAnimate:function(){this.setClip(),hn(this,"afterAnimate")},drawPoints:function(){var t=this,n,r=t.points,i=t.chart,o,u,a,f,l,c,h,p,d=t.options,v=d.marker,m=t.pointAttr[""],g,y,b,w,E=t.markerGroup,S=t.xAxis,x=Ht(v.enabled,S.isRadial,t.closestPointRangePx>2*v.radius);if(v.enabled!==!1||t._hasPointMarkers){a=r.length;while(a--)f=r[a],o=s(f.plotX),u=f.plotY,p=f.graphic,g=f.marker||{},y=!!f.marker,b=x&&g.enabled===e||g.enabled,w=f.isInside,b&&u!==e&&!isNaN(u)&&f.y!==null?(n=f.pointAttr[f.selected?Z:G]||m,l=n.r,c=Ht(g.symbol,t.symbol),h=c.indexOf("url")===0,p?p[w?"show":"hide"](!0).animate(St({x:o-l,y:u-l},p.symbolName?{width:2*l,height:2*l}:{})):w&&(l>0||h)&&(f.graphic=p=i.renderer.symbol(c,o-l,u-l,2*l,2*l,y?g:v).attr(n).add(E))):p&&(f.graphic=p.destroy())}},convertAttribs:function(e,t,n,r){var i=this.pointAttrToOptions,s,o,u={};e=e||{},t=t||{},n=n||{},r=r||{};for(s in i)o=i[s],u[s]=Ht(e[o],t[s],n[s],r[s]);return u},getAttribs:function(){var e=this,t=e.options,n=mn[e.type].marker?t.marker:t,r=n.states,i=r[Y],s,o=e.color,u=e.options.negativeColor,a={stroke:o,fill:o},f=e.points||[],l,c,h=[],p,d=e.pointAttrToOptions,v=e.hasPointSpecificOptions,m=n.lineColor,g=n.fillColor,y=t.turboThreshold,b=e.zones,w=e.zoneAxis||"y",E,S;t.marker?(i.radius=i.radius||n.radius+i.radiusPlus,i.lineWidth=i.lineWidth||n.lineWidth+i.lineWidthPlus):(i.color=i.color||Tn(i.color||o).brighten(i.brightness).get(),i.negativeColor=i.negativeColor||Tn(i.negativeColor||u).brighten(i.brightness).get()),h[G]=e.convertAttribs(n,a),on([Y,Z],function(t){h[t]=e.convertAttribs(r[t],h[G])}),e.pointAttr=h,l=f.length;if(!y||l<y||v)while(l--){c=f[l],n=c.options&&c.options.marker||c.options,n&&n.enabled===!1&&(n.radius=0);if(b.length){var x=0,T=b[x];while(c[w]>=T.value)T=b[++x];c.color=c.fillColor=T.color}v=t.colorByPoint||c.color;if(c.options)for(S in d)_t(n[d[S]])&&(v=!0);v?(n=n||{},p=[],r=n.states||{},s=r[Y]=r[Y]||{},t.marker||(s.color=s.color||!c.options.color&&i[c.negative&&u?"negativeColor":"color"]||Tn(c.color).brighten(s.brightness||i.brightness).get()),E={color:c.color},g||(E.fillColor=c.color),m||(E.lineColor=c.color),n.hasOwnProperty("color")&&!n.color&&delete n.color,p[G]=e.convertAttribs(St(E,n),h[G]),p[Y]=e.convertAttribs(r[Y],h[Y],p[G]),p[Z]=e.convertAttribs(r[Z],h[Z],p[G])):p=h,c.pointAttr=p}},destroy:function(){var e=this,t=e.chart,n=/AppleWebKit\/533/.test(d),r,i,s=e.data||[],o,u,a;hn(e,"destroy"),cn(e),on(e.axisTypes||[],function(t){a=e[t],a&&(Mt(a.series,e),a.isDirty=a.forceRedraw=!0)}),e.legendItem&&e.chart.legend.destroyItem(e),i=s.length;while(i--)o=s[i],o&&o.destroy&&o.destroy();e.points=null,clearTimeout(e.animationTimeout);for(u in e)e[u]instanceof Nn&&!e[u].survive&&(r=n&&u==="group"?"hide":"destroy",e[u][r]());t.hoverSeries===e&&(t.hoverSeries=null),Mt(t.series,e);for(u in e)delete e[u]},getSegmentPath:function(e){var t=this,n=[],r=t.options.step;return on(e,function(i,s){var o=i.plotX,u=i.plotY,a;t.getPointSpline?n.push.apply(n,t.getPointSpline(e,i,s)):(n.push(s?K:J),r&&s&&(a=e[s-1],r==="right"?n.push(a.plotX,u):r==="center"?n.push((a.plotX+o)/2,a.plotY,(a.plotX+o)/2,u):n.push(o,a.plotY)),n.push(i.plotX,i.plotY))}),n},getGraphPath:function(){var e=this,t=[],n,r=[];return on(e.segments,function(i){n=e.getSegmentPath(i),i.length>1?t=t.concat(n):r.push(i[0])}),e.singlePoints=r,e.graphPath=t,t},drawGraph:function(){var e=this,t=this.options,n=[["graph",t.lineColor||this.color,t.dashStyle]],r=t.lineWidth,i=t.linecap!=="square",s=this.getGraphPath(),o=this.fillGraph&&this.color||$,u=this.zones;on(u,function(r,i){n.push(["zoneGraph"+i,r.color||e.color,r.dashStyle||t.dashStyle])}),on(n,function(n,u){var a=n[0],f=e[a],l;f?(vn(f),f.animate({d:s})):(r||o)&&s.length&&(l={stroke:n[1],"stroke-width":r,fill:o,zIndex:1},n[2]?l.dashstyle=n[2]:i&&(l["stroke-linecap"]=l["stroke-linejoin"]="round"),e[a]=e.chart.renderer.path(s).attr(l).add(e.group).shadow(u<2&&t.shadow))})},applyZones:function(){var e=this,t=this.chart,n=t.renderer,r=this.zones,s,o,a=this.clips||[],f,l=this.graph,c=this.area,h=u(t.chartWidth,t.chartHeight),p=this.zoneAxis||"y",d=this[p+"Axis"],v=d.reversed,m=d.horiz,g=!1;r.length&&(l||c)&&(l&&l.hide(),c&&c.hide(),on(r,function(r,u){s=Ht(o,v?m?t.plotWidth:0:m?0:d.toPixels(d.min)),o=i(d.toPixels(Ht(r.value,d.max),!0)),d.isXAxis?s=s>o?o:s:s=s<o?o:s,g&&(s=o=d.toPixels(d.max)),d.isXAxis?(f={x:v?o:s,y:0,width:Math.abs(s-o),height:h},m||(f.x=t.plotHeight-f.x)):(f={x:0,y:v?s:o,width:h,height:Math.abs(s-o)},m&&(f.y=t.plotWidth-f.y)),t.inverted&&n.isVML&&(d.isXAxis?f={x:0,y:v?s:o,height:f.width,width:t.chartWidth}:f={x:f.y-t.plotLeft-t.spacingBox.x,y:0,width:f.height,height:t.chartHeight}),a[u]?a[u].animate(f):(a[u]=n.clipRect(f),l&&e["zoneGraph"+u].clip(a[u]),c&&e["zoneArea"+u].clip(a[u])),g=r.value>d.max}),this.clips=a)},invertGroups:function(){function n(){var t={width:e.yAxis.len,height:e.xAxis.len};on(["group","markerGroup"],function(n){e[n]&&e[n].attr(t).invert()})}var e=this,t=e.chart;if(!e.xAxis)return;ln(t,"resize",n),ln(e,"destroy",function(){cn(t,"resize",n)}),n(),e.invertGroups=n},plotGroup:function(e,t,n,r,i){var s=this[e],o=!s;return o&&(this[e]=s=this.chart.renderer.g(t).attr({visibility:n,zIndex:r||.1}).add(i)),s[o?"attr":"animate"](this.getPlotBox()),s},getPlotBox:function(){var e=this.chart,t=this.xAxis,n=this.yAxis;return e.inverted&&(t=n,n=this.xAxis),{translateX:t?t.left:e.plotLeft,translateY:n?n.top:e.plotTop,scaleX:1,scaleY:1}},render:function(){var e=this,t=e.chart,n,r=e.options,i=r.animation,s=i&&!!e.animate&&t.renderer.isSVG&&Ht(i.duration,500)||0,o=e.visible?X:z,u=r.zIndex,a=e.hasRendered,f=t.seriesGroup;n=e.plotGroup("group","series",o,u,f),e.markerGroup=e.plotGroup("markerGroup","markers",o,u,f),s&&e.animate(!0),e.getAttribs(),n.inverted=e.isCartesian?t.inverted:!1,e.drawGraph&&(e.drawGraph(),e.applyZones()),on(e.points,function(e){e.redraw&&e.redraw()}),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&e.options.enableMouseTracking!==!1&&e.drawTracker(),t.inverted&&e.invertGroups(),r.clip!==!1&&!e.sharedClipKey&&!a&&n.clip(t.clipRect),s&&e.animate(),a||(s?e.animationTimeout=setTimeout(function(){e.afterAnimate()},s):e.afterAnimate()),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var e=this,t=e.chart,n=e.isDirtyData,r=e.isDirty,i=e.group,s=e.xAxis,o=e.yAxis;i&&(t.inverted&&i.attr({width:t.plotWidth,height:t.plotHeight}),i.animate({translateX:Ht(s&&s.left,t.plotLeft),translateY:Ht(o&&o.top,t.plotTop)})),e.translate(),e.render(),n&&hn(e,"updatedData"),(r||n)&&delete this.kdTree},kdDimensions:1,kdTree:null,kdAxisArray:["clientX","plotY"],kdComparer:"distX",searchPoint:function(e){var t=this,n=t.xAxis,r=t.yAxis,i=t.chart.inverted;return this.searchKDTree({clientX:i?n.len-e.chartY+n.pos:e.chartX-n.pos,plotY:i?r.len-e.chartX+r.pos:e.chartY-r.pos})},buildKDTree:function(){function n(t,r,i){var s,o,u=t&&t.length;if(u)return s=e.kdAxisArray[r%i],t.sort(function(e,t){return e[s]-t[s]}),o=Math.floor(u/2),{point:t[o],left:n(t.slice(0,o),r+1,i),right:n(t.slice(o+1),r+1,i)}}function r(){var r=un(e.points,function(e){return e.y!==null});e.kdTree=n(r,t,t)}var e=this,t=e.kdDimensions;delete e.kdTree,e.options.kdSync?r():setTimeout(r)},searchKDTree:function(e){function s(e,t){var n=_t(e[r])&&_t(t[r])?Math.pow(e[r]-t[r],2):null,s=_t(e[i])&&_t(t[i])?Math.pow(e[i]-t[i],2):null,o=(n||0)+(s||0);return{distX:_t(n)?Math.sqrt(n):Number.MAX_VALUE,distY:_t(s)?Math.sqrt(s):Number.MAX_VALUE,distR:_t(o)?Math.sqrt(o):Number.MAX_VALUE}}function o(e,r,i,u){var a=r.point,f=t.kdAxisArray[i%u],l,c,h,p=a,d,v;return a.dist=s(e,a),l=e[f]-a[f],c=l<0?"left":"right",r[c]&&(d=o(e,r[c],i+1,u),p=d.dist[n]<p.dist[n]?d:a,h=l<0?"right":"left",r[h]&&Math.sqrt(l*l)<p.dist[n]&&(v=o(e,r[h],i+1,u),p=v.dist[n]<p.dist[n]?v:p)),p}var t=this,n=this.kdComparer,r=this.kdAxisArray[0],i=this.kdAxisArray[1];this.kdTree||this.buildKDTree();if(this.kdTree)return o(e,this.kdTree,this.kdDimensions,this.kdDimensions)}},$n.prototype={destroy:function(){Kt(this,this.axis)},render:function(e){var t=this.options,n=t.format,r=n?zt(n,this):t.formatter.call(this);this.label?this.label.attr({text:r,visibility:z}):this.label=this.axis.chart.renderer.text(r,null,null,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:z}).add(e)},setOffset:function(e,t){var n=this,r=n.axis,i=r.chart,s=i.inverted,o=r.reversed,u=this.isNegative&&!o||!this.isNegative&&o,a=r.translate(r.usePercentage?100:this.total,0,0,0,1),l=r.translate(0),c=f(a-l),h=i.xAxis[0].translate(this.x)+e,p=i.plotHeight,d={x:s?u?a:a-c:h,y:s?p-h-t:u?p-a-c:p-a,width:s?c:t,height:s?t:c},v=this.label,m;v&&(v.align(this.alignOptions,null,d),m=v.alignAttr,v[this.options.crop===!1||i.isInsidePlot(m.x,m.y)?"show":"hide"](!0))}},Dn.prototype.buildStacks=function(){var e=this.series,t=Ht(this.options.reversedStacks,!0),n=e.length;if(!this.isXAxis){this.usePercentage=!1;while(n--)e[t?n:e.length-n-1].setStackedPoints();if(this.usePercentage)for(n=0;n<e.length;n++)e[n].setPercentStacks()}},Dn.prototype.renderStackTotals=function(){var e=this,t=e.chart,n=t.renderer,r=e.stacks,i,s,o,u=e.stackTotalGroup;u||(e.stackTotalGroup=u=n.g("stack-labels").attr({visibility:X,zIndex:6}).add()),u.translate(t.plotLeft,t.plotTop);for(i in r){s=r[i];for(o in s)s[o].render(u)}},Vn.prototype.setStackedPoints=function(){if(!this.options.stacking||this.visible!==!0&&this.chart.options.chart.ignoreHiddenSeries!==!1)return;var e=this,t=e.processedXData,n=e.processedYData,r=[],i=n.length,s=e.options,o=s.threshold,a=s.stack,l=s.stacking,c=e.stackKey,h="-"+c,p=e.negStacks,d=e.yAxis,v=d.stacks,m=d.oldStacks,g,y,b,w,E,S,x,T;for(S=0;S<i;S++)x=t[S],T=n[S],E=e.index+","+S,g=p&&T<o,w=g?h:c,v[w]||(v[w]={}),v[w][x]||(m[w]&&m[w][x]?(v[w][x]=m[w][x],v[w][x].total=null):v[w][x]=new $n(d,d.options.stackLabels,g,x,a)),y=v[w][x],y.points[E]=[y.cum||0],l==="percent"?(b=g?c:h,p&&v[b]&&v[b][x]?(b=v[b][x],y.total=b.total=u(b.total,y.total)+f(T)||0):y.total=Yt(y.total+(f(T)||0))):y.total=Yt(y.total+(T||0)),y.cum=(y.cum||0)+(T||0),y.points[E].push(y.cum),r[S]=y.cum;l==="percent"&&(d.usePercentage=!0),this.stackedYData=r,d.oldStacks={}},Vn.prototype.setPercentStacks=function(){var e=this,t=e.stackKey,n=e.yAxis.stacks,r=e.processedXData;on([t,"-"+t],function(t){var i=r.length,s,o,u,a;while(i--)s=r[i],o=n[t]&&n[t][s],u=o&&o.points[e.index+","+i],u&&(a=o.total?100/o.total:0,u[0]=Yt(u[0]*a),u[1]=Yt(u[1]*a),e.stackedYData[i]=u[1])})},St(zn.prototype,{addSeries:function(e,t,n){var r,i=this;return e&&(t=Ht(t,!0),hn(i,"addSeries",{options:e},function(){r=i.initSeries(e),i.isDirtyLegend=!0,i.linkSeries(),t&&i.redraw(n)})),r},addAxis:function(e,t,n,r){var i=t?"xAxis":"yAxis",s=this.options,o;o=new Dn(this,xt(e,{index:this[i].length,isX:t})),s[i]=Pt(s[i]||{}),s[i].push(e),Ht(n,!0)&&this.redraw(r)},showLoading:function(e){var t=this,n=t.options,r=t.loadingDiv,i=n.loading,s=function(){r&&Bt(r,{left:t.plotLeft+V,top:t.plotTop+V,width:t.plotWidth+V,height:t.plotHeight+V})};r||(t.loadingDiv=r=jt(q,{className:W+"loading"},St(i.style,{zIndex:10,display:$}),t.container),t.loadingSpan=jt("span",null,i.labelStyle,r),ln(t,"redraw",s)),t.loadingSpan.innerHTML=e||n.lang.loading,t.loadingShown||(Bt(r,{opacity:0,display:""}),dn(r,{opacity:i.style.opacity},{duration:i.showDuration||0}),t.loadingShown=!0),s()},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&dn(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){Bt(t,{display:$})}}),this.loadingShown=!1}}),St(Xn.prototype,{update:function(e,t,n,r){function c(){i.applyOptions(e),Ct(e)&&!kt(e)&&(i.redraw=function(){o&&(e&&e.marker&&e.marker.symbol?i.graphic=o.destroy():o.attr(i.pointAttr[i.state||""])),e&&e.dataLabels&&i.dataLabel&&(i.dataLabel=i.dataLabel.destroy()),i.redraw=null}),u=i.index,s.updateParallelArrays(i,u),l&&i.name&&(l[i.x]=i.name),f.data[u]=i.options,s.isDirty=s.isDirtyData=!0,!s.fixedBox&&s.hasCartesianSeries&&(a.isDirtyBox=!0),a.legend.display&&f.legendType==="point"&&(s.updateTotals(),a.legend.clearItems()),t&&a.redraw(n)}var i=this,s=i.series,o=i.graphic,u,a=s.chart,f=s.options,l=s.xAxis&&s.xAxis.names;t=Ht(t,!0),r===!1?c():i.firePointEvent("update",{options:e},c)},remove:function(e,t){this.series.removePoint(sn(this,this.series.data),e,t)}}),St(Vn.prototype,{addPoint:function(e,t,n,r){var i=this,s=i.options,o=i.data,u=i.graph,a=i.area,f=i.chart,l=i.xAxis&&i.xAxis.names,c=u&&u.shift||0,h=["graph","area"],p=s.data,d,v,m=i.xData,g,y;Zt(r,f);if(n){g=i.zones.length;while(g--)h.push("zoneGraph"+g,"zoneArea"+g);on(h,function(e){i[e]&&(i[e].shift=c+1)})}a&&(a.isArea=!0),t=Ht(t,!0),d={series:i},i.pointClass.prototype.applyOptions.apply(d,[e]),y=d.x,g=m.length;if(i.requireSorting&&y<m[g-1]){v=!0;while(g&&m[g-1]>y)g--}i.updateParallelArrays(d,"splice",g,0,0),i.updateParallelArrays(d,g),l&&d.name&&(l[y]=d.name),p.splice(g,0,e),v&&(i.data.splice(g,0,null),i.processData()),s.legendType==="point"&&i.generatePoints(),n&&(o[0]&&o[0].remove?o[0].remove(!1):(o.shift(),i.updateParallelArrays(d,"shift"),p.shift())),i.isDirty=!0,i.isDirtyData=!0,t&&(i.getAttribs(),f.redraw())},removePoint:function(e,t,n){var r=this,i=r.data,s=i[e],o=r.points,u=r.chart,a=function(){i.length===o.length&&o.splice(e,1),i.splice(e,1),r.options.data.splice(e,1),r.updateParallelArrays(s||{series:r},"splice",e,1),s&&s.destroy(),r.isDirty=!0,r.isDirtyData=!0,t&&u.redraw()};Zt(n,u),t=Ht(t,!0),s?s.firePointEvent("remove",null,a):a()},remove:function(e,t){var n=this,r=n.chart;e=Ht(e,!0),n.isRemoving||(n.isRemoving=!0,hn(n,"remove",null,function(){n.destroy(),r.isDirtyLegend=r.isDirtyBox=!0,r.linkSeries(),e&&r.redraw(t)})),n.isRemoving=!1},update:function(t,n){var r=this,i=this.chart,s=this.userOptions,o=this.type,u=wt[o].prototype,a=["group","markerGroup","dataLabelsGroup"],f;if(t.type&&t.type!==o||t.zIndex!==undefined)a.length=0;on(a,function(e){a[e]=r[e],delete r[e]}),t=xt(s,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},t),this.remove(!1);for(f in u)this[f]=e;St(this,wt[t.type||o].prototype),on(a,function(e){r[e]=a[e]}),this.init(i,t),i.linkSeries(),Ht(n,!0)&&i.redraw(!1)}}),St(Dn.prototype,{update:function(t,n){var r=this.chart;t=r.options[this.coll][this.options.index]=xt(this.userOptions,t),this.destroy(!0),this._addedPlotLB=e,this.init(r,St(t,{events:e})),r.isDirtyBox=!0,Ht(n,!0)&&r.redraw()},remove:function(e){var t=this.chart,n=this.coll,r=this.series,i=r.length;while(i--)r[i]&&r[i].remove(!1);Mt(t.axes,this),Mt(t[n],this),t.options[n].splice(this.options.index,1),on(t[n],function(e,t){e.options.index=t}),this.destroy(),t.isDirtyBox=!0,Ht(e,!0)&&t.redraw()},setTitle:function(e,t){this.update({title:e},t)},setCategories:function(e,t){this.update({categories:e},t)}});var Jn=Ft(Vn);wt.line=Jn,mn.area=xt(gn,{threshold:0});var Kn=Ft(Vn,{type:"area",getSegments:function(){var e=this,t=[],n=[],r=[],i=this.xAxis,s=this.yAxis,o=s.stacks[this.stackKey],u={},a,f,l=this.points,c=this.options.connectNulls,h,p;if(this.options.stacking&&!this.cropped){for(h=0;h<l.length;h++)u[l[h].x]=l[h];for(p in o)o[p].total!==null&&r.push(+p);r.sort(function(e,t){return e-t}),on(r,function(t){var r=0,l;if(c&&(!u[t]||u[t].y===null))return;if(u[t])n.push(u[t]);else{for(h=e.index;h<=s.series.length;h++){l=o[t].points[h+","+t];if(l){r=l[1];break}}a=i.translate(t),f=s.toPixels(r,!0),n.push({y:null,plotX:a,clientX:a,plotY:f,yBottom:f,onMouseOver:H})}}),n.length&&t.push(n)}else Vn.prototype.getSegments.call(this),t=this.segments;this.segments=t},getSegmentPath:function(e){var t=Vn.prototype.getSegmentPath.call(this,e),n=[].concat(t),r,i=this.options,s=t.length,o=this.yAxis.getThreshold(i.threshold),u;s===3&&n.push(K,t[1],t[2]);if(i.stacking&&!this.closedStacks)for(r=e.length-1;r>=0;r--)u=Ht(e[r].yBottom,o),r<e.length-1&&i.step&&n.push(e[r+1].plotX,u),n.push(e[r].plotX,u);else this.closeSegment(n,e,o);return this.areaPath=this.areaPath.concat(n),t},closeSegment:function(e,t,n){e.push(K,t[t.length-1].plotX,n,K,t[0].plotX,n)},drawGraph:function(){this.areaPath=[],Vn.prototype.drawGraph.apply(this);var e=this,t=this.areaPath,n=this.options,r=this.zones,i=[["area",this.color,n.fillColor]];on(r,function(t,r){i.push(["zoneArea"+r,t.color||e.color,t.fillColor||n.fillColor])}),on(i,function(r){var i=r[0],s=e[i];s?s.animate({d:t}):e[i]=e.chart.renderer.path(t).attr({fill:Ht(r[2],Tn(r[1]).setOpacity(Ht(n.fillOpacity,.75)).get()),zIndex:0}).add(e.group)})},drawLegendSymbol:Un.drawRectangle});wt.area=Kn,mn.spline=xt(gn);var Qn=Ft(Vn,{type:"spline",getPointSpline:function(e,t,n){var r=1.5,i=r+1,s=t.plotX,o=t.plotY,f=e[n-1],l=e[n+1],c,h,p,d,v;if(f&&l){var m=f.plotX,g=f.plotY,y=l.plotX,b=l.plotY,w;c=(r*s+m)/i,h=(r*o+g)/i,p=(r*s+y)/i,d=(r*o+b)/i,w=(d-h)*(p-s)/(p-c)+o-d,h+=w,d+=w,h>g&&h>o?(h=u(g,o),d=2*o-h):h<g&&h<o&&(h=a(g,o),d=2*o-h),d>b&&d>o?(d=u(b,o),h=2*o-d):d<b&&d<o&&(d=a(b,o),h=2*o-d),t.rightContX=p,t.rightContY=d}return n?(v=["C",f.rightContX||f.plotX,f.rightContY||f.plotY,c||s,h||o,s,o],f.rightContX=f.rightContY=null):v=[J,s,o],v}});wt.spline=Qn,mn.areaspline=xt(mn.area);var Gn=Kn.prototype,Yn=Ft(Qn,{type:"areaspline",closedStacks:!0,getSegmentPath:Gn.getSegmentPath,closeSegment:Gn.closeSegment,drawGraph:Gn.drawGraph,drawLegendSymbol:Un.drawRectangle});wt.areaspline=Yn,mn.column=xt(gn,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,tooltip:{distance:6},threshold:0});var Zn=Ft(Vn,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){Vn.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&on(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var t=this,n=t.options,r=t.xAxis,i=t.yAxis,s=r.reversed,o,u={},l,c=0;n.grouping===!1?c=1:on(t.chart.series,function(n){var r=n.options,s=n.yAxis;n.type===t.type&&n.visible&&i.len===s.len&&i.pos===s.pos&&(r.stacking?(o=n.stackKey,u[o]===e&&(u[o]=c++),l=u[o]):r.grouping!==!1&&(l=c++),n.columnIndex=l)});var h=a(f(r.transA)*(r.ordinalSlope||n.pointRange||r.closestPointRange||r.tickInterval||1),r.len),p=h*n.groupPadding,d=h-2*p,v=d/c,m=n.pointWidth,g=_t(m)?(v-m)/2:v*n.pointPadding,y=Ht(m,v-2*g),b=(s?c-(t.columnIndex||0):t.columnIndex)||0,w=g+(p+b*v-h/2)*(s?-1:1);return t.columnMetrics={width:y,offset:w}},translate:function(){var e=this,t=e.chart,n=e.options,r=e.borderWidth=Ht(n.borderWidth,e.closestPointRange*e.xAxis.transA<2?0:1),s=e.yAxis,l=n.threshold,c=e.translatedThreshold=s.getThreshold(l),h=Ht(n.minPointLength,5),p=e.getColumnMetrics(),d=p.width,v=e.barW=u(d,1+2*r),m=e.pointXOffset=p.offset,g=-(r%2?.5:0),y=r%2?.5:1;t.inverted&&(c-=.5,t.renderer.isVML&&(y+=1)),n.pointPadding&&(v=o(v)),Vn.prototype.translate.apply(e),on(e.points,function(n){var r=Ht(n.yBottom,c),o=a(u(-999-r,n.plotY),s.len+999+r),l=n.plotX+m,p=v,b=a(o,r),w,E,S,x,T=u(o,r)-b;f(T)<h&&h&&(T=h,x=!s.reversed&&!n.negative||s.reversed&&n.negative,b=i(f(b-c)>h?r-h:c-(x?h:0))),n.barX=l,n.pointWidth=d,n.tooltipPos=t.inverted?[s.len+s.pos-t.plotLeft-o,e.xAxis.len-l-p/2]:[l+p/2,o+s.pos-t.plotTop],w=i(l+p)+g,l=i(l)+g,p=w-l,S=f(b)<.5,E=a(i(b+T)+y,9e4),b=i(b)+y,T=E-b,S&&(b-=1,T+=1),n.shapeType="rect",n.shapeArgs={x:l,y:b,width:p,height:T}})},getSymbol:H,drawLegendSymbol:Un.drawRectangle,drawGraph:H,drawPoints:function(){var t=this,n=this.chart,r=t.options,i=n.renderer,s=r.animationLimit||250,o,u;on(t.points,function(a){var f=a.plotY,l=a.graphic,c;f!==e&&!isNaN(f)&&a.y!==null?(o=a.shapeArgs,c=_t(t.borderWidth)?{"stroke-width":t.borderWidth}:{},u=a.pointAttr[a.selected?Z:G]||t.pointAttr[G],l?(vn(l),l.attr(c)[n.pointCount<s?"animate":"attr"](xt(o))):a.graphic=l=i[a.shapeType](o).attr(c).attr(u).add(t.group).shadow(r.shadow,null,r.stacking&&!r.borderRadius)):l&&(a.graphic=l.destroy())})},animate:function(e){var t=this,n=this.yAxis,r=t.options,i=this.chart.inverted,s={},o;S&&(e?(s.scaleY=.001,o=a(n.pos+n.len,u(n.pos,n.toPixels(r.threshold))),i?s.translateX=o-n.len:s.translateY=o,t.group.attr(s)):(s.scaleY=1,s[i?"translateX":"translateY"]=n.pos,t.group.animate(s,t.options.animation),t.animate=null))},remove:function(){var e=this,t=e.chart;t.hasRendered&&on(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),Vn.prototype.remove.apply(e,arguments)}});wt.column=Zn,mn.bar=xt(mn.column);var er=Ft(Zn,{type:"bar",inverted:!0});wt.bar=er,mn.scatter=xt(gn,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{series.color}">●</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}});var tr=Ft(Vn,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,kdComparer:"distR",drawGraph:function(){this.options.lineWidth&&Vn.prototype.drawGraph.call(this)}});wt.scatter=tr,mn.pie=xt(gn,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});var nr=Ft(Xn,{init:function(){Xn.prototype.init.apply(this,arguments);var e=this,t;return St(e,{visible:e.visible!==!1,name:Ht(e.name,"Slice")}),t=function(t){e.slice(t.type==="select")},ln(e,"select",t),ln(e,"unselect",t),e},setVisible:function(t,n){var r=this,i=r.series,s=i.chart,o=!i.isDirty&&i.options.ignoreHiddenPoint;if(t!==r.visible||n)r.visible=r.options.visible=t=t===e?!r.visible:t,i.options.data[sn(r,i.data)]=r.options,on(["graphic","dataLabel","connector","shadowGroup"],function(e){r[e]&&r[e][t?"show":"hide"](!0)}),r.legendItem&&(s.hasRendered&&(i.updateTotals(),s.legend.clearItems(),o||s.legend.render()),s.legend.colorizeItem(r,t)),o&&(i.isDirty=!0,s.redraw())},slice:function(e,t,n){var r=this,i=r.series,s=i.chart,o;Zt(n,s),t=Ht(t,!0),r.sliced=r.options.sliced=e=_t(e)?e:!r.sliced,i.options.data[sn(r,i.data)]=r.options,o=e?r.slicedTranslation:{translateX:0,translateY:0},r.graphic.animate(o),r.shadowGroup&&r.shadowGroup.animate(o)},haloPath:function(e){var t=this.shapeArgs,n=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(n.plotLeft+t.x,n.plotTop+t.y,t.r+e,t.r+e,{innerR:this.shapeArgs.r,start:t.start,end:t.end})}}),rr={type:"pie",isCartesian:!1,pointClass:nr,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:H,animate:function(e){var t=this,n=t.points,r=t.startAngleRad;e||(on(n,function(e){var n=e.graphic,i=e.shapeArgs;n&&(n.attr({r:e.startR||t.center[3]/2,start:r,end:r}),n.animate({r:i.r,start:i.start,end:i.end},t.options.animation))}),t.animate=null)},setData:function(e,t,n,r){Vn.prototype.setData.call(this,e,!1,n,r),this.processData(),this.generatePoints(),Ht(t,!0)&&this.chart.redraw(n)},updateTotals:function(){var e,t=0,n,r,i,s=this.options.ignoreHiddenPoint;n=this.points,r=n.length;for(e=0;e<r;e++)i=n[e],i.y<0&&(i.y=null),t+=s&&!i.visible?0:i.y;this.total=t;for(e=0;e<r;e++)i=n[e],i.percentage=t>0&&(i.visible||!s)?i.y/t*100:0,i.total=t},generatePoints:function(){Vn.prototype.generatePoints.call(this),this.updateTotals()},translate:function(e){this.generatePoints();var t=this,n=0,s=1e3,o=t.options,u=o.slicedOffset,f=u+o.borderWidth,p,d,v,m=o.startAngle||0,g=t.startAngleRad=h/180*(m-90),y=t.endAngleRad=h/180*(Ht(o.endAngle,m+360)-90),b=y-g,w=t.points,E,S,x=o.dataLabels.distance,T=o.ignoreHiddenPoint,N,C=w.length,k;e||(t.center=e=t.getCenter()),t.getX=function(t,n){return v=r.asin(a((t-e[1])/(e[2]/2+x),1)),e[0]+(n?-1:1)*l(v)*(e[2]/2+x)};for(N=0;N<C;N++){k=w[N],p=g+n*b;if(!T||k.visible)n+=k.percentage/100;d=g+n*b,k.shapeType="arc",k.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:i(p*s)/s,end:i(d*s)/s},v=(d+p)/2,v>1.5*h?v-=2*h:v<-h/2&&(v+=2*h),k.slicedTranslation={translateX:i(l(v)*u),translateY:i(c(v)*u)},E=l(v)*e[2]/2,S=c(v)*e[2]/2,k.tooltipPos=[e[0]+E*.7,e[1]+S*.7],k.half=v<-h/2||v>h/2?1:0,k.angle=v,f=a(f,x/2),k.labelPos=[e[0]+E+l(v)*x,e[1]+S+c(v)*x,e[0]+E+l(v)*f,e[1]+S+c(v)*f,e[0]+E,e[1]+S,x<0?"center":k.half?"right":"left",v]}},drawGraph:null,drawPoints:function(){var e=this,t=e.chart,n=t.renderer,r,i,s=e.options.shadow,o,u;s&&!e.shadowGroup&&(e.shadowGroup=n.g("shadow").add(e.group)),on(e.points,function(t){var a=t.options.visible;i=t.graphic,u=t.shapeArgs,o=t.shadowGroup,s&&!o&&(o=t.shadowGroup=n.g("shadow").add(e.shadowGroup)),r=t.sliced?t.slicedTranslation:{translateX:0,translateY:0},o&&o.attr(r),i?i.animate(St(u,r)):t.graphic=i=n[t.shapeType](u).setRadialReference(e.center).attr(t.pointAttr[t.selected?Z:G]).attr({"stroke-linejoin":"round"}).attr(r).add(e.group).shadow(s,o),a!==undefined&&t.setVisible(a,!0)})},searchPoint:H,sortByAngle:function(e,t){e.sort(function(e,n){return e.angle!==undefined&&(n.angle-e.angle)*t})},drawLegendSymbol:Un.drawRectangle,getCenter:Wn.getCenter,getSymbol:H};rr=Ft(Vn,rr),wt.pie=rr,Vn.prototype.drawDataLabels=function(){var t=this,n=t.options,r=n.cursor,i=n.dataLabels,s=t.points,o,u,a=t.hasRendered||0,f,l,c=t.chart.renderer;if(i.enabled||t._hasPointLabels)t.dlProcessOptions&&t.dlProcessOptions(i),l=t.plotGroup("dataLabelsGroup","data-labels",i.defer?z:X,i.zIndex||6),Ht(i.defer,!0)&&(l.attr({opacity:+a}),a||ln(t,"afterAnimate",function(){t.visible&&l.show(),l[n.animation?"animate":"attr"]({opacity:1},{duration:200})})),u=i,on(s,function(s){var a,h=s.dataLabel,p,d,v,m,g=s.connector,y=!0,b,w={};o=s.dlOptions||s.options&&s.options.dataLabels,a=Ht(o&&o.enabled,u.enabled);if(h&&!a)s.dataLabel=h.destroy();else if(a){i=xt(u,o),b=i.style,m=i.rotation,p=s.getLabelConfig(),f=i.format?zt(i.format,p):i.formatter.call(p,i),b.color=Ht(i.color,b.color,t.color,"black");if(h)_t(f)?(h.attr({text:f}),y=!1):(s.dataLabel=h=h.destroy(),g&&(s.connector=g.destroy()));else if(_t(f)){d={fill:i.backgroundColor,stroke:i.borderColor,"stroke-width":i.borderWidth,r:i.borderRadius||0,rotation:m,padding:i.padding,zIndex:1},b.color==="contrast"&&(w.color=i.inside||i.distance<0||!!n.stacking?c.getContrast(s.color||t.color):"#000000"),r&&(w.cursor=r);for(v in d)d[v]===e&&delete d[v];h=s.dataLabel=c[m?"text":"label"](f,0,-999,i.shape,null,null,i.useHTML).attr(d).css(St(b,w)).add(l).shadow(i.shadow)}h&&t.alignDataLabel(s,h,i,null,y)}})},Vn.prototype.alignDataLabel=function(e,t,n,r,s){var o=this.chart,u=o.inverted,a=Ht(e.plotX,-999),f=Ht(e.plotY,-999),l=t.getBBox(),c=o.renderer.fontMetrics(n.style.fontSize).b,h,p=this.visible&&(e.series.forceDL||o.isInsidePlot(a,i(f),u)||r&&o.isInsidePlot(a,u?r.x+1:r.y+r.height-1,u)),d;p&&(r=St({x:u?o.plotWidth-f:a,y:i(u?o.plotHeight-a:f),width:0,height:0},r),St(n,{width:l.width,height:l.height}),n.rotation?(h=o.renderer.rotCorr(c,n.rotation),t[s?"attr":"animate"]({x:r.x+n.x+r.width/2+h.x,y:r.y+n.y+r.height/2}).attr({align
:n.align})):(t.align(n,null,r),d=t.alignAttr,Ht(n.overflow,"justify")==="justify"?this.justifyDataLabel(t,n,d,l,r,s):Ht(n.crop,!0)&&(p=o.isInsidePlot(d.x,d.y)&&o.isInsidePlot(d.x+l.width,d.y+l.height)),n.shape&&t.attr({anchorX:e.plotX,anchorY:e.plotY}))),p||(t.attr({y:-999}),t.placed=!1)},Vn.prototype.justifyDataLabel=function(e,t,n,r,i,s){var o=this.chart,u=t.align,a=t.verticalAlign,f,l,c=e.box?0:e.padding||0;f=n.x+c,f<0&&(u==="right"?t.align="left":t.x=-f,l=!0),f=n.x+r.width-c,f>o.plotWidth&&(u==="left"?t.align="right":t.x=o.plotWidth-f,l=!0),f=n.y+c,f<0&&(a==="bottom"?t.verticalAlign="top":t.y=-f,l=!0),f=n.y+r.height-c,f>o.plotHeight&&(a==="top"?t.verticalAlign="bottom":t.y=o.plotHeight-f,l=!0),l&&(e.placed=!s,e.align(t,null,i))},wt.pie&&(wt.pie.prototype.drawDataLabels=function(){var e=this,t=e.data,n,r=e.chart,s=e.options.dataLabels,o=Ht(s.connectorPadding,10),l=Ht(s.connectorWidth,1),c=r.plotWidth,h=r.plotHeight,p,d,v=Ht(s.softConnector,!0),m=s.distance,g=e.center,y=g[2]/2,b=g[1],w=m>0,E,S,x,T,N=[[],[]],C,k,L,A,O,M,_=[0,0,0,0],D=function(e,t){return t.y-e.y};if(!e.visible||!s.enabled&&!e._hasPointLabels)return;Vn.prototype.drawDataLabels.apply(e),on(t,function(e){e.dataLabel&&e.visible&&N[e.half].push(e)}),O=2;while(O--){var P=[],H,B=[],j=N[O],F,I,q=j.length,R;if(!q)continue;e.sortByAngle(j,O-.5),M=T=0;while(!T&&j[M])T=j[M]&&j[M].dataLabel&&(j[M].dataLabel.getBBox().height||21),M++;if(m>0){I=a(b+y+m,r.plotHeight);for(F=u(0,b-y-m);F<=I;F+=T)P.push(F);H=P.length;if(q>H){A=[].concat(j),A.sort(D),M=q;while(M--)A[M].rank=M;M=q;while(M--)j[M].rank>=H&&j.splice(M,1);q=j.length}for(M=0;M<q;M++){n=j[M],x=n.labelPos;var U=9999,W,X;for(X=0;X<H;X++)W=f(P[X]-x[1]),W<U&&(U=W,R=X);if(R<M&&P[M]!==null)R=M;else if(H<q-M+R&&P[M]!==null){R=H-q+M;while(P[R]===null)R++}else while(P[R]===null)R++;B.push({i:R,y:P[R]}),P[R]=null}B.sort(D)}for(M=0;M<q;M++){var V,$;n=j[M],x=n.labelPos,E=n.dataLabel,L=n.visible===!1?z:"inherit",$=x[1];if(m>0){V=B.pop(),R=V.i,k=V.y;if($>k&&P[R+1]!==null||$<k&&P[R-1]!==null)k=a(u(0,$),r.plotHeight)}else k=$;C=s.justify?g[0]+(O?-1:1)*(y+m):e.getX(k===b-y-m||k===b+y+m?$:k,O),E._attr={visibility:L,align:x[6]},E._pos={x:C+s.x+({left:o,right:-o}[x[6]]||0),y:k+s.y-10},E.connX=C,E.connY=k,this.options.size===null&&(S=E.width,C-S<o?_[3]=u(i(S-C+o),_[3]):C+S>c-o&&(_[1]=u(i(C+S-c+o),_[1])),k-T/2<0?_[0]=u(i(-k+T/2),_[0]):k+T/2>h&&(_[2]=u(i(k+T/2-h),_[2])))}}if(Jt(_)===0||this.verifyDataLabelOverflow(_))this.placeDataLabels(),w&&l&&on(this.points,function(t){p=t.connector,x=t.labelPos,E=t.dataLabel,E&&E._pos?(L=E._attr.visibility,C=E.connX,k=E.connY,d=v?[J,C+(x[6]==="left"?5:-5),k,"C",C,k,2*x[2]-x[4],2*x[3]-x[5],x[2],x[3],K,x[4],x[5]]:[J,C+(x[6]==="left"?5:-5),k,K,x[2],x[3],K,x[4],x[5]],p?(p.animate({d:d}),p.attr("visibility",L)):t.connector=p=e.chart.renderer.path(d).attr({"stroke-width":l,stroke:s.connectorColor||t.color||"#606060",visibility:L}).add(e.dataLabelsGroup)):p&&(t.connector=p.destroy())})},wt.pie.prototype.placeDataLabels=function(){on(this.points,function(e){var t=e.dataLabel,n;t&&(n=t._pos,n?(t.attr(t._attr),t[t.moved?"animate":"attr"](n),t.moved=!0):t&&t.attr({y:-999}))})},wt.pie.prototype.alignDataLabel=H,wt.pie.prototype.verifyDataLabelOverflow=function(e){var t=this.center,n=this.options,r=n.center,i=n.minSize||80,s=i,o;return r[0]!==null?s=u(t[2]-u(e[1],e[3]),i):(s=u(t[2]-e[1]-e[3],i),t[0]+=(e[3]-e[1])/2),r[1]!==null?s=u(a(s,t[2]-u(e[0],e[2])),i):(s=u(a(s,t[2]-e[0]-e[2]),i),t[1]+=(e[0]-e[2])/2),s<t[2]?(t[2]=s,this.translate(t),on(this.points,function(e){e.dataLabel&&(e.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):o=!0,o}),wt.column&&(wt.column.prototype.alignDataLabel=function(e,t,n,r,i){var s=this.chart.inverted,o=e.series,u=e.dlBox||e.shapeArgs,a=e.below||e.plotY>Ht(this.translatedThreshold,o.yAxis.len),f=Ht(n.inside,!!this.options.stacking);u&&(r=xt(u),s&&(r={x:o.yAxis.len-r.y-r.height,y:o.xAxis.len-r.x-r.width,width:r.height,height:r.width}),f||(s?(r.x+=a?0:r.width,r.width=0):(r.y+=a?r.height:0,r.height=0))),n.align=Ht(n.align,!s||f?"center":a?"right":"left"),n.verticalAlign=Ht(n.verticalAlign,s||f?"middle":a?"top":"bottom"),Vn.prototype.alignDataLabel.call(this,e,t,n,r,i)}),function(e){var t=e.Chart,n=e.each,r=HighchartsAdapter.addEvent;t.prototype.callbacks.push(function(e){function t(){var t=[];n(e.series,function(e){var r=e.options.dataLabels;(r.enabled||e._hasPointLabels)&&!r.allowOverlap&&e.visible&&n(e.points,function(e){e.dataLabel&&(e.dataLabel.labelrank=e.labelrank,t.push(e.dataLabel))})}),e.hideOverlappingLabels(t)}t(),r(e,"redraw",t)}),t.prototype.hideOverlappingLabels=function(e){var t=e.length,n,r,i,s,o,u=function(e,t,n,r){return!(t.x>e.x+n.width||t.x+r.width<e.x||t.y>e.y+n.height||t.y+r.height<e.y)};for(r=0;r<t;r++)n=e[r],n&&(n.oldOpacity=n.opacity,n.newOpacity=1);for(r=0;r<t;r++){s=e[r];for(i=r+1;i<t;++i)o=e[i],s&&o&&s.placed&&o.placed&&s.newOpacity!==0&&o.newOpacity!==0&&u(s.alignAttr,o.alignAttr,s,o)&&((s.labelrank<o.labelrank?s:o).newOpacity=0)}for(r=0;r<t;r++)n=e[r],n&&(n.oldOpacity!==n.newOpacity&&n.placed&&(n.alignAttr.opacity=n.newOpacity,n[n.isOld&&n.newOpacity?"animate":"attr"](n.alignAttr)),n.isOld=!0)}}(Et);var ir=Et.TrackerMixin={drawTrackerPoint:function(){var t=this,n=t.chart,r=n.pointer,i=t.options.cursor,s=i&&{cursor:i},o=function(t){var r=t.target,i;while(r&&!i)i=r.point,r=r.parentNode;i!==e&&i!==n.hoverPoint&&i.onMouseOver(t)};on(t.points,function(e){e.graphic&&(e.graphic.element.point=e),e.dataLabel&&(e.dataLabel.element.point=e)}),t._hasTracking||(on(t.trackerGroups,function(e){t[e]&&(t[e].addClass(W+"tracker").on("mouseover",o).on("mouseout",function(e){r.onTrackerMouseOut(e)}).css(s),C&&t[e].on("touchstart",o))}),t._hasTracking=!0)},drawTrackerGraph:function(){var e=this,t=e.options,n=t.trackByArea,r=[].concat(n?e.areaPath:e.graphPath),i=r.length,s=e.chart,o=s.pointer,u=s.renderer,a=s.options.tooltip.snap,f=e.tracker,l=t.cursor,c=l&&{cursor:l},h=e.singlePoints,p,d,v=function(){s.hoverSeries!==e&&e.onMouseOver()},m="rgba(192,192,192,"+(S?1e-4:.002)+")";if(i&&!n){d=i+1;while(d--)r[d]===J&&r.splice(d+1,0,r[d+1]-a,r[d+2],K),(d&&r[d]===J||d===i)&&r.splice(d,0,K,r[d-2]+a,r[d-1])}for(d=0;d<h.length;d++)p=h[d],r.push(J,p.plotX-a,p.plotY,K,p.plotX+a,p.plotY);f?f.attr({d:r}):(e.tracker=u.path(r).attr({"stroke-linejoin":"round",visibility:e.visible?X:z,stroke:m,fill:n?m:$,"stroke-width":t.lineWidth+(n?0:2*a),zIndex:2}).add(e.group),on([e.tracker,e.markerGroup],function(e){e.addClass(W+"tracker").on("mouseover",v).on("mouseout",function(e){o.onTrackerMouseOut(e)}).css(c),C&&e.on("touchstart",v)}))}};wt.column&&(Zn.prototype.drawTracker=ir.drawTrackerPoint),wt.pie&&(wt.pie.prototype.drawTracker=ir.drawTrackerPoint),wt.scatter&&(tr.prototype.drawTracker=ir.drawTrackerPoint),St(Rn.prototype,{setItemEvents:function(e,t,n,r,i){var s=this;(n?t:e.legendGroup).on("mouseover",function(){e.setState(Y),t.css(s.options.itemHoverStyle)}).on("mouseout",function(){t.css(e.visible?r:i),e.setState()}).on("click",function(t){var n="legendItemClick",r=function(){e.setVisible()};t={browserEvent:t},e.firePointEvent?e.firePointEvent(n,t,r):hn(e,n,t,r)})},createCheckboxForItem:function(e){var t=this;e.checkbox=jt("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},t.options.itemCheckboxStyle,t.chart.container),ln(e.checkbox,"click",function(t){var n=t.target;hn(e.series||e,"checkboxClick",{checked:n.checked,item:e},function(){e.select()})})}}),O.legend.itemStyle.cursor="pointer",St(zn.prototype,{showResetZoom:function(){var e=this,t=O.lang,n=e.options.chart.resetZoomButton,r=n.theme,i=r.states,s=n.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},r,i&&i.hover).attr({align:n.position.align,title:t.resetZoomTitle}).add().align(n.position,!1,s)},zoomOut:function(){var e=this;hn(e,"selection",{resetSelection:!0},function(){e.zoom()})},zoom:function(e){var t=this,n,r=t.pointer,i=!1,s;!e||e.resetSelection?on(t.axes,function(e){n=e.zoom()}):on(e.xAxis.concat(e.yAxis),function(e){var t=e.axis,s=t.isXAxis;if(r[s?"zoomX":"zoomY"]||r[s?"pinchX":"pinchY"])n=t.zoom(e.min,e.max),t.displayBtn&&(i=!0)}),s=t.resetZoomButton,i&&!s?t.showResetZoom():!i&&Ct(s)&&(t.resetZoomButton=s.destroy()),n&&t.redraw(Ht(t.options.chart.animation,e&&e.animation,t.pointCount<100))},pan:function(e,t){var n=this,r=n.hoverPoints,i;r&&on(r,function(e){e.setState()}),on(t==="xy"?[1,0]:[1],function(t){var r=e[t?"chartX":"chartY"],s=n[t?"xAxis":"yAxis"][0],o=n[t?"mouseDownX":"mouseDownY"],f=(s.pointRange||0)/2,l=s.getExtremes(),c=s.toValue(o-r,!0)+f,h=s.toValue(o+n[t?"plotWidth":"plotHeight"]-r,!0)-f,p=o>r;s.series.length&&(p||c>a(l.dataMin,l.min))&&(!p||h<u(l.dataMax,l.max))&&(s.setExtremes(c,h,!1,!1,{trigger:"pan"}),i=!0),n[t?"mouseDownX":"mouseDownY"]=r}),i&&n.redraw(!1),Bt(n.container,{cursor:"move"})}}),St(Xn.prototype,{select:function(e,t){var n=this,r=n.series,i=r.chart;e=Ht(e,!n.selected),n.firePointEvent(e?"select":"unselect",{accumulate:t},function(){n.selected=n.options.selected=e,r.options.data[sn(n,r.data)]=n.options,n.setState(e&&Z),t||on(i.getSelectedPoints(),function(e){e.selected&&e!==n&&(e.selected=e.options.selected=!1,r.options.data[sn(e,r.data)]=e.options,e.setState(G),e.firePointEvent("unselect"))})})},onMouseOver:function(e){var t=this,n=t.series,r=n.chart,i=r.tooltip,s=r.hoverPoint;r.hoverSeries!==n&&n.onMouseOver(),s&&s!==t&&s.onMouseOut(),t.firePointEvent("mouseOver"),i&&(!i.shared||n.noSharedTooltip)&&i.refresh(t,e),t.setState(Y),r.hoverPoint=t},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;this.firePointEvent("mouseOut");if(!t||sn(this,t)===-1)this.setState(),e.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var e=this,t=xt(e.series.options.point,e.options),n=t.events,r;e.events=n;for(r in n)ln(e,r,n[r]);this.hasImportedEvents=!0}},setState:function(e,t){var n=this,r=n.plotX,i=n.plotY,s=n.series,o=s.options.states,u=mn[s.type].marker&&s.options.marker,a=u&&!u.enabled,f=u&&u.states[e],l=f&&f.enabled===!1,c=s.stateMarkerGraphic,h=n.marker||{},p=s.chart,d,v=s.halo,m,g,y;e=e||G,y=n.pointAttr[e]||s.pointAttr[e];if(e===n.state&&!t||n.selected&&e!==Z||o[e]&&o[e].enabled===!1||e&&(l||a&&f.enabled===!1)||e&&h.states&&h.states[e]&&h.states[e].enabled===!1)return;n.graphic?(d=u&&n.graphic.symbolName&&y.r,n.graphic.attr(xt(y,d?{x:r-d,y:i-d,width:2*d,height:2*d}:{})),c&&c.hide()):(e&&f&&(d=f.radius,g=h.symbol||s.symbol,c&&c.currentSymbol!==g&&(c=c.destroy()),c?c[t?"animate":"attr"]({x:r-d,y:i-d}):g&&(s.stateMarkerGraphic=c=p.renderer.symbol(g,r-d,i-d,2*d,2*d).attr(y).add(s.markerGroup),c.currentSymbol=g)),c&&c[e&&p.isInsidePlot(r,i,p.inverted)?"show":"hide"]()),m=o[e]&&o[e].halo,m&&m.size?(v||(s.halo=v=p.renderer.path().add(p.seriesGroup)),v.attr(St({fill:Tn(n.color||s.color).setOpacity(m.opacity).get()},m.attributes))[t?"animate":"attr"]({d:n.haloPath(m.size)})):v&&v.attr({d:[]}),n.state=e},haloPath:function(e){var t=this.series,n=t.chart,r=t.getPlotBox(),i=n.inverted;return n.renderer.symbols.circle(r.translateX+(i?t.yAxis.len-this.plotY:this.plotX)-e,r.translateY+(i?t.xAxis.len-this.plotX:this.plotY)-e,e*2,e*2)}}),St(Vn.prototype,{onMouseOver:function(){var e=this,t=e.chart,n=t.hoverSeries;n&&n!==e&&n.onMouseOut(),e.options.events.mouseOver&&hn(e,"mouseOver"),e.setState(Y),t.hoverSeries=e},onMouseOut:function(){var e=this,t=e.options,n=e.chart,r=n.tooltip,i=n.hoverPoint;i&&i.onMouseOut(),e&&t.events.mouseOut&&hn(e,"mouseOut"),r&&!t.stickyTracking&&(!r.shared||e.noSharedTooltip)&&r.hide(),e.setState(),n.hoverSeries=null},setState:function(e){var t=this,n=t.options,r=t.graph,i=n.states,s=n.lineWidth,o,u=0;e=e||G;if(t.state!==e){t.state=e;if(i[e]&&i[e].enabled===!1)return;e&&(s=i[e].lineWidth||s+(i[e].lineWidthPlus||0));if(r&&!r.dashstyle){o={"stroke-width":s},r.attr(o);while(t["zoneGraph"+u])t["zoneGraph"+u].attr(o),u+=1}}},setVisible:function(t,n){var r=this,i=r.chart,s=r.legendItem,o,u=i.options.chart.ignoreHiddenSeries,a=r.visible;r.visible=t=r.userOptions.visible=t===e?!a:t,o=t?"show":"hide",on(["group","dataLabelsGroup","markerGroup","tracker"],function(e){r[e]&&r[e][o]()}),(i.hoverSeries===r||(i.hoverPoint&&i.hoverPoint.series)===r)&&r.onMouseOut(),s&&i.legend.colorizeItem(r,t),r.isDirty=!0,r.options.stacking&&on(i.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),on(r.linkedSeries,function(e){e.setVisible(t,!1)}),u&&(i.isDirtyBox=!0),n!==!1&&i.redraw(),hn(r,o)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){var n=this;n.selected=t=t===e?!n.selected:t,n.checkbox&&(n.checkbox.checked=t),hn(n,t?"select":"unselect")},drawTracker:ir.drawTrackerGraph}),St(Et,{Color:Tn,Point:Xn,Tick:_n,Renderer:N,SVGElement:Nn,SVGRenderer:Cn,arrayMin:$t,arrayMax:Jt,charts:B,dateFormat:M,error:Gt,format:zt,pathAnim:D,getOptions:wn,hasBidiBug:x,isTouchDevice:w,setOptions:bn,addEvent:ln,removeEvent:cn,createElement:jt,discardElement:Qt,css:Bt,each:on,map:fn,merge:xt,splat:Pt,extendClass:Ft,pInt:Tt,svg:S,canvas:T,vml:!S&&!T,product:F,version:I})}(),function(e,t){function L(e,t,n){this.init.call(this,e,t,n)}var n=e.arrayMin,r=e.arrayMax,i=e.each,s=e.extend,o=e.merge,u=e.map,a=e.pick,f=e.pInt,l=e.getOptions().plotOptions,c=e.seriesTypes,h=e.extendClass,p=e.splat,d=e.wrap,v=e.Axis,m=e.Tick,g=e.Point,y=e.Pointer,b=e.CenteredSeriesMixin,w=e.TrackerMixin,E=e.Series,S=Math,x=S.round,T=S.floor,N=S.max,C=e.Color,k=function(){};s(L.prototype,{init:function(e,t,n){var r=this,s,u=r.defaultOptions;r.chart=t,t.angular&&(u.background={}),r.options=e=o(u,e),s=e.background,s&&i([].concat(p(s)).reverse(),function(e){var t=e.backgroundColor,i=n.userOptions;e=o(r.defaultBackgroundOptions,e),t&&(e.backgroundColor=t),e.color=e.backgroundColor,n.options.plotBands.unshift(e),i.plotBands=i.plotBands||[],i.plotBands.unshift(e)})},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"silver",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#DDD"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}});var A=v.prototype,O=m.prototype,M={getOffset:k,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:k,setCategories:k,setTitle:k},_={isRadial:!0,defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(e){var t=this.options=o(this.defaultOptions,this.defaultRadialOptions,e);t.plotBands||(t.plotBands=[])},getOffset:function(){A.getOffset.call(this),this.chart.axisOffset[this.side]=0,this.center=this.pane.center=b.getCenter.call(this.pane)},getLinePath:function(e,t){var n=this.center;return t=a(t,n[2]/2-this.offset),this.chart.renderer.symbols.arc(this.left+n[0],this.top+n[1],t,t,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})},setAxisTranslation:function(){A.setAxisTranslation.call(this),this.center&&(this.isCircular?this.transA=(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.transA=this.center[2]/2/(this.max-this.min||1),this.isXAxis?this.minPixelPadding=this.transA*this.minPointOffset:this.minPixelPadding=0)},beforeSetTickPositions:function(){this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)},setAxisSize:function(){A.setAxisSize.call(this),this.isRadial&&(this.center=this.pane.center=e.CenteredSeriesMixin.getCenter.call(this.pane),this.isCircular&&(this.sector=this.endAngleRad-this.startAngleRad),this.len=this.width=this.height=this.center[2]*a(this.sector,1)/2)},getPosition:function(e,t){return this.postTranslate(this.isCircular?this.translate(e):0,a(this.isCircular?t:this.translate(e),this.center[2]/2)-this.offset)},postTranslate:function(e,t){var n=this.chart,r=this.center;return e=this.startAngleRad+e,{x:n.plotLeft+r[0]+Math.cos(e)*t,y:n.plotTop+r[1]+Math.sin(e)*t}},getPlotBandPath:function(e,t,n){var r=this.center,i=this.startAngleRad,s=r[2]/2,o=[a(n.outerRadius,"100%"),n.innerRadius,a(n.thickness,10)],l=/%$/,c,h,p,d=this.isCircular,v;return this.options.gridLineInterpolation==="polygon"?v=this.getPlotLinePath(e).concat(this.getPlotLinePath(t,!0)):(e=Math.max(e,this.min),t=Math.min(t,this.max),d||(o[0]=this.translate(e),o[1]=this.translate(t)),o=u(o,function(e){return l.test(e)&&(e=f(e,10)*s/100),e}),n.shape==="circle"||!d?(c=-Math.PI/2,h=Math.PI*1.5,p=!0):(c=i+this.translate(e),h=i+this.translate(t)),v=this.chart.renderer.symbols.arc(this.left+r[0],this.top+r[1],o[0],o[0],{start:Math.min(c,h),end:Math.max(c,h),innerR:a(o[1],o[0]-o[2]),open:p})),v},getPlotLinePath:function(e,t){var n=this,r=n.center,s=n.chart,o=n.getPosition(e),u,a,f,l;return n.isCircular?l=["M",r[0]+s.plotLeft,r[1]+s.plotTop,"L",o.x,o.y]:n.options.gridLineInterpolation==="circle"?(e=n.translate(e),e&&(l=n.getLinePath(0,e))):(i(s.xAxis,function(e){e.pane===n.pane&&(u=e)}),l=[],e=n.translate(e),f=u.tickPositions,u.autoConnect&&(f=f.concat([f[0]])),t&&(f=[].concat(f).reverse()),i(f,function(t,n){a=u.getPosition(t,e),l.push(n?"L":"M",a.x,a.y)})),l},getTitlePosition:function(){var e=this.center,t=this.chart,n=this.options.title;return{x:t.plotLeft+e[0]+(n.x||0),y:t.plotTop+e[1]-{high:.5,middle:.25,low:0}[n.align]*e[2]+(n.y||0)}}};d(A,"init",function(e,n,r){var i=this,u=n.angular,f=n.polar,l=r.isX,c=u&&l,h,d,v,m,g=n.options,y=r.pane||0,b,w;u?(s(this,c?M:_),h=!l,h&&(this.defaultRadialOptions=this.defaultRadialGaugeOptions)):f&&(s(this,_),h=l,this.defaultRadialOptions=l?this.defaultRadialXOptions:o(this.defaultYAxisOptions,this.defaultRadialYOptions)),e.call(this,n,r),!c&&(u||f)&&(m=this.options,n.panes||(n.panes=[]),this.pane=b=n.panes[y]=n.panes[y]||new L(p(g.pane)[y],n,i),w=b.options,n.inverted=!1,g.chart.zoomType=null,this.startAngleRad=d=(w.startAngle-90)*Math.PI/180,this.endAngleRad=v=(a(w.endAngle,w.startAngle+360)-90)*Math.PI/180,this.offset=m.offset||0,this.isCircular=h,h&&r.max===t&&v-d===2*Math.PI&&(this.autoConnect=!0))}),d(O,"getPosition",function(e,t,n,r,i){var s=this.axis;return s.getPosition?s.getPosition(n):e.call(this,t,n,r,i)}),d(O,"getLabelPosition",function(e,t,n,r,i,s,o,u,f){var l=this.axis,c=s.y,h,p=20,d=s.align,v=(l.translate(this.pos)+l.startAngleRad+Math.PI/2)/Math.PI*180%360;return l.isRadial?(h=l.getPosition(this.pos,l.center[2]/2+a(s.distance,-25)),s.rotation==="auto"?r.attr({rotation:v}):c===null&&(c=l.chart.renderer.fontMetrics(r.styles.fontSize).b-r.getBBox().height/2),d===null&&(l.isCircular?(this.label.getBBox().width>l.len*l.tickInterval/(l.max-l.min)&&(p=0),v>p&&v<180-p?d="left":v>180+p&&v<360-p?d="right":d="center"):d="center",r.attr({align:d})),h.x+=s.x,h.y+=c):h=e.call(this,t,n,r,i,s,o,u,f),h}),d(O,"getMarkPath",function(e,t,n,r,i,s,o){var u=this.axis,a,f;return u.isRadial?(a=u.getPosition(this.pos,u.center[2]/2+r),f=["M",t,n,"L",a.x,a.y]):f=e.call(this,t,n,r,i,s,o),f}),l.arearange=o(l.area,{lineWidth:1,marker:null,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:null,verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},states:{hover:{halo:!1}}}),c.arearange=h(c.area,{type:"arearange",pointArrayMap:["low","high"],toYData:function(e){return[e.low,e.high]},pointValKey:"low",deferTranslatePolar:!0,highToXY:function(e){var t=this.chart,n=this.xAxis.postTranslate(e.rectPlotX,this.yAxis.len-e.plotHigh);e.plotHighX=n.x-t.plotLeft,e.plotHigh=n.y-t.plotTop},getSegments:function(){var e=this;i(e.points,function(t){!!e.options.connectNulls||t.low!==null&&t.high!==null?t.low===null&&t.high!==null&&(t.y=t.high):t.y=null}),E.prototype.getSegments.call(this)},translate:function(){var e=this,t=e.yAxis;c.area.prototype.translate.apply(e),i(e.points,function(e){var n=e.low,r=e.high,i=e.plotY;r===null&&n===null?e.y=null:n===null?(e.plotLow=e.plotY=null,e.plotHigh=t.translate(r,0,1,0,1)):r===null?(e.plotLow=i,e.plotHigh=null):(e.plotLow=i,e.plotHigh=t.translate(r,0,1,0,1))}),this.chart.polar&&i(this.points,function(t){e.highToXY(t)})},getSegmentPath:function(e){var t,n=[],r=e.length,i=E.prototype.getSegmentPath,s,o,u,a=this.options,f=a.step,l;t=HighchartsAdapter.grep(e,function(e){return e.plotLow!==null});while(r--)s=e[r],s.plotHigh!==null&&n.push({plotX:s.plotHighX||s.plotX,plotY:s.plotHigh});return u=i.call(this,t),f&&(f===!0&&(f="left"),a.step={left:"right",center:"center",right:"left"}[f]),l=i.call(this,n),a.step=f,o=[].concat(u,l),this.chart.polar||(l[0]="L"),this.areaPath=this.areaPath.concat(u,l),o},drawDataLabels:function(){var e=this.data,t=e.length,n,r=[],i=E.prototype,s=this.options.dataLabels,o=s.align,u,a=this.chart.inverted;if(s.enabled||this._hasPointLabels){n=t;while(n--)u=e[n],u.y=u.high,u._plotY=u.plotY,u.plotY=u.plotHigh,r[n]=u.dataLabel,u.dataLabel=u.dataLabelUpper,u.below=!1,a?(o||(s.align="left"),s.x=s.xHigh):s.y=s.yHigh;i.drawDataLabels&&i.drawDataLabels.apply(this,arguments),n=t;while(n--)u=e[n],u.dataLabelUpper=u.dataLabel,u.dataLabel=r[n],u.y=u.low,u.plotY=u._plotY,u.below=!0,a?(o||(s.align="right"),s.x=s.xLow):s.y=s.yLow;i.drawDataLabels&&i.drawDataLabels.apply(this,arguments)}s.align=o},alignDataLabel:function(){c.column.prototype.alignDataLabel.apply(this,arguments)},setStackedPoints:k,getSymbol:k,drawPoints:k}),l.areasplinerange=o(l.arearange),c.areasplinerange=h(c.arearange,{type:"areasplinerange",getPointSpline:c.spline.prototype.getPointSpline}),function(){var e=c.column.prototype;l.columnrange=o(l.column,l.arearange,{lineWidth:1,pointRange:null}),c.columnrange=h(c.arearange,{type:"columnrange",translate:function(){var t=this,n=t.yAxis,r;e.translate.apply(t),i(t.points,function(e){var i=e.shapeArgs,s=t.options.minPointLength,o,u,a;e.tooltipPos=null,e.plotHigh=r=n.translate(e.high,0,1,0,1),e.plotLow=e.plotY,a=r,u=e.plotY-r,u<s&&(o=s-u,u+=o,a-=o/2),i.height=u,i.y=a})},directTouch:!0,trackerGroups:["group","dataLabelsGroup"],drawGraph:k,pointAttrToOptions:e.pointAttrToOptions,drawPoints:e.drawPoints,drawTracker:e.drawTracker,animate:e.animate,getColumnMetrics:e.getColumnMetrics})}(),l.gauge=o(l.line,{dataLabels:{enabled:!0,defer:!1,y:15,borderWidth:1,borderColor:"silver",borderRadius:3,crop:!1,verticalAlign:"top",zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1});var D=h(g,{setState:function(e){this.state=e}}),P={type:"gauge",pointClass:D,angular:!0,drawGraph:k,fixedBox:!0,forceDL:!0,trackerGroups:["group","dataLabelsGroup"],translate:function(){var e=this,t=e.yAxis,n=e.options,r=t.center;e.generatePoints(),i(e.points,function(e){var i=o(n.dial,e.dial),s=f(a(i.radius,80))*r[2]/200,u=f(a(i.baseLength,70))*s/100,l=f(a(i.rearLength,10))*s/100,c=i.baseWidth||3,h=i.topWidth||1,p=n.overshoot,d=t.startAngleRad+t.translate(e.y,null,null,null,!0);p&&typeof p=="number"?(p=p/180*Math.PI,d=Math.max(t.startAngleRad-p,Math.min(t.endAngleRad+p,d))):n.wrap===!1&&(d=Math.max(t.startAngleRad,Math.min(t.endAngleRad,d))),d=d*180/Math.PI,e.shapeType="path",e.shapeArgs={d:i.path||["M",-l,-c/2,"L",u,-c/2,s,-h/2,s,h/2,u,c/2,-l,c/2,"z"],translateX:r[0],translateY:r[1],rotation:d},e.plotX=r[0],e.plotY=r[1]})},drawPoints:function(){var e=this,t=e.yAxis.center,n=e.pivot,r=e.options,s=r.pivot,u=e.chart.renderer;i(e.points,function(t){var n=t.graphic,i=t.shapeArgs,s=i.d,a=o(r.dial,t.dial);n?(n.animate(i),i.d=s):t.graphic=u[t.shapeType](i).attr({stroke:a.borderColor||"none","stroke-width":a.borderWidth||0,fill:a.backgroundColor||"black",rotation:i.rotation}).add(e.group)}),n?n.animate({translateX:t[0],translateY:t[1]}):e.pivot=u.circle(0,0,a(s.radius,5)).attr({"stroke-width":s.borderWidth||0,stroke:s.borderColor||"silver",fill:s.backgroundColor||"black"}).translate(t[0],t[1]).add(e.group)},animate:function(e){var t=this;e||(i(t.points,function(e){var n=e.graphic;n&&(n.attr({rotation:t.yAxis.startAngleRad*180/Math.PI}),n.animate({rotation:e.shapeArgs.rotation},t.options.animation))}),t.animate=null)},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),E.prototype.render.call(this),this.group.clip(this.chart.clipRect)},setData:function(e,t){E.prototype.setData.call(this,e,!1),this.processData(),this.generatePoints(),a(t,!0)&&this.chart.redraw()},drawTracker:w&&w.drawTrackerPoint};c.gauge=h(c.line,P),l.boxplot=o(l.column,{fillColor:"#FFFFFF",lineWidth:1,medianWidth:2,states:{hover:{brightness:-0.3}},threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",whiskerWidth:2}),c.boxplot=h(c.column,{type:"boxplot",pointArrayMap:["low","q1","median","q3","high"],toYData:function(e){return[e.low,e.q1,e.median,e.q3,e.high]},pointValKey:"high",pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth"},drawDataLabels:k,translate:function(){var e=this,t=e.yAxis,n=e.pointArrayMap;c.column.prototype.translate.apply(e),i(e.points,function(e){i(n,function(n){e[n]!==null&&(e[n+"Plot"]=t.translate(e[n],0,1,0,1))})})},drawPoints:function(){var e=this,n=e.points,r=e.options,s=e.chart,o=s.renderer,u,f,l,c,h,p,d,v,m,g,y,b,w,E,S,N,C,k,L,A,O,M,_=e.doQuartiles!==!1,D=parseInt(e.options.whiskerLength,10)/100;i(n,function(n){m=n.graphic,O=n.shapeArgs,y={},E={},N={},M=n.color||e.color,n.plotY!==t&&(u=n.pointAttr[n.selected?"selected":""],C=O.width,k=T(O.x),L=k+C,A=x(C/2),f=T(_?n.q1Plot:n.lowPlot),l=T(_?n.q3Plot:n.lowPlot),c=T(n.highPlot),h=T(n.lowPlot),y.stroke=n.stemColor||r.stemColor||M,y["stroke-width"]=a(n.stemWidth,r.stemWidth,r.lineWidth),y.dashstyle=n.stemDashStyle||r.stemDashStyle,E.stroke=n.whiskerColor||r.whiskerColor||M,E["stroke-width"]=a(n.whiskerWidth,r.whiskerWidth,r.lineWidth),N.stroke=n.medianColor||r.medianColor||M,N["stroke-width"]=a(n.medianWidth,r.medianWidth,r.lineWidth),d=y["stroke-width"]%2/2,v=k+A+d,g=["M",v,l,"L",v,c,"M",v,f,"L",v,h],_&&(d=u["stroke-width"]%2/2,v=T(v)+d,f=T(f)+d,l=T(l)+d,k+=d,L+=d,b=["M",k,l,"L",k,f,"L",L,f,"L",L,l,"L",k,l,"z"]),D&&(d=E["stroke-width"]%2/2,c+=d,h+=d,w=["M",v-A*D,c,"L",v+A*D,c,"M",v-A*D,h,"L",v+A*D,h]),d=N["stroke-width"]%2/2,p=x(n.medianPlot)+d,S=["M",k,p,"L",L,p],m?(n.stem.animate({d:g}),D&&n.whiskers.animate({d:w}),_&&n.box.animate({d:b}),n.medianShape.animate({d:S})):(n.graphic=m=o.g().add(e.group),n.stem=o.path(g).attr(y).add(m),D&&(n.whiskers=o.path(w).attr(E).add(m)),_&&(n.box=o.path(b).attr(u).add(m)),n.medianShape=o.path(S).attr(N).add(m)))})},setStackedPoints:k}),l.errorbar=o(l.boxplot,{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}),c.errorbar=h(c.boxplot,{type:"errorbar",pointArrayMap:["low","high"],toYData:function(e){return[e.low,e.high]},pointValKey:"high",doQuartiles:!1,drawDataLabels:c.arearange?c.arearange.prototype.drawDataLabels:k,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||c.column.prototype.getColumnMetrics.call(this)}}),l.waterfall=o(l.column,{lineWidth:1,lineColor:"#333",dashStyle:"dot",borderColor:"#333",dataLabels:{inside:!0},states:{hover:{lineWidthPlus:0}}}),c.waterfall=h(c.column,{type:"waterfall",upColorProp:"fill",pointValKey:"y",translate:function(){var e=this,t=e.options,n=e.yAxis,r,i,s,o,u,a,f,l,h,p,d,v=t.threshold,m=t.stacking,g;c.column.prototype.translate.apply(this),h=p=v,s=e.points;for(i=0,r=s.length;i<r;i++)o=s[i],l=this.processedYData[i],u=o.shapeArgs,a=m&&n.stacks[(e.negStacks&&l<v?"-":"")+e.stackKey],d=a?a[o.x].points[e.index+","+i]:[0,l],o.isSum?o.y=l:o.isIntermediateSum&&(o.y=l-p),f=N(h,h+o.y)+d[0],u.y=n.translate(f,0,1),o.isSum?(u.y=n.translate(d[1],0,1),u.height=n.translate(d[0],0,1)-u.y):o.isIntermediateSum?(u.y=n.translate(d[1],0,1),u.height=n.translate(p,0,1)-u.y,p=d[1]):(h!==0&&(u.height=l>0?n.translate(h,0,1)-u.y:n.translate(h,0,1)-n.translate(h-l,0,1)),h+=l),u.height<0&&(u.y+=u.height,u.height*=-1),o.plotY=u.y=x(u.y)-e.borderWidth%2/2,u.height=N(x(u.height),.001),o.yBottom=u.y+u.height,g=o.plotY+(o.negative?u.height:0),e.chart.inverted?o.tooltipPos[0]=n.len-g:o.tooltipPos[1]=g},processData:function(e){var t=this,n=t.options,r=t.yData,i=t.options.data,s,o=r.length,u=n.threshold||0,a,f,l,c,h,p;f=a=l=c=u;for(p=0;p<o;p++)h=r[p],s=i&&i[p]?i[p]:{},h==="sum"||s.isSum?r[p]=f:h==="intermediateSum"||s.isIntermediateSum?r[p]=a:(f+=h,a+=h),l=Math.min(f,l),c=Math.max(f,c);E.prototype.processData.call(this,e),t.dataMin=l,t.dataMax=c},toYData:function(e){return e.isSum?e.x===0?null:"sum":e.isIntermediateSum?e.x===0?null:"intermediateSum":e.y},getAttribs:function(){c.column.prototype.getAttribs.apply(this,arguments);var t=this,n=t.options,r=n.states,s=n.upColor||t.color,u=e.Color(s).brighten(.1).get(),a=o(t.pointAttr),f=t.upColorProp;a[""][f]=s,a.hover[f]=r.hover.upColor||u,a.select[f]=r.select.upColor||s,i(t.points,function(e){e.options.color||(e.y>0?(e.pointAttr=a,e.color=s):e.pointAttr=t.pointAttr)})},getGraphPath:function(){var e=this.data,t=e.length,n=this.options.lineWidth+this.borderWidth,r=x(n)%2/2,i=[],s="M",o="L",u,a,f,l;for(f=1;f<t;f++)a=e[f].shapeArgs,u=e[f-1].shapeArgs,l=[s,u.x+u.width,u.y+r,o,a.x,u.y+r],e[f-1].y<0&&(l[2]+=u.height,l[5]+=u.height),i=i.concat(l);return i},getExtremes:k,drawGraph:E.prototype.drawGraph}),l.polygon=o(l.scatter,{marker:{enabled:!1}}),c.polygon=h(c.scatter,{type:"polygon",fillGraph:!0,getSegmentPath:function(e){return E.prototype.getSegmentPath.call(this,e).concat("z")},drawGraph:E.prototype.drawGraph,drawLegendSymbol:e.LegendSymbolMixin.drawRectangle}),l.bubble=o(l.scatter,{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1},minSize:8,maxSize:"20%",states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"});var H=h(g,{haloPath:function(){return g.prototype.haloPath.call(this,this.shapeArgs.r+this.series.options.states.hover.halo.size)},ttBelow:!1});c.bubble=h(c.scatter,{type:"bubble",pointClass:H,pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],bubblePadding:!0,zoneAxis:"z",pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor"},applyOpacity:function(e){var t=this.options.marker,n=a(t.fillOpacity,.5);return e=e||t.fillColor||this.color,n!==1&&(e=C(e).setOpacity(n).get("rgba")),e},convertAttribs:function(){var e=E.prototype.convertAttribs.apply(this,arguments);return e.fill=this.applyOpacity(e.fill),e},getRadii:function(e,t,n,r){var i,s,o,u=this.zData,a=[],f=this.options.sizeBy!=="width",l;for(s=0,i=u.length;s<i;s++)l=t-e,o=l>0?(u[s]-e)/(t-e):.5,f&&o>=0&&(o=Math.sqrt(o)),a.push(S.ceil(n+o*(r-n))/2);this.radii=a},animate:function(e){var t=this.options.animation;e||(i(this.points,function(e){var n=e.graphic,r=e.shapeArgs;n&&r&&(n.attr("r",1),n.animate({r:r.r},t))}),this.animate=null)},translate:function(){var e,n=this.data,r,i,s=this.radii;c.scatter.prototype.translate.call(this),e=n.length;while(e--)r=n[e],i=s?s[e]:0,i>=this.minPxSize/2?(r.shapeType="circle",r.shapeArgs={x:r.plotX,y:r.plotY,r:i},r.dlBox={x:r.plotX-i,y:r.plotY-i,width:2*i,height:2*i}):r.shapeArgs=r.plotY=r.dlBox=t},drawLegendSymbol:function(e,t){var n=f(e.itemStyle.fontSize)/2;t.legendSymbol=this.chart.renderer.circle(n,e.baseline-n,n).attr({zIndex:3}).add(t.legendGroup),t.legendSymbol.isMarker=!0},drawPoints:c.column.prototype.drawPoints,alignDataLabel:c.column.prototype.alignDataLabel,buildKDTree:k,applyZones:k}),v.prototype.beforePadding=function(){var e=this,s=this.len,o=this.chart,u=0,l=s,c=this.isXAxis,h=c?"xData":"yData",p=this.min,d={},v=S.min(o.plotWidth,o.plotHeight),m=Number.MAX_VALUE,g=-Number.MAX_VALUE,y=this.max-p,b=s/y,w=[];i(this.series,function(t){var s=t.options,u;t.bubblePadding&&(t.visible||!o.options.chart.ignoreHiddenSeries)&&(e.allowZoomOutside=!0,w.push(t),c&&(i(["minSize","maxSize"],function(e){var t=s[e],n=/%$/.test(t);t=f(t),d[e]=n?v*t/100:t}),t.minPxSize=d.minSize,u=t.zData,u.length&&(m=a(s.zMin,S.min(m,S.max(n(u),s.displayNegative===!1?s.zThreshold:-Number.MAX_VALUE))),g=a(s.zMax,S.max(g,r(u))))))}),i(w,function(e){var t=
e[h],n=t.length,r;c&&e.getRadii(m,g,d.minSize,d.maxSize);if(y>0)while(n--)typeof t[n]=="number"&&(r=e.radii[n],u=Math.min((t[n]-p)*b-r,u),l=Math.max((t[n]-p)*b+r,l))}),w.length&&y>0&&a(this.options.min,this.userMin)===t&&a(this.options.max,this.userMax)===t&&(l-=s,b*=(s+u-l)/s,this.min+=u/b,this.max+=l/b)},function(){function r(e,t,n){e.call(this,t,n),this.chart.polar&&(this.closeSegment=function(e){var t=this.xAxis.center;e.push("L",t[0],t[1])},this.closedStacks=!0)}function s(e,t){var n=this.chart,r=this.options.animation,i=this.group,s=this.markerGroup,o=this.xAxis.center,u=n.plotLeft,a=n.plotTop,f;n.polar?n.renderer.isSVG&&(r===!0&&(r={}),t?(f={translateX:o[0]+u,translateY:o[1]+a,scaleX:.001,scaleY:.001},i.attr(f),s&&s.attr(f)):(f={translateX:u,translateY:a,scaleX:1,scaleY:1},i.animate(f,r),s&&s.animate(f,r),this.animate=null)):e.call(this,t)}var e=E.prototype,t=y.prototype,n;e.searchPointByAngle=function(e){var t=this,n=t.chart,r=t.xAxis,i=r.pane.center,s=e.chartX-i[0]-n.plotLeft,o=e.chartY-i[1]-n.plotTop;return this.searchKDTree({clientX:180+Math.atan2(s,o)*(-180/Math.PI)})},d(e,"buildKDTree",function(e){this.chart.polar&&(this.kdByAngle?this.searchPoint=this.searchPointByAngle:(this.kdDimensions=2,this.kdComparer="distR")),e.apply(this)}),e.toXY=function(e){var t,n=this.chart,r=e.plotX,i=e.plotY,s;e.rectPlotX=r,e.rectPlotY=i,t=this.xAxis.postTranslate(e.plotX,this.yAxis.len-i),e.plotX=e.polarPlotX=t.x-n.plotLeft,e.plotY=e.polarPlotY=t.y-n.plotTop,this.kdByAngle?(s=(r/Math.PI*180+this.xAxis.pane.options.startAngle)%360,s<0&&(s+=360),e.clientX=s):e.clientX=e.plotX},c.area&&d(c.area.prototype,"init",r),c.areaspline&&d(c.areaspline.prototype,"init",r),c.spline&&d(c.spline.prototype,"getPointSpline",function(e,t,n,r){var i,s=1.5,o=s+1,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x;return this.chart.polar?(u=n.plotX,a=n.plotY,f=t[r-1],l=t[r+1],this.connectEnds&&(f||(f=t[t.length-2]),l||(l=t[1])),f&&l&&(c=f.plotX,h=f.plotY,p=l.plotX,d=l.plotY,v=(s*u+c)/o,m=(s*a+h)/o,g=(s*u+p)/o,y=(s*a+d)/o,b=Math.sqrt(Math.pow(v-u,2)+Math.pow(m-a,2)),w=Math.sqrt(Math.pow(g-u,2)+Math.pow(y-a,2)),E=Math.atan2(m-a,v-u),S=Math.atan2(y-a,g-u),x=Math.PI/2+(E+S)/2,Math.abs(E-x)>Math.PI/2&&(x-=Math.PI),v=u+Math.cos(x)*b,m=a+Math.sin(x)*b,g=u+Math.cos(Math.PI+x)*w,y=a+Math.sin(Math.PI+x)*w,n.rightContX=g,n.rightContY=y),r?(i=["C",f.rightContX||f.plotX,f.rightContY||f.plotY,v||u,m||a,u,a],f.rightContX=f.rightContY=null):i=["M",u,a]):i=e.call(this,t,n,r),i}),d(e,"translate",function(e){var t=this.chart,n,r;e.call(this);if(t.polar){this.kdByAngle=t.tooltip.shared;if(!this.preventPostTranslate){n=this.points,r=n.length;while(r--)this.toXY(n[r])}}}),d(e,"getSegmentPath",function(e,t){var n=this.points;return this.chart.polar&&this.options.connectEnds!==!1&&t[t.length-1]===n[n.length-1]&&n[0].y!==null&&(this.connectEnds=!0,t=[].concat(t,[n[0]])),e.call(this,t)}),d(e,"animate",s),c.column&&(n=c.column.prototype,d(n,"animate",s),d(n,"translate",function(e){var t=this.xAxis,n=this.yAxis.len,r=t.center,i=t.startAngleRad,s=this.chart.renderer,o,u,f,l;this.preventPostTranslate=!0,e.call(this);if(t.isRadial){u=this.points,l=u.length;while(l--)f=u[l],o=f.barX+i,f.shapeType="path",f.shapeArgs={d:s.symbols.arc(r[0],r[1],n-f.plotY,null,{start:o,end:o+f.pointWidth,innerR:n-a(f.yBottom,n)})},this.toXY(f),f.tooltipPos=[f.plotX,f.plotY],f.ttBelow=f.plotY>r[1]}}),d(n,"alignDataLabel",function(t,n,r,i,s,o){if(this.chart.polar){var u=n.rectPlotX/Math.PI*180,a,f;i.align===null&&(u>20&&u<160?a="left":u>200&&u<340?a="right":a="center",i.align=a),i.verticalAlign===null&&(u<45||u>315?f="bottom":u>135&&u<225?f="top":f="middle",i.verticalAlign=f),e.alignDataLabel.call(this,n,r,i,s,o)}else t.call(this,n,r,i,s,o)})),d(t,"getCoordinates",function(e,t){var n=this.chart,r={xAxis:[],yAxis:[]};return n.polar?i(n.axes,function(e){var i=e.isXAxis,s=e.center,o=t.chartX-s[0]-n.plotLeft,u=t.chartY-s[1]-n.plotTop;r[i?"xAxis":"yAxis"].push({axis:e,value:e.translate(i?Math.PI-Math.atan2(o,u):Math.sqrt(Math.pow(o,2)+Math.pow(u,2)),!0)})}):r=e.call(this,t),r})}()}(Highcharts),function(e){var t=e.Chart,n=e.addEvent,r=e.removeEvent,i=HighchartsAdapter.fireEvent,s=e.createElement,o=e.discardElement,u=e.css,a=e.merge,f=e.each,l=e.extend,c=e.splat,h=Math,p=h.max,d=document,v=window,m=e.isTouchDevice,g="M",y="L",b="div",w="hidden",E="none",S="highcharts-",x="absolute",T="px",N,C=e.Renderer.prototype.symbols,k=e.getOptions(),L;l(k.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"}),k.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF",padding:"5px 0"},menuItemStyle:{padding:"0 10px",background:E,color:"#303030",fontSize:m?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{symbolFill:"#E0E0E0",symbolSize:14,symbolStroke:"#666",symbolStrokeWidth:3,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,theme:{fill:"white",stroke:"none"},verticalAlign:"top",width:24}},k.exporting={type:"image/png",url:"http://export.highcharts.com/",buttons:{contextButton:{menuClassName:S+"contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}},e.post=function(e,t,n){var r,i;i=s("form",a({method:"post",action:e,enctype:"multipart/form-data"},n),{display:E},d.body);for(r in t)s("input",{type:w,name:r,value:t[r]},null,i);i.submit(),o(i)},l(t.prototype,{sanitizeSVG:function(e){return e.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­").replace(/<IMG /g,"<image ").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/ id=([^" >]+)/g,'id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(e){return e.toLowerCase()})},getSVG:function(t){var n=this,r,i,u,h,p,v,m,g,y=a(n.options,t);return d.createElementNS||(d.createElementNS=function(e,t){return d.createElement(t)}),i=s(b,null,{position:x,top:"-9999em",width:n.chartWidth+T,height:n.chartHeight+T},d.body),m=n.renderTo.style.width,g=n.renderTo.style.height,p=y.exporting.sourceWidth||y.chart.width||/px$/.test(m)&&parseInt(m,10)||600,v=y.exporting.sourceHeight||y.chart.height||/px$/.test(g)&&parseInt(g,10)||400,l(y.chart,{animation:!1,renderTo:i,forExport:!0,width:p,height:v}),y.exporting.enabled=!1,delete y.data,y.series=[],f(n.series,function(e){h=a(e.options,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:e.visible}),h.isInternal||y.series.push(h)}),t&&f(["xAxis","yAxis"],function(e){f(c(t[e]),function(t,n){y[e][n]=a(y[e][n],t)})}),r=new e.Chart(y,n.callback),f(["xAxis","yAxis"],function(e){f(n[e],function(t,n){var i=r[e][n],s=t.getExtremes(),o=s.userMin,u=s.userMax;i&&(o!==N||u!==N)&&i.setExtremes(o,u,!0,!1)})}),u=r.container.innerHTML,y=null,r.destroy(),o(i),u=this.sanitizeSVG(u),u=u.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'"),u},getSVGForExport:function(e,t){var n=this.options.exporting;return this.getSVG(a({chart:{borderRadius:0}},n.chartOptions,t,{exporting:{sourceWidth:e&&e.sourceWidth||n.sourceWidth,sourceHeight:e&&e.sourceHeight||n.sourceHeight}}))},exportChart:function(t,n){var r=this.getSVGForExport(t,n);t=a(this.options.exporting,t),e.post(t.url,{filename:t.filename||"chart",type:t.type,width:t.width||0,scale:t.scale||2,svg:r},t.formAttributes)},print:function(){var e=this,t=e.container,n=[],r=t.parentNode,s=d.body,o=s.childNodes;if(e.isPrinting)return;e.isPrinting=!0,i(e,"beforePrint"),f(o,function(e,t){e.nodeType===1&&(n[t]=e.style.display,e.style.display=E)}),s.appendChild(t),v.focus(),v.print(),setTimeout(function(){r.appendChild(t),f(o,function(e,t){e.nodeType===1&&(e.style.display=n[t])}),e.isPrinting=!1,i(e,"afterPrint")},1e3)},contextMenu:function(e,t,i,o,a,c,h){var d=this,v=d.options.navigation,m=v.menuItemStyle,g=d.chartWidth,y=d.chartHeight,w="cache-"+e,S=d[w],N=p(a,c),C="3px 3px 10px #888",k,L,A,O,M=function(t){d.pointer.inClass(t.target,e)||L()};S||(d[w]=S=s(b,{className:e},{position:x,zIndex:1e3,padding:N+T},d.container),k=s(b,null,l({MozBoxShadow:C,WebkitBoxShadow:C,boxShadow:C},v.menuStyle),S),L=function(){u(S,{display:E}),h&&h.setState(0),d.openMenu=!1},n(S,"mouseleave",function(){A=setTimeout(L,500)}),n(S,"mouseenter",function(){clearTimeout(A)}),n(document,"mouseup",M),n(d,"destroy",function(){r(document,"mouseup",M)}),f(t,function(e){if(e){var t=e.separator?s("hr",null,null,k):s(b,{onmouseover:function(){u(this,v.menuItemHoverStyle)},onmouseout:function(){u(this,m)},onclick:function(){L(),e.onclick&&e.onclick.apply(d,arguments)},innerHTML:e.text||d.options.lang[e.textKey]},l({cursor:"pointer"},m),k);d.exportDivElements.push(t)}}),d.exportDivElements.push(k,S),d.exportMenuWidth=S.offsetWidth,d.exportMenuHeight=S.offsetHeight),O={display:"block"},i+d.exportMenuWidth>g?O.right=g-i-a-N+T:O.left=i-N+T,o+c+d.exportMenuHeight>y&&h.alignOptions.verticalAlign!=="top"?O.bottom=y-o-N+T:O.top=o+c-N+T,u(S,O),d.openMenu=!0},addButton:function(t){var n=this,r=n.renderer,i=a(n.options.navigation.buttonOptions,t),s=i.onclick,o=i.menuItems,u,f,c={stroke:i.symbolStroke,fill:i.symbolFill},h=i.symbolSize||12;n.btnCount||(n.btnCount=0),n.exportDivElements||(n.exportDivElements=[],n.exportSVGElements=[]);if(i.enabled===!1)return;var p=i.theme,d=p.states,v=d&&d.hover,m=d&&d.select,g;delete p.states,s?g=function(){s.apply(n,arguments)}:o&&(g=function(){n.contextMenu(f.menuClassName,o,f.translateX,f.translateY,f.width,f.height,f),f.setState(2)}),i.text&&i.symbol?p.paddingLeft=e.pick(p.paddingLeft,25):i.text||l(p,{width:i.width,height:i.height,padding:0}),f=r.button(i.text,0,0,g,p,v,m).attr({title:n.options.lang[i._titleKey],"stroke-linecap":"round"}),f.menuClassName=t.menuClassName||S+"menu-"+n.btnCount++,i.symbol&&(u=r.symbol(i.symbol,i.symbolX-h/2,i.symbolY-h/2,h,h).attr(l(c,{"stroke-width":i.symbolStrokeWidth||1,zIndex:1})).add(f)),f.add().align(l(i,{width:f.width,x:e.pick(i.x,L)}),!0,"spacingBox"),L+=(f.width+i.buttonSpacing)*(i.align==="right"?-1:1),n.exportSVGElements.push(f,u)},destroyExport:function(e){var t=e.target,n,i;for(n=0;n<t.exportSVGElements.length;n++)i=t.exportSVGElements[n],i&&(i.onclick=i.ontouchstart=null,t.exportSVGElements[n]=i.destroy());for(n=0;n<t.exportDivElements.length;n++)i=t.exportDivElements[n],r(i,"mouseleave"),t.exportDivElements[n]=i.onmouseout=i.onmouseover=i.ontouchstart=i.onclick=null,o(i)}}),C.menu=function(e,t,n,r){var i=[g,e,t+2.5,y,e+n,t+2.5,g,e,t+r/2+.5,y,e+n,t+r/2+.5,g,e,t+r-1.5,y,e+n,t+r-1.5];return i},t.prototype.callbacks.push(function(e){var t,r=e.options.exporting,i=r.buttons;L=0;if(r.enabled!==!1){for(t in i)e.addButton(i[t]);n(e,"destroy",e.destroyExport)}})}(Highcharts),function(){$(function(){var e,t,n,r;return GoldenData.charts={},$(document).on("click",".btn.download",function(){var e;e=GoldenData.charts[$(this).data("target")];if(e)return e.exportChart()}),e=function(){function e(e,t,n,r){var i,s,o,u,a,f,l,c,h,p,d;r==null&&(r=null),this.options=this.defaultOptions(),this.options.chart.renderTo=n,this.options.chart.type=t,s=$("#"+n).width(),a=$("#"+n).next().height(),this.options.chart.height=Math.min(s,a),l={showInLegend:!1,name:"数量",data:[]},d=0,i=[],p=e.choices;for(f=0,h=p.length;f<h;f++)o=p[f],c=o[0],u=o[1],l.data.push({name:c,y:u}),i.push(c),d+=u;e.sum!=null&&(d=e.sum),this.options.series.push(l),this.options.plotOptions.series.dataLabels.formatter=function(){var e;return e=Highcharts.numberFormat(this.y*100/d,1),e+" %"},this.options.xAxis.categories=i,r&&r(this.options)}return e.prototype.defaultOptions=function(){return{chart:{marginTop:36,backgroundColor:GoldenData.isMobile?"transparent":"#FFFFFF"},colors:["#73a8c7","#da6d4e","#edb055","#b1c95b","#c3aad0"],credits:{enabled:!1},title:{text:null},xAxis:{labels:{style:{fontFamily:"verdana"},useHTML:!0,formatter:function(){return"<span>"+this.value+"</span>"}}},yAxis:{min:0,labels:{enabled:!1,style:{fontFamily:"verdana"}},title:{text:null},gridLineWidth:0},exporting:{enabled:!1},tooltip:{borderRadius:0,borderColor:"#333",shadow:!1,useHTML:!0},plotOptions:{bar:{shadow:!1},pie:{dataLabels:{distance:15,style:{fontFamily:"verdana"}}},series:{pointWidth:12,pointPadding:0,groupPadding:0,borderWidth:0,colorByPoint:!0,dataLabels:{enabled:!0}}},series:[]}},e.prototype.render=function(){return GoldenData.charts[this.options.chart.renderTo]=new Highcharts.Chart(this.options)},e}(),t=function(){function t(t,n){this.chart=(new e(t,"bar",n,function(e){return e.chart.height=$("#"+n).next().height()})).render()}return t}(),n=function(){function t(t,n){this.chart=(new e(t,"column",n,function(e){e.xAxis.labels={align:"right",rotation:-45,useHTML:!1,style:{fontFamily:"verdana"},formatter:function(){return this.value.length>5?this.value.slice(0,5)+"...":this.value}},e.chart.height=$("#"+n).height();if($("#"+n).hasClass("compact"))return e.chart.marginTop=10})).render()}return t}(),r=function(){function t(t,n){this.chart=(new e(t,"pie",n,function(e){return e.plotOptions.series.dataLabels.formatter=function(){var e;return e=this.point.name.length>15?this.point.name.slice(0,15)+"...":this.point.name,e+" "+Highcharts.numberFormat(this.percentage,1)+" %"}})).render()}return t}(),GoldenData.ReportChart=function(){function e(e){var i,s,o,u,a;u=e.attr("id"),i=_.clone(e.data("report")),i.choices=_.pairs(i.choices),o=e.data("sort"),!o||(s=_.sortBy(i.choices,function(e){return o==="down"?-e[1]:e[1]}),i.choices=s),a=e.data("chart-type");switch(a){case"column":new n(i,u);break;case"pie":new r(i,u);break;default:new t(i,u)}}return e}(),GoldenData.ReportLineChart=function(){function e(e){this.options={chart:{renderTo:e.div_id,type:"line"},colors:["#73a8c7","#da6d4e","#edb055","#b1c95b","#c3aad0"],credits:{enabled:!1},title:{text:e.title},legend:{borderRadius:0},xAxis:{type:"datetime",dateTimeLabelFormats:{day:"%m-%d"}},yAxis:{title:{text:e.y_label},min:0,allowDecimals:!1},tooltip:{xDateFormat:"%Y-%m-%d",borderRadius:0,borderColor:"#333",shadow:!1,style:{lineHeight:"150%",padding:"8px"}},series:[{name:e.y_label,data:e.data,pointStart:e.start_date,pointInterval:864e5}]}}return e.prototype.render=function(){return Highcharts.setOptions({global:{useUTC:!1}}),new Highcharts.Chart(this.options)},e}(),GoldenData.AdminReportLineChart=function(){function e(e){this.options={chart:{renderTo:e.div_id},colors:["#73a8c7","#da6d4e","#edb055","#b1c95b","#c3aad0"],credits:{enabled:!1},title:{text:e.title},legend:{borderRadius:0},xAxis:{type:"datetime",dateTimeLabelFormats:{day:"%m-%d"}},yAxis:[{title:{text:e.y_label},min:0,allowDecimals:!1},{title:{text:e.daily_y_label},min:0,allowDecimals:!1,opposite:!0}],tooltip:{xDateFormat:"%Y-%m-%d",borderRadius:0,borderColor:"#333",shadow:!1,style:{padding:"8px"}},series:[{type:"line",name:e.y_label,data:e.increment_data,pointStart:e.start_date,pointInterval:864e5},{type:"column",name:e.daily_y_label,data:e.daily_data,pointStart:e.start_date,pointInterval:864e5,yAxis:1}],plotOptions:{series:{shadow:!1}}}}return e.prototype.render=function(){return Highcharts.setOptions({global:{useUTC:!1}}),new Highcharts.Chart(this.options)},e}()})}.call(this),function(){$(function(){var e;return $(document).on("click",".chart-type-toggle .btn",function(){var e;return e=$(this).parents(".field-content").find(".field_chart"),e.data("chart-type",$(this).data("chart-type")),new GoldenData.ReportChart(e)}),e=function(e,t){var n;return n=e.clone().sort(function(e,n){var r,i;return r=parseInt($(e).find(".c-value").html()),i=parseInt($(n).find(".c-value").html()),t===void 0&&(r=parseInt($(e).find(".c-value").data("index")),i=parseInt($(n).find(".c-value").data("index"))),t?i-r:r-i}),n},$(document).on("click",".data_count",function(){var t,n,r,i;r=$(this),n=$(r.closest("table").children("tbody")),t=$(r.closest(".field_data").siblings(".field_chart")),i=n.children("tr");if(r.hasClass("sort"))return r.removeClass("sort").addClass("sort-down"),n.html(e(i,!0)),t.data("sort","down"),new GoldenData.ReportChart(t);if(r.hasClass("sort-down"))return r.removeClass("sort-down").addClass("sort-up"),n.html(e(i,!1)),t.data("sort","up"),new GoldenData.ReportChart(t);if(r.hasClass("sort-up"))return r.removeClass("sort-up").addClass("sort"),n.html(e(i)),t.removeData("sort"),new GoldenData.ReportChart(t)}),GoldenData.showReport=function(){if($("#reports_container:visible").length>0&&!$("#reports_container").data("charts-shown"))return $.each($(".field_chart[data-report]"),function(e,t){return new GoldenData.ReportChart($(t))}),$("#reports_container").data("charts-shown",!0)},$(document).on("page:load ready",function(){return setTimeout(GoldenData.showReport,10)}),$(document).on("ajax:complete",".reports_page .filter-content",function(){return setTimeout(GoldenData.showReport,10)}),$(document).on("shown click",".results_nav, [data-role=navbar] a",function(){return setTimeout(GoldenData.showReport,10)})})}.call(this),function(){}.call(this),function(){$(document).on("page:load ready",function(){return $("#change_per_page").clickover({animation:!1,container:"body",class_name:"per-page-choices-container-clickover clickover",content:function(){return $("#available_per_pages").html()}})})}.call(this),function(){window.GoldenData||(window.GoldenData={}),GoldenData.ShareIt=function(){function e(){}return e.prototype.setEntry=function(e){return this.title=encodeURIComponent(e.title||document.title),this.url=encodeURIComponent((e.url||document.location).replace("https://","http://")),this.pic=encodeURIComponent(e.pic||""),this.description=encodeURIComponent(e.description||"")},e.prototype.weibo=function(){var e,t,n;return e=1843447738,t="http://v.t.sina.com.cn/share/share.php?appkey="+e+"&title="+this.title+"&url="+this.url+"&pic="+this.pic,n="width=700,height=480, top="+(screen.height-430)/2+", left="+(screen.width-440)/2+", toolbar=no, menubar=no, scrollbars=no, location=yes, resizable=1, status=no",window.open(t,"分享到微博",n)},e.prototype.qqmb=function(){var e,t;return e="http://v.t.qq.com/share/share.php?title="+this.title+"&url="+this.url+"&pic="+this.pic,t="width=600, height=480, top="+(screen.height-700)/2+", left="+(screen.width-580)/2+", toolbar=no, menubar=no, scrollbars=no, location=yes, resizable=no, status=no",window.open(e,"转播到腾讯微博",t)},e.prototype.qzone=function(){var e,t,n;return e=this.title+" - "+this.description,t="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?title="+e+"&url="+this.url,n="width=700, height=600, top="+(screen.height-700)/2+", left="+(screen.width-600)/2+", toolbar=no, menubar=no, scrollbars=no, location=yes, resizable=no, status=no",window.open(t,"分享到QZONE",n)},e.prototype.renren=function(){var e,t;return e="http://widget.renren.com/dialog/share?title="+this.title+"&resourceUrl="+this.url+"&images="+this.pic+"&description="+this.description,t="width=700, height=600, top="+(screen.height-700)/2+", left="+(screen.width-600)/2+", toolbar=no, menubar=no, scrollbars=no, location=yes, resizable=no, status=no",window.open(e,"分享到人人",t)},e.prototype.mingdao=function(){var e,t,n;return e="76AE474AF1B8DC75A387FEC4EECF4CAB",t="http://www.mingdao.com/share?title="+this.title+"&url="+this.url+"&pic="+this.pic+"&appkey="+e,n="width=700, height=600, top="+(screen.height-700)/2+", left="+(screen.width-600)/2+", toolbar=no, menubar=no, scrollbars=no, location=yes, resizable=no, status=no",window.open(t,"分享到明道",n)},e}(),window.shareIt=new GoldenData.ShareIt}.call(this),function(){$(function(){return $(document).on("click",".success-social-sharing .share-weixin",function(){if($("#weixin_qrcode_share_modal").length>0)return $("#weixin_qrcode_share_modal").modal("show")})})}.call(this),function(){$(function(){var e;return e=function(e){return $(".table-content table thead tr th:not(.gd-hide)").length===1&&e.hasClass("selected")},$(document).on("click",".filter-content .filter [data-field]",function(t){var n,r;return t.stopPropagation(),n=$(this).data("field"),e($(this))?!1:($("#entries_table").find("th[data-field="+n+"], td[data-field="+n+"]").toggleClass("gd-hide"),$(".filter-content").find("a[data-field="+n+"]").toggleClass("selected"),$(this).blur(),r=$(".filter a.selected").map(function(){return $(this).data("field")}).get(),$.cookie("preferred_columns",r,{path:$("#entries_table .filter-data").data("base-url")}))}),$(".with_tooltip").tooltip({animation:!1}),$(document).on("click","#entries_table tbody tr[data-url], #entries_table thead [data-url]",function(e){var t;t=$(this).data("url");if(t)return Turbolinks.visit(t)}),url("#")==="reports"&&$(".results_content .title .results_nav a").click(),$(document).on("click","#entries .search a",function(e){var t,n,r,i;if($(this).hasClass("disabled"))return;return n=GoldenData.extractExistedQueryParams(),r=$.trim($("input.search-content").val()),r?n.query=r:delete n.query,t=$(e.target).data("url"),i=$.isEmptyObject(n)?t:t+"?"+$.param(n),Turbolinks.visit(i)}),$(document).on("keydown","input.search-content",function(e){if(e.keyCode===13)return $(this).closest(".search").find(".fa-search").click()}),$(document).on("page:load ready",function(){return $("#result_view_password_modal").length>0&&$("#result_view_password_modal").modal("show"),$(".search-condition > form").on("submit",function(e){var t;return e.preventDefault(),t=$.param($(this).serializeArray()),Turbolinks.visit($(this).attr("action")+"?"+t)}),$(".search-hint + .search-form").slideUp()}),$(document).on("click",".search-hint",function(){return $(".search-form").slideToggle(),$(this).find(".expand-criteria").toggleClass("fa-chevron-down fa-chevron-up")})})}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;window.GoldenData||(window.GoldenData={}),$(function(){var t,n,r;return t=function(){function e(e){this.$container=e,this.mobile=$("body").hasClass("mobile"),this.initialMap()}return e.prototype._noOverrideError=function(e){throw"can't find "+e+" in subclass"},e.prototype._initMap=function(){return this._noOverrideError("_initMap")},e.prototype.initialMap=function(){return this.geoMapDom=this.$container.find(".map-container")[0],this.coordsList=$(this.geoMapDom).data("coordinates"),this.coordsList.length===0?$(this.geoMapDom).closest(".geo-map-container").html("<div class='no-geo-data'>"+l("%no_geo_data")+"</div>"):(this.fieldApiCode=$(this.geoMapDom).data("api-code"),this.urlPrefix=$(this.geoMapDom).data("url-prefix"),this._initMap(),this.initialExistedPositions())},e.prototype._initIcons=function(){return this._noOverrideError("_initIcons")},e.prototype._addMarker=function(e,t,n,r,i){return this._noOverrideError("_addMarker")},e.prototype._onMarkersAdded=function(){return this._noOverrideError("_onMarkersAdded")},e.prototype.initialExistedPositions=function(){return this._initIcons(),_.each(this.coordsList,function(e){return function(t,n){var r,i;return r=t.latitude,i=t.longitude,e._addMarker(parseFloat(r),parseFloat(i),t.address,t.entry_id,n)}}(this)),this._onMarkersAdded()},e.prototype._updateMarker=function(e){return this._noOverrideError("_updateMarker")},e.prototype.selectMarker=function(e,t){var n;this._updateMarker(e);if(!this.mobile)return n=this.urlPrefix+"/"+t+"/entry_for_geo_report",$.get(n,{id:t,field_api_code:this.fieldApiCode},function(e){return function(t){return e.$container.find(".geo-entry-container").html(t),e.$container.find(".selected-geo-entry").scrollTop(0)}}(this))},e}(),n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype._initMap=function(){return this.mapObj=new AMap.Map(this.geoMapDom),this.mapObj.plugin(["AMap.ToolBar"],function(e){return function(){var t;return t=new AMap.ToolBar({direction:!1,offset:e.mobile?new AMap.Pixel(2,65):new AMap.Pixel(-10,5)}),e.mapObj.addControl(t)}}(this))},n.prototype._initIcons=function(){var e;return e=new AMap.Size(22,22),this.defaultIcon=new AMap.Icon({size:e,imageSize:e,image:GoldenData.mapMarkerDefault}),this.selectedIcon=new AMap.Icon({size:e,imageSize:e,image:GoldenData.mapMarkerSelected})},n.prototype._addMarker=function(e,t,n,r,i){var s,o;o=new AMap.LngLat(t,e),s=new AMap.Marker({icon:this.defaultIcon,position:o,title:n,animation:"AMAP_ANIMATION_DROP"}),s.setMap(this.mapObj);if(this.fieldApiCode!=null&&this.urlPrefix!=null){AMap.event.addListener(s,"click",function(e){return function(){return e.selectMarker(s,r)}}(this));if(i===0)return this.selectMarker(s,r)}},n.prototype._updateMarker=function(e){return!this.selectedMarker||this.selectedMarker.setIcon(this.defaultIcon),e.setIcon(this.selectedIcon),e.setzIndex(101),this.selectedMarker&&this.selectedMarker.setzIndex(100),this.selectedMarker=e,this.$container.find(".selected-geo-address").text(this.selectedMarker.getTitle())},n.prototype._onMarkersAdded=function(){return this.mapObj.setFitView()},n}(t),r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype._initMap=function(){var e;return e={zoom:4,mapTypeId:google.maps.MapTypeId.ROADMAP,streetViewControl:!1,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_TOP}},this.mapObj=new google.maps.Map(this.geoMapDom,e)},n.prototype._initIcons=function(){return this.defaultIcon=new google.maps.MarkerImage(GoldenData.mapMarkerDefault,null,null,null,new google.maps.Size(22,22)),this.selectedIcon=new google.maps.MarkerImage(GoldenData.mapMarkerSelected,null,null,null,new google.maps.Size(22,22)),this.bounds=new google.maps.LatLngBounds},n.prototype._addMarker=function(e,t,n,r,i){var s,o;o=new google.maps.LatLng(e,t),s=new google.maps.Marker({position:o,map:this.mapObj,animation:google.maps.Animation.Drop,title:n,icon:this.defaultIcon}),this.bounds.extend(o);if(this.fieldApiCode!=null&&this.urlPrefix!=null){google.maps.event.addListener(s,"click",function(e){return function(){return e.selectMarker(s,r)}}(this));if(i===0)return this.selectMarker(s,r)}},n.prototype._updateMarker=function(e){return!this.selectedMarker||this.selectedMarker.setIcon(this.defaultIcon),e.setIcon(this.selectedIcon),e.setZIndex(google.maps.Marker.MAX_ZINDEX+1),this.selectedMarker&&this.selectedMarker.setZIndex(google.maps.Marker.MAX_ZINDEX),this.selectedMarker=e,this.$container.find(".selected-geo-address").text(this.selectedMarker.getTitle())},n.prototype._onMarkersAdded=function(){return this.mapObj.fitBounds(this.bounds)},n}(t),GoldenData.initGeoReportView=function(e){var t,i;return e==null&&(e=!1),t=function(){var t,i,s,o,u;o=$(".geo-reports .geo-map-container"),u=[];for(i=0,s=o.length;i<s;i++)t=o[i],u.push(new(e?r:n)($(t)));return u},i=$(".results_content .title .results_nav"),$("body").hasClass("mobile")&&(i=$('.mobile [data-role="navbar"] .results_nav')),i.length>0&&!i.hasClass("active")?i.find("a").click(function(){return setTimeout(t,10)}):t()}})}.call(this),function(){$(function(){return $(document).on("page:load ready",function(){if($.browser.msie&&parseInt($.browser.version,10)<10&&$(".goods-warning").length===0){$("body").prepend($('<div class="browser-version-warning" style="text-align: center;background:#F0D9D9;color:#A9553E;padding: 10px 0;border-bottom: 1px solid #E9C7C7;">您使用的浏览器版本较低，请升级到IE10或使用<a href="http://rj.baidu.com/soft/detail/14744.html" target="_blank">谷歌浏览器</a>获得更佳体验。</div>')),$(".browser-version-warning").css("margin-bottom",$("body").css("padding-top")),$("body").css("padding-top","0");if($("header.navbar.home-page").length>0)return $("header.navbar.home-page").css("top",$(".browser-version-warning").outerHeight())}})})}.call(this),function(){$(document).on("ready",function(){if(typeof console=="undefined"||console===null||window.location.href.indexOf("jinshuju.net/f/")!==-1&&!$(".powered-by").is(":visible"))return;return console.info("许多人，在你见到之前已翻滚百遍千遍，如同面前混淆后的代码，你看到，却看不见。\n 加入我们，了解最真实的小金。https://jinshuju.net/f/UwKHHq?x_field_1=console")})}.call(this),function(){$(function(){return $(".mail-auto-complete").mailAutoComplete({focusClass:"gd-mail-auto-complete-focus-box",listClass:"gd-mail-auto-complete-list-default-box",markCalss:"gd-mail-auto-complete-mark-box",blurColor:"#333",boxClass:"gd-mail-auto-complete-list-box"})})}.call(this),function(){window.GoldenData||(window.GoldenData={})}.call(this);